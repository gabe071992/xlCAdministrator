var oR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var OY=oR((BY,Gl)=>{function aR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ts=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W1={exports:{}},rp={},Q1={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.element"),lR=Symbol.for("react.portal"),cR=Symbol.for("react.fragment"),uR=Symbol.for("react.strict_mode"),dR=Symbol.for("react.profiler"),hR=Symbol.for("react.provider"),fR=Symbol.for("react.context"),pR=Symbol.for("react.forward_ref"),mR=Symbol.for("react.suspense"),gR=Symbol.for("react.memo"),yR=Symbol.for("react.lazy"),Xw=Symbol.iterator;function vR(t){return t===null||typeof t!="object"?null:(t=Xw&&t[Xw]||t["@@iterator"],typeof t=="function"?t:null)}var K1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y1=Object.assign,J1={};function Ya(t,e,n){this.props=t,this.context=e,this.refs=J1,this.updater=n||K1}Ya.prototype.isReactComponent={};Ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Z1(){}Z1.prototype=Ya.prototype;function $y(t,e,n){this.props=t,this.context=e,this.refs=J1,this.updater=n||K1}var zy=$y.prototype=new Z1;zy.constructor=$y;Y1(zy,Ya.prototype);zy.isPureReactComponent=!0;var ex=Array.isArray,X1=Object.prototype.hasOwnProperty,qy={current:null},eA={key:!0,ref:!0,__self:!0,__source:!0};function tA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)X1.call(e,r)&&!eA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xu,type:t,key:s,ref:o,props:i,_owner:qy.current}}function _R(t,e){return{$$typeof:xu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vy(t){return typeof t=="object"&&t!==null&&t.$$typeof===xu}function wR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tx=/\/+/g;function vm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wR(""+t.key):e.toString(36)}function Sd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xu:case lR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+vm(o,0):r,ex(i)?(n="",t!=null&&(n=t.replace(tx,"$&/")+"/"),Sd(i,e,n,"",function(c){return c})):i!=null&&(Vy(i)&&(i=_R(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(tx,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ex(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+vm(s,a);o+=Sd(s,e,n,l,i)}else if(l=vR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+vm(s,a++),o+=Sd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zu(t,e,n){if(t==null)return t;var r=[],i=0;return Sd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function xR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},Id={transition:null},bR={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Id,ReactCurrentOwner:qy};function nA(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Zu,forEach:function(t,e,n){Zu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zu(t,function(){e++}),e},toArray:function(t){return Zu(t,function(e){return e})||[]},only:function(t){if(!Vy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Ya;me.Fragment=cR;me.Profiler=dR;me.PureComponent=$y;me.StrictMode=uR;me.Suspense=mR;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bR;me.act=nA;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Y1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=qy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)X1.call(e,l)&&!eA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:xu,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:fR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hR,_context:t},t.Consumer=t};me.createElement=tA;me.createFactory=function(t){var e=tA.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:pR,render:t}};me.isValidElement=Vy;me.lazy=function(t){return{$$typeof:yR,_payload:{_status:-1,_result:t},_init:xR}};me.memo=function(t,e){return{$$typeof:gR,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Id.transition;Id.transition={};try{t()}finally{Id.transition=e}};me.unstable_act=nA;me.useCallback=function(t,e){return Gt.current.useCallback(t,e)};me.useContext=function(t){return Gt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Gt.current.useEffect(t,e)};me.useId=function(){return Gt.current.useId()};me.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Gt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};me.useRef=function(t){return Gt.current.useRef(t)};me.useState=function(t){return Gt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Gt.current.useTransition()};me.version="18.3.1";Q1.exports=me;var S=Q1.exports;const kt=wu(S),ER=aR({__proto__:null,default:kt},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AR=S,SR=Symbol.for("react.element"),IR=Symbol.for("react.fragment"),TR=Object.prototype.hasOwnProperty,CR=AR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kR={key:!0,ref:!0,__self:!0,__source:!0};function rA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)TR.call(e,r)&&!kR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SR,type:t,key:s,ref:o,props:i,_owner:CR.current}}rp.Fragment=IR;rp.jsx=rA;rp.jsxs=rA;W1.exports=rp;var h=W1.exports,iA={exports:{}},yn={},sA={exports:{}},oA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,R){var O=P.length;P.push(R);e:for(;0<O;){var Q=O-1>>>1,se=P[Q];if(0<i(se,R))P[Q]=R,P[O]=se,O=Q;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var R=P[0],O=P.pop();if(O!==R){P[0]=O;e:for(var Q=0,se=P.length,Et=se>>>1;Q<Et;){var pe=2*(Q+1)-1,tt=P[pe],an=pe+1,ln=P[an];if(0>i(tt,O))an<se&&0>i(ln,tt)?(P[Q]=ln,P[an]=O,Q=an):(P[Q]=tt,P[pe]=O,Q=pe);else if(an<se&&0>i(ln,O))P[Q]=ln,P[an]=O,Q=an;else break e}}return R}function i(P,R){var O=P.sortIndex-R.sortIndex;return O!==0?O:P.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(P){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=P)r(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(c)}}function b(P){if(v=!1,_(P),!y)if(n(l)!==null)y=!0,I(A);else{var R=n(c);R!==null&&D(b,R.startTime-P)}}function A(P,R){y=!1,v&&(v=!1,g(E),E=-1),p=!0;var O=f;try{for(_(R),d=n(l);d!==null&&(!(d.expirationTime>R)||P&&!B());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var se=Q(d.expirationTime<=R);R=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&r(l),_(R)}else r(l);d=n(l)}if(d!==null)var Et=!0;else{var pe=n(c);pe!==null&&D(b,pe.startTime-R),Et=!1}return Et}finally{d=null,f=O,p=!1}}var T=!1,k=null,E=-1,U=5,C=-1;function B(){return!(t.unstable_now()-C<U)}function H(){if(k!==null){var P=t.unstable_now();C=P;var R=!0;try{R=k(!0,P)}finally{R?W():(T=!1,k=null)}}else T=!1}var W;if(typeof m=="function")W=function(){m(H)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,x=ge.port2;ge.port1.onmessage=H,W=function(){x.postMessage(null)}}else W=function(){w(H,0)};function I(P){k=P,T||(T=!0,W())}function D(P,R){E=w(function(){P(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,I(A))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var O=f;f=R;try{return P()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,R){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var O=f;f=P;try{return R()}finally{f=O}},t.unstable_scheduleCallback=function(P,R,O){var Q=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Q+O:Q):O=Q,P){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=O+se,P={id:u++,callback:R,priorityLevel:P,startTime:O,expirationTime:se,sortIndex:-1},O>Q?(P.sortIndex=O,e(c,P),n(l)===null&&P===n(c)&&(v?(g(E),E=-1):v=!0,D(b,O-Q))):(P.sortIndex=se,e(l,P),y||p||(y=!0,I(A))),P},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(P){var R=f;return function(){var O=f;f=R;try{return P.apply(this,arguments)}finally{f=O}}}})(oA);sA.exports=oA;var NR=sA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PR=S,pn=NR;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aA=new Set,gc={};function po(t,e){pa(t,e),pa(t+"Capture",e)}function pa(t,e){for(gc[t]=e,t=0;t<e.length;t++)aA.add(e[t])}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kg=Object.prototype.hasOwnProperty,RR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nx={},rx={};function OR(t){return kg.call(rx,t)?!0:kg.call(nx,t)?!1:RR.test(t)?rx[t]=!0:(nx[t]=!0,!1)}function jR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MR(t,e,n,r){if(e===null||typeof e>"u"||jR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new Wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new Wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new Wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new Wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new Wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new Wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new Wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new Wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new Wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gy=/[\-:]([a-z])/g;function Wy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gy,Wy);xt[e]=new Wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gy,Wy);xt[e]=new Wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gy,Wy);xt[e]=new Wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new Wt(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new Wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qy(t,e,n,r){var i=xt.hasOwnProperty(e)?xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MR(e,n,i,r)&&(n=null),r||i===null?OR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var oi=PR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xu=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),Ky=Symbol.for("react.strict_mode"),Ng=Symbol.for("react.profiler"),lA=Symbol.for("react.provider"),cA=Symbol.for("react.context"),Yy=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),Rg=Symbol.for("react.suspense_list"),Jy=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),uA=Symbol.for("react.offscreen"),ix=Symbol.iterator;function yl(t){return t===null||typeof t!="object"?null:(t=ix&&t[ix]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,_m;function Dl(t){if(_m===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_m=e&&e[1]||""}return`
`+_m+t}var wm=!1;function xm(t,e){if(!t||wm)return"";wm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{wm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Dl(t):""}function DR(t){switch(t.tag){case 5:return Dl(t.type);case 16:return Dl("Lazy");case 13:return Dl("Suspense");case 19:return Dl("SuspenseList");case 0:case 2:case 15:return t=xm(t.type,!1),t;case 11:return t=xm(t.type.render,!1),t;case 1:return t=xm(t.type,!0),t;default:return""}}function Og(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fo:return"Fragment";case Bo:return"Portal";case Ng:return"Profiler";case Ky:return"StrictMode";case Pg:return"Suspense";case Rg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cA:return(t.displayName||"Context")+".Consumer";case lA:return(t._context.displayName||"Context")+".Provider";case Yy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jy:return e=t.displayName||null,e!==null?e:Og(t.type)||"Memo";case vi:e=t._payload,t=t._init;try{return Og(t(e))}catch{}}return null}function LR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Og(e);case 8:return e===Ky?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BR(t){var e=dA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ed(t){t._valueTracker||(t._valueTracker=BR(t))}function hA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jg(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fA(t,e){e=e.checked,e!=null&&Qy(t,"checked",e,!1)}function Mg(t,e){fA(t,e);var n=Zi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dg(t,e.type,Zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ox(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dg(t,e,n){(e!=="number"||nh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ll=Array.isArray;function ea(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ax(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(Ll(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zi(n)}}function pA(t,e){var n=Zi(e.value),r=Zi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var td,gA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FR=["Webkit","ms","Moz","O"];Object.keys(Wl).forEach(function(t){FR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wl[e]=Wl[t]})});function yA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wl.hasOwnProperty(t)&&Wl[t]?(""+e).trim():e+"px"}function vA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var UR=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fg(t,e){if(e){if(UR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function Ug(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=null;function Zy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $g=null,ta=null,na=null;function cx(t){if(t=Au(t)){if(typeof $g!="function")throw Error(L(280));var e=t.stateNode;e&&(e=lp(e),$g(t.stateNode,t.type,e))}}function _A(t){ta?na?na.push(t):na=[t]:ta=t}function wA(){if(ta){var t=ta,e=na;if(na=ta=null,cx(t),e)for(t=0;t<e.length;t++)cx(e[t])}}function xA(t,e){return t(e)}function bA(){}var bm=!1;function EA(t,e,n){if(bm)return t(e,n);bm=!0;try{return xA(t,e,n)}finally{bm=!1,(ta!==null||na!==null)&&(bA(),wA())}}function vc(t,e){var n=t.stateNode;if(n===null)return null;var r=lp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var zg=!1;if(Qr)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){zg=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{zg=!1}function HR(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ql=!1,rh=null,ih=!1,qg=null,$R={onError:function(t){Ql=!0,rh=t}};function zR(t,e,n,r,i,s,o,a,l){Ql=!1,rh=null,HR.apply($R,arguments)}function qR(t,e,n,r,i,s,o,a,l){if(zR.apply(this,arguments),Ql){if(Ql){var c=rh;Ql=!1,rh=null}else throw Error(L(198));ih||(ih=!0,qg=c)}}function mo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function AA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ux(t){if(mo(t)!==t)throw Error(L(188))}function VR(t){var e=t.alternate;if(!e){if(e=mo(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ux(i),t;if(s===r)return ux(i),e;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function SA(t){return t=VR(t),t!==null?IA(t):null}function IA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IA(t);if(e!==null)return e;t=t.sibling}return null}var TA=pn.unstable_scheduleCallback,dx=pn.unstable_cancelCallback,GR=pn.unstable_shouldYield,WR=pn.unstable_requestPaint,Je=pn.unstable_now,QR=pn.unstable_getCurrentPriorityLevel,Xy=pn.unstable_ImmediatePriority,CA=pn.unstable_UserBlockingPriority,sh=pn.unstable_NormalPriority,KR=pn.unstable_LowPriority,kA=pn.unstable_IdlePriority,ip=null,ur=null;function YR(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(ip,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:XR,JR=Math.log,ZR=Math.LN2;function XR(t){return t>>>=0,t===0?32:31-(JR(t)/ZR|0)|0}var nd=64,rd=4194304;function Bl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Bl(a):(s&=o,s!==0&&(r=Bl(s)))}else o=n&~i,o!==0?r=Bl(o):s!==0&&(r=Bl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$n(e),i=1<<n,r|=t[n],e&=~i;return r}function e2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-$n(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=e2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Vg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NA(){var t=nd;return nd<<=1,!(nd&4194240)&&(nd=64),t}function Em(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function n2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ev(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function PA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RA,tv,OA,jA,MA,Gg=!1,id=[],ji=null,Mi=null,Di=null,_c=new Map,wc=new Map,xi=[],r2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hx(t,e){switch(t){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":_c.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(e.pointerId)}}function _l(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Au(e),e!==null&&tv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function i2(t,e,n,r,i){switch(e){case"focusin":return ji=_l(ji,t,e,n,r,i),!0;case"dragenter":return Mi=_l(Mi,t,e,n,r,i),!0;case"mouseover":return Di=_l(Di,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _c.set(s,_l(_c.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wc.set(s,_l(wc.get(s)||null,t,e,n,r,i)),!0}return!1}function DA(t){var e=Cs(t.target);if(e!==null){var n=mo(e);if(n!==null){if(e=n.tag,e===13){if(e=AA(n),e!==null){t.blockedOn=e,MA(t.priority,function(){OA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Td(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hg=r,n.target.dispatchEvent(r),Hg=null}else return e=Au(n),e!==null&&tv(e),t.blockedOn=n,!1;e.shift()}return!0}function fx(t,e,n){Td(t)&&n.delete(e)}function s2(){Gg=!1,ji!==null&&Td(ji)&&(ji=null),Mi!==null&&Td(Mi)&&(Mi=null),Di!==null&&Td(Di)&&(Di=null),_c.forEach(fx),wc.forEach(fx)}function wl(t,e){t.blockedOn===e&&(t.blockedOn=null,Gg||(Gg=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,s2)))}function xc(t){function e(i){return wl(i,t)}if(0<id.length){wl(id[0],t);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ji!==null&&wl(ji,t),Mi!==null&&wl(Mi,t),Di!==null&&wl(Di,t),_c.forEach(e),wc.forEach(e),n=0;n<xi.length;n++)r=xi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xi.length&&(n=xi[0],n.blockedOn===null);)DA(n),n.blockedOn===null&&xi.shift()}var ra=oi.ReactCurrentBatchConfig,ah=!0;function o2(t,e,n,r){var i=Te,s=ra.transition;ra.transition=null;try{Te=1,nv(t,e,n,r)}finally{Te=i,ra.transition=s}}function a2(t,e,n,r){var i=Te,s=ra.transition;ra.transition=null;try{Te=4,nv(t,e,n,r)}finally{Te=i,ra.transition=s}}function nv(t,e,n,r){if(ah){var i=Wg(t,e,n,r);if(i===null)Om(t,e,r,lh,n),hx(t,r);else if(i2(i,t,e,n,r))r.stopPropagation();else if(hx(t,r),e&4&&-1<r2.indexOf(t)){for(;i!==null;){var s=Au(i);if(s!==null&&RA(s),s=Wg(t,e,n,r),s===null&&Om(t,e,r,lh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Om(t,e,r,null,n)}}var lh=null;function Wg(t,e,n,r){if(lh=null,t=Zy(r),t=Cs(t),t!==null)if(e=mo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=AA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lh=t,null}function LA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QR()){case Xy:return 1;case CA:return 4;case sh:case KR:return 16;case kA:return 536870912;default:return 16}default:return 16}}var Ci=null,rv=null,Cd=null;function BA(){if(Cd)return Cd;var t,e=rv,n=e.length,r,i="value"in Ci?Ci.value:Ci.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Cd=i.slice(t,1<r?1-r:void 0)}function kd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sd(){return!0}function px(){return!1}function vn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sd:px,this.isPropagationStopped=px,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),e}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iv=vn(Ja),Eu=Ge({},Ja,{view:0,detail:0}),l2=vn(Eu),Am,Sm,xl,sp=Ge({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xl&&(xl&&t.type==="mousemove"?(Am=t.screenX-xl.screenX,Sm=t.screenY-xl.screenY):Sm=Am=0,xl=t),Am)},movementY:function(t){return"movementY"in t?t.movementY:Sm}}),mx=vn(sp),c2=Ge({},sp,{dataTransfer:0}),u2=vn(c2),d2=Ge({},Eu,{relatedTarget:0}),Im=vn(d2),h2=Ge({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),f2=vn(h2),p2=Ge({},Ja,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),m2=vn(p2),g2=Ge({},Ja,{data:0}),gx=vn(g2),y2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_2[t])?!!e[t]:!1}function sv(){return w2}var x2=Ge({},Eu,{key:function(t){if(t.key){var e=y2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sv,charCode:function(t){return t.type==="keypress"?kd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),b2=vn(x2),E2=Ge({},sp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yx=vn(E2),A2=Ge({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sv}),S2=vn(A2),I2=Ge({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),T2=vn(I2),C2=Ge({},sp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),k2=vn(C2),N2=[9,13,27,32],ov=Qr&&"CompositionEvent"in window,Kl=null;Qr&&"documentMode"in document&&(Kl=document.documentMode);var P2=Qr&&"TextEvent"in window&&!Kl,FA=Qr&&(!ov||Kl&&8<Kl&&11>=Kl),vx=" ",_x=!1;function UA(t,e){switch(t){case"keyup":return N2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Uo=!1;function R2(t,e){switch(t){case"compositionend":return HA(e);case"keypress":return e.which!==32?null:(_x=!0,vx);case"textInput":return t=e.data,t===vx&&_x?null:t;default:return null}}function O2(t,e){if(Uo)return t==="compositionend"||!ov&&UA(t,e)?(t=BA(),Cd=rv=Ci=null,Uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FA&&e.locale!=="ko"?null:e.data;default:return null}}var j2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!j2[t.type]:e==="textarea"}function $A(t,e,n,r){_A(r),e=ch(e,"onChange"),0<e.length&&(n=new iv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yl=null,bc=null;function M2(t){XA(t,0)}function op(t){var e=zo(t);if(hA(e))return t}function D2(t,e){if(t==="change")return e}var zA=!1;if(Qr){var Tm;if(Qr){var Cm="oninput"in document;if(!Cm){var xx=document.createElement("div");xx.setAttribute("oninput","return;"),Cm=typeof xx.oninput=="function"}Tm=Cm}else Tm=!1;zA=Tm&&(!document.documentMode||9<document.documentMode)}function bx(){Yl&&(Yl.detachEvent("onpropertychange",qA),bc=Yl=null)}function qA(t){if(t.propertyName==="value"&&op(bc)){var e=[];$A(e,bc,t,Zy(t)),EA(M2,e)}}function L2(t,e,n){t==="focusin"?(bx(),Yl=e,bc=n,Yl.attachEvent("onpropertychange",qA)):t==="focusout"&&bx()}function B2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return op(bc)}function F2(t,e){if(t==="click")return op(e)}function U2(t,e){if(t==="input"||t==="change")return op(e)}function H2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:H2;function Ec(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kg.call(e,i)||!Wn(t[i],e[i]))return!1}return!0}function Ex(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ax(t,e){var n=Ex(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ex(n)}}function VA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GA(){for(var t=window,e=nh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nh(t.document)}return e}function av(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $2(t){var e=GA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VA(n.ownerDocument.documentElement,n)){if(r!==null&&av(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ax(n,s);var o=Ax(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var z2=Qr&&"documentMode"in document&&11>=document.documentMode,Ho=null,Qg=null,Jl=null,Kg=!1;function Sx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kg||Ho==null||Ho!==nh(r)||(r=Ho,"selectionStart"in r&&av(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jl&&Ec(Jl,r)||(Jl=r,r=ch(Qg,"onSelect"),0<r.length&&(e=new iv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ho)))}function od(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $o={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},km={},WA={};Qr&&(WA=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function ap(t){if(km[t])return km[t];if(!$o[t])return t;var e=$o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WA)return km[t]=e[n];return t}var QA=ap("animationend"),KA=ap("animationiteration"),YA=ap("animationstart"),JA=ap("transitionend"),ZA=new Map,Ix="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(t,e){ZA.set(t,e),po(e,[t])}for(var Nm=0;Nm<Ix.length;Nm++){var Pm=Ix[Nm],q2=Pm.toLowerCase(),V2=Pm[0].toUpperCase()+Pm.slice(1);cs(q2,"on"+V2)}cs(QA,"onAnimationEnd");cs(KA,"onAnimationIteration");cs(YA,"onAnimationStart");cs("dblclick","onDoubleClick");cs("focusin","onFocus");cs("focusout","onBlur");cs(JA,"onTransitionEnd");pa("onMouseEnter",["mouseout","mouseover"]);pa("onMouseLeave",["mouseout","mouseover"]);pa("onPointerEnter",["pointerout","pointerover"]);pa("onPointerLeave",["pointerout","pointerover"]);po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));po("onBeforeInput",["compositionend","keypress","textInput","paste"]);po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function Tx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qR(r,e,void 0,t),t.currentTarget=null}function XA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Tx(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Tx(i,a,c),s=l}}}if(ih)throw t=qg,ih=!1,qg=null,t}function De(t,e){var n=e[e0];n===void 0&&(n=e[e0]=new Set);var r=t+"__bubble";n.has(r)||(eS(e,t,2,!1),n.add(r))}function Rm(t,e,n){var r=0;e&&(r|=4),eS(n,t,r,e)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Ac(t){if(!t[ad]){t[ad]=!0,aA.forEach(function(n){n!=="selectionchange"&&(G2.has(n)||Rm(n,!1,t),Rm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ad]||(e[ad]=!0,Rm("selectionchange",!1,e))}}function eS(t,e,n,r){switch(LA(e)){case 1:var i=o2;break;case 4:i=a2;break;default:i=nv}n=i.bind(null,e,n,t),i=void 0,!zg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Om(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Cs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}EA(function(){var c=s,u=Zy(n),d=[];e:{var f=ZA.get(t);if(f!==void 0){var p=iv,y=t;switch(t){case"keypress":if(kd(n)===0)break e;case"keydown":case"keyup":p=b2;break;case"focusin":y="focus",p=Im;break;case"focusout":y="blur",p=Im;break;case"beforeblur":case"afterblur":p=Im;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=u2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=S2;break;case QA:case KA:case YA:p=f2;break;case JA:p=T2;break;case"scroll":p=l2;break;case"wheel":p=k2;break;case"copy":case"cut":case"paste":p=m2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yx}var v=(e&4)!==0,w=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var m=c,_;m!==null;){_=m;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,g!==null&&(b=vc(m,g),b!=null&&v.push(Sc(m,b,_)))),w)break;m=m.return}0<v.length&&(f=new p(f,y,null,n,u),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Hg&&(y=n.relatedTarget||n.fromElement)&&(Cs(y)||y[Kr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Cs(y):null,y!==null&&(w=mo(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(v=mx,b="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=yx,b="onPointerLeave",g="onPointerEnter",m="pointer"),w=p==null?f:zo(p),_=y==null?f:zo(y),f=new v(b,m+"leave",p,n,u),f.target=w,f.relatedTarget=_,b=null,Cs(u)===c&&(v=new v(g,m+"enter",y,n,u),v.target=_,v.relatedTarget=w,b=v),w=b,p&&y)t:{for(v=p,g=y,m=0,_=v;_;_=To(_))m++;for(_=0,b=g;b;b=To(b))_++;for(;0<m-_;)v=To(v),m--;for(;0<_-m;)g=To(g),_--;for(;m--;){if(v===g||g!==null&&v===g.alternate)break t;v=To(v),g=To(g)}v=null}else v=null;p!==null&&Cx(d,f,p,v,!1),y!==null&&w!==null&&Cx(d,w,y,v,!0)}}e:{if(f=c?zo(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var A=D2;else if(wx(f))if(zA)A=U2;else{A=B2;var T=L2}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=F2);if(A&&(A=A(t,c))){$A(d,A,n,u);break e}T&&T(t,f,c),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Dg(f,"number",f.value)}switch(T=c?zo(c):window,t){case"focusin":(wx(T)||T.contentEditable==="true")&&(Ho=T,Qg=c,Jl=null);break;case"focusout":Jl=Qg=Ho=null;break;case"mousedown":Kg=!0;break;case"contextmenu":case"mouseup":case"dragend":Kg=!1,Sx(d,n,u);break;case"selectionchange":if(z2)break;case"keydown":case"keyup":Sx(d,n,u)}var k;if(ov)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Uo?UA(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(FA&&n.locale!=="ko"&&(Uo||E!=="onCompositionStart"?E==="onCompositionEnd"&&Uo&&(k=BA()):(Ci=u,rv="value"in Ci?Ci.value:Ci.textContent,Uo=!0)),T=ch(c,E),0<T.length&&(E=new gx(E,t,null,n,u),d.push({event:E,listeners:T}),k?E.data=k:(k=HA(n),k!==null&&(E.data=k)))),(k=P2?R2(t,n):O2(t,n))&&(c=ch(c,"onBeforeInput"),0<c.length&&(u=new gx("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}XA(d,e)})}function Sc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ch(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=vc(t,n),s!=null&&r.unshift(Sc(t,s,i)),s=vc(t,e),s!=null&&r.push(Sc(t,s,i))),t=t.return}return r}function To(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cx(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=vc(n,s),l!=null&&o.unshift(Sc(n,l,a))):i||(l=vc(n,s),l!=null&&o.push(Sc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var W2=/\r\n?/g,Q2=/\u0000|\uFFFD/g;function kx(t){return(typeof t=="string"?t:""+t).replace(W2,`
`).replace(Q2,"")}function ld(t,e,n){if(e=kx(e),kx(t)!==e&&n)throw Error(L(425))}function uh(){}var Yg=null,Jg=null;function Zg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xg=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,Nx=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof Nx<"u"?function(t){return Nx.resolve(null).then(t).catch(J2)}:Xg;function J2(t){setTimeout(function(){throw t})}function jm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xc(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Px(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Za=Math.random().toString(36).slice(2),ir="__reactFiber$"+Za,Ic="__reactProps$"+Za,Kr="__reactContainer$"+Za,e0="__reactEvents$"+Za,Z2="__reactListeners$"+Za,X2="__reactHandles$"+Za;function Cs(t){var e=t[ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kr]||n[ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Px(t);t!==null;){if(n=t[ir])return n;t=Px(t)}return e}t=n,n=t.parentNode}return null}function Au(t){return t=t[ir]||t[Kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function lp(t){return t[Ic]||null}var t0=[],qo=-1;function us(t){return{current:t}}function Le(t){0>qo||(t.current=t0[qo],t0[qo]=null,qo--)}function Me(t,e){qo++,t0[qo]=t.current,t.current=e}var Xi={},Pt=us(Xi),nn=us(!1),Ws=Xi;function ma(t,e){var n=t.type.contextTypes;if(!n)return Xi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function dh(){Le(nn),Le(Pt)}function Rx(t,e,n){if(Pt.current!==Xi)throw Error(L(168));Me(Pt,e),Me(nn,n)}function tS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,LR(t)||"Unknown",i));return Ge({},n,r)}function hh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xi,Ws=Pt.current,Me(Pt,t),Me(nn,nn.current),!0}function Ox(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=tS(t,e,Ws),r.__reactInternalMemoizedMergedChildContext=t,Le(nn),Le(Pt),Me(Pt,t)):Le(nn),Me(nn,n)}var kr=null,cp=!1,Mm=!1;function nS(t){kr===null?kr=[t]:kr.push(t)}function eO(t){cp=!0,nS(t)}function ds(){if(!Mm&&kr!==null){Mm=!0;var t=0,e=Te;try{var n=kr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kr=null,cp=!1}catch(i){throw kr!==null&&(kr=kr.slice(t+1)),TA(Xy,ds),i}finally{Te=e,Mm=!1}}return null}var Vo=[],Go=0,fh=null,ph=0,En=[],An=0,Qs=null,Lr=1,Br="";function xs(t,e){Vo[Go++]=ph,Vo[Go++]=fh,fh=t,ph=e}function rS(t,e,n){En[An++]=Lr,En[An++]=Br,En[An++]=Qs,Qs=t;var r=Lr;t=Br;var i=32-$n(r)-1;r&=~(1<<i),n+=1;var s=32-$n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Lr=1<<32-$n(e)+i|n<<i|r,Br=s+t}else Lr=1<<s|n<<i|r,Br=t}function lv(t){t.return!==null&&(xs(t,1),rS(t,1,0))}function cv(t){for(;t===fh;)fh=Vo[--Go],Vo[Go]=null,ph=Vo[--Go],Vo[Go]=null;for(;t===Qs;)Qs=En[--An],En[An]=null,Br=En[--An],En[An]=null,Lr=En[--An],En[An]=null}var hn=null,dn=null,Ue=!1,Bn=null;function iS(t,e){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,dn=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qs!==null?{id:Lr,overflow:Br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hn=t,dn=null,!0):!1;default:return!1}}function n0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function r0(t){if(Ue){var e=dn;if(e){var n=e;if(!jx(t,e)){if(n0(t))throw Error(L(418));e=Li(n.nextSibling);var r=hn;e&&jx(t,e)?iS(r,n):(t.flags=t.flags&-4097|2,Ue=!1,hn=t)}}else{if(n0(t))throw Error(L(418));t.flags=t.flags&-4097|2,Ue=!1,hn=t}}}function Mx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function cd(t){if(t!==hn)return!1;if(!Ue)return Mx(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zg(t.type,t.memoizedProps)),e&&(e=dn)){if(n0(t))throw sS(),Error(L(418));for(;e;)iS(t,e),e=Li(e.nextSibling)}if(Mx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=Li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=hn?Li(t.stateNode.nextSibling):null;return!0}function sS(){for(var t=dn;t;)t=Li(t.nextSibling)}function ga(){dn=hn=null,Ue=!1}function uv(t){Bn===null?Bn=[t]:Bn.push(t)}var tO=oi.ReactCurrentBatchConfig;function bl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function ud(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dx(t){var e=t._init;return e(t._payload)}function oS(t){function e(g,m){if(t){var _=g.deletions;_===null?(g.deletions=[m],g.flags|=16):_.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Hi(g,m),g.index=0,g.sibling=null,g}function s(g,m,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<m?(g.flags|=2,m):_):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,_,b){return m===null||m.tag!==6?(m=$m(_,g.mode,b),m.return=g,m):(m=i(m,_),m.return=g,m)}function l(g,m,_,b){var A=_.type;return A===Fo?u(g,m,_.props.children,b,_.key):m!==null&&(m.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===vi&&Dx(A)===m.type)?(b=i(m,_.props),b.ref=bl(g,m,_),b.return=g,b):(b=Dd(_.type,_.key,_.props,null,g.mode,b),b.ref=bl(g,m,_),b.return=g,b)}function c(g,m,_,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=zm(_,g.mode,b),m.return=g,m):(m=i(m,_.children||[]),m.return=g,m)}function u(g,m,_,b,A){return m===null||m.tag!==7?(m=Fs(_,g.mode,b,A),m.return=g,m):(m=i(m,_),m.return=g,m)}function d(g,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=$m(""+m,g.mode,_),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Xu:return _=Dd(m.type,m.key,m.props,null,g.mode,_),_.ref=bl(g,null,m),_.return=g,_;case Bo:return m=zm(m,g.mode,_),m.return=g,m;case vi:var b=m._init;return d(g,b(m._payload),_)}if(Ll(m)||yl(m))return m=Fs(m,g.mode,_,null),m.return=g,m;ud(g,m)}return null}function f(g,m,_,b){var A=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return A!==null?null:a(g,m,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xu:return _.key===A?l(g,m,_,b):null;case Bo:return _.key===A?c(g,m,_,b):null;case vi:return A=_._init,f(g,m,A(_._payload),b)}if(Ll(_)||yl(_))return A!==null?null:u(g,m,_,b,null);ud(g,_)}return null}function p(g,m,_,b,A){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(_)||null,a(m,g,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xu:return g=g.get(b.key===null?_:b.key)||null,l(m,g,b,A);case Bo:return g=g.get(b.key===null?_:b.key)||null,c(m,g,b,A);case vi:var T=b._init;return p(g,m,_,T(b._payload),A)}if(Ll(b)||yl(b))return g=g.get(_)||null,u(m,g,b,A,null);ud(m,b)}return null}function y(g,m,_,b){for(var A=null,T=null,k=m,E=m=0,U=null;k!==null&&E<_.length;E++){k.index>E?(U=k,k=null):U=k.sibling;var C=f(g,k,_[E],b);if(C===null){k===null&&(k=U);break}t&&k&&C.alternate===null&&e(g,k),m=s(C,m,E),T===null?A=C:T.sibling=C,T=C,k=U}if(E===_.length)return n(g,k),Ue&&xs(g,E),A;if(k===null){for(;E<_.length;E++)k=d(g,_[E],b),k!==null&&(m=s(k,m,E),T===null?A=k:T.sibling=k,T=k);return Ue&&xs(g,E),A}for(k=r(g,k);E<_.length;E++)U=p(k,g,E,_[E],b),U!==null&&(t&&U.alternate!==null&&k.delete(U.key===null?E:U.key),m=s(U,m,E),T===null?A=U:T.sibling=U,T=U);return t&&k.forEach(function(B){return e(g,B)}),Ue&&xs(g,E),A}function v(g,m,_,b){var A=yl(_);if(typeof A!="function")throw Error(L(150));if(_=A.call(_),_==null)throw Error(L(151));for(var T=A=null,k=m,E=m=0,U=null,C=_.next();k!==null&&!C.done;E++,C=_.next()){k.index>E?(U=k,k=null):U=k.sibling;var B=f(g,k,C.value,b);if(B===null){k===null&&(k=U);break}t&&k&&B.alternate===null&&e(g,k),m=s(B,m,E),T===null?A=B:T.sibling=B,T=B,k=U}if(C.done)return n(g,k),Ue&&xs(g,E),A;if(k===null){for(;!C.done;E++,C=_.next())C=d(g,C.value,b),C!==null&&(m=s(C,m,E),T===null?A=C:T.sibling=C,T=C);return Ue&&xs(g,E),A}for(k=r(g,k);!C.done;E++,C=_.next())C=p(k,g,E,C.value,b),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?E:C.key),m=s(C,m,E),T===null?A=C:T.sibling=C,T=C);return t&&k.forEach(function(H){return e(g,H)}),Ue&&xs(g,E),A}function w(g,m,_,b){if(typeof _=="object"&&_!==null&&_.type===Fo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Xu:e:{for(var A=_.key,T=m;T!==null;){if(T.key===A){if(A=_.type,A===Fo){if(T.tag===7){n(g,T.sibling),m=i(T,_.props.children),m.return=g,g=m;break e}}else if(T.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===vi&&Dx(A)===T.type){n(g,T.sibling),m=i(T,_.props),m.ref=bl(g,T,_),m.return=g,g=m;break e}n(g,T);break}else e(g,T);T=T.sibling}_.type===Fo?(m=Fs(_.props.children,g.mode,b,_.key),m.return=g,g=m):(b=Dd(_.type,_.key,_.props,null,g.mode,b),b.ref=bl(g,m,_),b.return=g,g=b)}return o(g);case Bo:e:{for(T=_.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(g,m.sibling),m=i(m,_.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=zm(_,g.mode,b),m.return=g,g=m}return o(g);case vi:return T=_._init,w(g,m,T(_._payload),b)}if(Ll(_))return y(g,m,_,b);if(yl(_))return v(g,m,_,b);ud(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,_),m.return=g,g=m):(n(g,m),m=$m(_,g.mode,b),m.return=g,g=m),o(g)):n(g,m)}return w}var ya=oS(!0),aS=oS(!1),mh=us(null),gh=null,Wo=null,dv=null;function hv(){dv=Wo=gh=null}function fv(t){var e=mh.current;Le(mh),t._currentValue=e}function i0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ia(t,e){gh=t,dv=Wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(dv!==t)if(t={context:t,memoizedValue:e,next:null},Wo===null){if(gh===null)throw Error(L(308));Wo=t,gh.dependencies={lanes:0,firstContext:t}}else Wo=Wo.next=t;return e}var ks=null;function pv(t){ks===null?ks=[t]:ks.push(t)}function lS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yr(t,r)}function Yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _i=!1;function mv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yr(t,n)}return i=r.interleaved,i===null?(e.next=e,pv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yr(t,n)}function Nd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ev(t,n)}}function Lx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yh(t,e,n,r){var i=t.updateQueue;_i=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(f=e,p=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(p,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(p,d,f):y,f==null)break e;d=Ge({},d,f);break e;case 2:_i=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ys|=o,t.lanes=o,t.memoizedState=d}}function Bx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var Su={},dr=us(Su),Tc=us(Su),Cc=us(Su);function Ns(t){if(t===Su)throw Error(L(174));return t}function gv(t,e){switch(Me(Cc,e),Me(Tc,t),Me(dr,Su),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bg(e,t)}Le(dr),Me(dr,e)}function va(){Le(dr),Le(Tc),Le(Cc)}function uS(t){Ns(Cc.current);var e=Ns(dr.current),n=Bg(e,t.type);e!==n&&(Me(Tc,t),Me(dr,n))}function yv(t){Tc.current===t&&(Le(dr),Le(Tc))}var $e=us(0);function vh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dm=[];function vv(){for(var t=0;t<Dm.length;t++)Dm[t]._workInProgressVersionPrimary=null;Dm.length=0}var Pd=oi.ReactCurrentDispatcher,Lm=oi.ReactCurrentBatchConfig,Ks=0,qe=null,st=null,ht=null,_h=!1,Zl=!1,kc=0,nO=0;function At(){throw Error(L(321))}function _v(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function wv(t,e,n,r,i,s){if(Ks=s,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pd.current=t===null||t.memoizedState===null?oO:aO,t=n(r,i),Zl){s=0;do{if(Zl=!1,kc=0,25<=s)throw Error(L(301));s+=1,ht=st=null,e.updateQueue=null,Pd.current=lO,t=n(r,i)}while(Zl)}if(Pd.current=wh,e=st!==null&&st.next!==null,Ks=0,ht=st=qe=null,_h=!1,e)throw Error(L(300));return t}function xv(){var t=kc!==0;return kc=0,t}function tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?qe.memoizedState=ht=t:ht=ht.next=t,ht}function Pn(){if(st===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=ht===null?qe.memoizedState:ht.next;if(e!==null)ht=e,st=t;else{if(t===null)throw Error(L(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ht===null?qe.memoizedState=ht=t:ht=ht.next=t}return ht}function Nc(t,e){return typeof e=="function"?e(t):e}function Bm(t){var e=Pn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Ks&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,qe.lanes|=u,Ys|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Wn(r,e.memoizedState)||(Zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,qe.lanes|=s,Ys|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fm(t){var e=Pn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Wn(s,e.memoizedState)||(Zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function dS(){}function hS(t,e){var n=qe,r=Pn(),i=e(),s=!Wn(r.memoizedState,i);if(s&&(r.memoizedState=i,Zt=!0),r=r.queue,bv(mS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,Pc(9,pS.bind(null,n,r,i,e),void 0,null),mt===null)throw Error(L(349));Ks&30||fS(n,e,i)}return i}function fS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pS(t,e,n,r){e.value=n,e.getSnapshot=r,gS(e)&&yS(t)}function mS(t,e,n){return n(function(){gS(e)&&yS(t)})}function gS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function yS(t){var e=Yr(t,1);e!==null&&zn(e,t,1,-1)}function Fx(t){var e=tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:t},e.queue=t,t=t.dispatch=sO.bind(null,qe,t),[e.memoizedState,t]}function Pc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vS(){return Pn().memoizedState}function Rd(t,e,n,r){var i=tr();qe.flags|=t,i.memoizedState=Pc(1|e,n,void 0,r===void 0?null:r)}function up(t,e,n,r){var i=Pn();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&_v(r,o.deps)){i.memoizedState=Pc(e,n,s,r);return}}qe.flags|=t,i.memoizedState=Pc(1|e,n,s,r)}function Ux(t,e){return Rd(8390656,8,t,e)}function bv(t,e){return up(2048,8,t,e)}function _S(t,e){return up(4,2,t,e)}function wS(t,e){return up(4,4,t,e)}function xS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bS(t,e,n){return n=n!=null?n.concat([t]):null,up(4,4,xS.bind(null,e,t),n)}function Ev(){}function ES(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_v(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AS(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_v(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SS(t,e,n){return Ks&21?(Wn(n,e)||(n=NA(),qe.lanes|=n,Ys|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=n)}function rO(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=Lm.transition;Lm.transition={};try{t(!1),e()}finally{Te=n,Lm.transition=r}}function IS(){return Pn().memoizedState}function iO(t,e,n){var r=Ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TS(t))CS(e,n);else if(n=lS(t,e,n,r),n!==null){var i=Bt();zn(n,t,r,i),kS(n,e,r)}}function sO(t,e,n){var r=Ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TS(t))CS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Wn(a,o)){var l=e.interleaved;l===null?(i.next=i,pv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=lS(t,e,i,r),n!==null&&(i=Bt(),zn(n,t,r,i),kS(n,e,r))}}function TS(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function CS(t,e){Zl=_h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ev(t,n)}}var wh={readContext:Nn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},oO={readContext:Nn,useCallback:function(t,e){return tr().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:Ux,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rd(4194308,4,xS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rd(4,2,t,e)},useMemo:function(t,e){var n=tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iO.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=tr();return t={current:t},e.memoizedState=t},useState:Fx,useDebugValue:Ev,useDeferredValue:function(t){return tr().memoizedState=t},useTransition:function(){var t=Fx(!1),e=t[0];return t=rO.bind(null,t[1]),tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,i=tr();if(Ue){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),mt===null)throw Error(L(349));Ks&30||fS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ux(mS.bind(null,r,s,t),[t]),r.flags|=2048,Pc(9,pS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=tr(),e=mt.identifierPrefix;if(Ue){var n=Br,r=Lr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aO={readContext:Nn,useCallback:ES,useContext:Nn,useEffect:bv,useImperativeHandle:bS,useInsertionEffect:_S,useLayoutEffect:wS,useMemo:AS,useReducer:Bm,useRef:vS,useState:function(){return Bm(Nc)},useDebugValue:Ev,useDeferredValue:function(t){var e=Pn();return SS(e,st.memoizedState,t)},useTransition:function(){var t=Bm(Nc)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:dS,useSyncExternalStore:hS,useId:IS,unstable_isNewReconciler:!1},lO={readContext:Nn,useCallback:ES,useContext:Nn,useEffect:bv,useImperativeHandle:bS,useInsertionEffect:_S,useLayoutEffect:wS,useMemo:AS,useReducer:Fm,useRef:vS,useState:function(){return Fm(Nc)},useDebugValue:Ev,useDeferredValue:function(t){var e=Pn();return st===null?e.memoizedState=t:SS(e,st.memoizedState,t)},useTransition:function(){var t=Fm(Nc)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:dS,useSyncExternalStore:hS,useId:IS,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function s0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dp={isMounted:function(t){return(t=t._reactInternals)?mo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bt(),i=Ui(t),s=Vr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bi(t,s,i),e!==null&&(zn(e,t,i,r),Nd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bt(),i=Ui(t),s=Vr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bi(t,s,i),e!==null&&(zn(e,t,i,r),Nd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),r=Ui(t),i=Vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bi(t,i,r),e!==null&&(zn(e,t,r,n),Nd(e,t,r))}};function Hx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ec(n,r)||!Ec(i,s):!0}function NS(t,e,n){var r=!1,i=Xi,s=e.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(i=rn(e)?Ws:Pt.current,r=e.contextTypes,s=(r=r!=null)?ma(t,i):Xi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function $x(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dp.enqueueReplaceState(e,e.state,null)}function o0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Nn(s):(s=rn(e)?Ws:Pt.current,i.context=ma(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(s0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&dp.enqueueReplaceState(i,i.state,null),yh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _a(t,e){try{var n="",r=e;do n+=DR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Um(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function a0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cO=typeof WeakMap=="function"?WeakMap:Map;function PS(t,e,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bh||(bh=!0,y0=r),a0(t,e)},n}function RS(t,e,n){n=Vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){a0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){a0(t,e),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=EO.bind(null,t,e,n),e.then(t,t))}function qx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vr(-1,1),e.tag=2,Bi(n,e,1))),n.lanes|=1),t)}var uO=oi.ReactCurrentOwner,Zt=!1;function jt(t,e,n,r){e.child=t===null?aS(e,null,n,r):ya(e,t.child,n,r)}function Gx(t,e,n,r,i){n=n.render;var s=e.ref;return ia(e,i),r=wv(t,e,n,r,s,i),n=xv(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(Ue&&n&&lv(e),e.flags|=1,jt(t,e,r,i),e.child)}function Wx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Pv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,OS(t,e,s,r,i)):(t=Dd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ec,n(o,r)&&t.ref===e.ref)return Jr(t,e,i)}return e.flags|=1,t=Hi(s,r),t.ref=e.ref,t.return=e,e.child=t}function OS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ec(s,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,Jr(t,e,i)}return l0(t,e,n,r,i)}function jS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Ko,cn),cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(Ko,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Me(Ko,cn),cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Me(Ko,cn),cn|=r;return jt(t,e,i,n),e.child}function MS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function l0(t,e,n,r,i){var s=rn(n)?Ws:Pt.current;return s=ma(e,s),ia(e,i),n=wv(t,e,n,r,s,i),r=xv(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(Ue&&r&&lv(e),e.flags|=1,jt(t,e,n,i),e.child)}function Qx(t,e,n,r,i){if(rn(n)){var s=!0;hh(e)}else s=!1;if(ia(e,i),e.stateNode===null)Od(t,e),NS(e,n,r),o0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nn(c):(c=rn(n)?Ws:Pt.current,c=ma(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&$x(e,o,r,c),_i=!1;var f=e.memoizedState;o.state=f,yh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||nn.current||_i?(typeof u=="function"&&(s0(e,n,u,r),l=e.memoizedState),(a=_i||Hx(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,cS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Mn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nn(l):(l=rn(n)?Ws:Pt.current,l=ma(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&$x(e,o,r,l),_i=!1,f=e.memoizedState,o.state=f,yh(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||nn.current||_i?(typeof p=="function"&&(s0(e,n,p,r),y=e.memoizedState),(c=_i||Hx(e,n,c,r,f,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return c0(t,e,n,r,s,i)}function c0(t,e,n,r,i,s){MS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ox(e,n,!1),Jr(t,e,s);r=e.stateNode,uO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ya(e,t.child,null,s),e.child=ya(e,null,a,s)):jt(t,e,a,s),e.memoizedState=r.state,i&&Ox(e,n,!0),e.child}function DS(t){var e=t.stateNode;e.pendingContext?Rx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rx(t,e.context,!1),gv(t,e.containerInfo)}function Kx(t,e,n,r,i){return ga(),uv(i),e.flags|=256,jt(t,e,n,r),e.child}var u0={dehydrated:null,treeContext:null,retryLane:0};function d0(t){return{baseLanes:t,cachePool:null,transitions:null}}function LS(t,e,n){var r=e.pendingProps,i=$e.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Me($e,i&1),t===null)return r0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pp(o,r,0,null),t=Fs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=d0(n),e.memoizedState=u0,t):Av(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hi(a,s):(s=Fs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?d0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=u0,r}return s=t.child,t=s.sibling,r=Hi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Av(t,e){return e=pp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dd(t,e,n,r){return r!==null&&uv(r),ya(e,t.child,null,n),t=Av(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Um(Error(L(422))),dd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=pp({mode:"visible",children:r.children},i,0,null),s=Fs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ya(e,t.child,null,o),e.child.memoizedState=d0(o),e.memoizedState=u0,s);if(!(e.mode&1))return dd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(L(419)),r=Um(s,r,void 0),dd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Zt||a){if(r=mt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yr(t,i),zn(r,t,i,-1))}return Nv(),r=Um(Error(L(421))),dd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dn=Li(i.nextSibling),hn=e,Ue=!0,Bn=null,t!==null&&(En[An++]=Lr,En[An++]=Br,En[An++]=Qs,Lr=t.id,Br=t.overflow,Qs=e),e=Av(e,r.children),e.flags|=4096,e)}function Yx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),i0(t.return,e,n)}function Hm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function BS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(jt(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yx(t,n,e);else if(t.tag===19)Yx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me($e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hm(e,!0,n,null,s);break;case"together":Hm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Od(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ys|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=Hi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hO(t,e,n){switch(e.tag){case 3:DS(e),ga();break;case 5:uS(e);break;case 1:rn(e.type)&&hh(e);break;case 4:gv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Me(mh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?LS(t,e,n):(Me($e,$e.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);Me($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,jS(t,e,n)}return Jr(t,e,n)}var FS,h0,US,HS;FS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};h0=function(){};US=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ns(dr.current);var s=null;switch(n){case"input":i=jg(t,i),r=jg(t,r),s=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),s=[];break;case"textarea":i=Lg(t,i),r=Lg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uh)}Fg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&De("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};HS=function(t,e,n,r){n!==r&&(e.flags|=4)};function El(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function St(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fO(t,e,n){var r=e.pendingProps;switch(cv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(e),null;case 1:return rn(e.type)&&dh(),St(e),null;case 3:return r=e.stateNode,va(),Le(nn),Le(Pt),vv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bn!==null&&(w0(Bn),Bn=null))),h0(t,e),St(e),null;case 5:yv(e);var i=Ns(Cc.current);if(n=e.type,t!==null&&e.stateNode!=null)US(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return St(e),null}if(t=Ns(dr.current),cd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ir]=e,r[Ic]=s,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<Fl.length;i++)De(Fl[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":sx(r,s),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},De("invalid",r);break;case"textarea":ax(r,s),De("invalid",r)}Fg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),i=["children",""+a]):gc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":ed(r),ox(r,s,!0);break;case"textarea":ed(r),lx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ir]=e,t[Ic]=r,FS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ug(n,r),n){case"dialog":De("cancel",t),De("close",t),i=r;break;case"iframe":case"object":case"embed":De("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fl.length;i++)De(Fl[i],t);i=r;break;case"source":De("error",t),i=r;break;case"img":case"image":case"link":De("error",t),De("load",t),i=r;break;case"details":De("toggle",t),i=r;break;case"input":sx(t,r),i=jg(t,r),De("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),De("invalid",t);break;case"textarea":ax(t,r),i=Lg(t,r),De("invalid",t);break;default:i=r}Fg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?vA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yc(t,l):typeof l=="number"&&yc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&De("scroll",t):l!=null&&Qy(t,s,l,o))}switch(n){case"input":ed(t),ox(t,r,!1);break;case"textarea":ed(t),lx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ea(t,!!r.multiple,s,!1):r.defaultValue!=null&&ea(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=uh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return St(e),null;case 6:if(t&&e.stateNode!=null)HS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=Ns(Cc.current),Ns(dr.current),cd(e)){if(r=e.stateNode,n=e.memoizedProps,r[ir]=e,(s=r.nodeValue!==n)&&(t=hn,t!==null))switch(t.tag){case 3:ld(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ld(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ir]=e,e.stateNode=r}return St(e),null;case 13:if(Le($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&dn!==null&&e.mode&1&&!(e.flags&128))sS(),ga(),e.flags|=98560,s=!1;else if(s=cd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[ir]=e}else ga(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;St(e),s=!1}else Bn!==null&&(w0(Bn),Bn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?lt===0&&(lt=3):Nv())),e.updateQueue!==null&&(e.flags|=4),St(e),null);case 4:return va(),h0(t,e),t===null&&Ac(e.stateNode.containerInfo),St(e),null;case 10:return fv(e.type._context),St(e),null;case 17:return rn(e.type)&&dh(),St(e),null;case 19:if(Le($e),s=e.memoizedState,s===null)return St(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)El(s,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vh(t),o!==null){for(e.flags|=128,El(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me($e,$e.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>wa&&(e.flags|=128,r=!0,El(s,!1),e.lanes=4194304)}else{if(!r)if(t=vh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),El(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return St(e),null}else 2*Je()-s.renderingStartTime>wa&&n!==1073741824&&(e.flags|=128,r=!0,El(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=$e.current,Me($e,r?n&1|2:n&1),e):(St(e),null);case 22:case 23:return kv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(St(e),e.subtreeFlags&6&&(e.flags|=8192)):St(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function pO(t,e){switch(cv(e),e.tag){case 1:return rn(e.type)&&dh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return va(),Le(nn),Le(Pt),vv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yv(e),null;case 13:if(Le($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));ga()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le($e),null;case 4:return va(),null;case 10:return fv(e.type._context),null;case 22:case 23:return kv(),null;case 24:return null;default:return null}}var hd=!1,Ct=!1,mO=typeof WeakSet=="function"?WeakSet:Set,V=null;function Qo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function f0(t,e,n){try{n()}catch(r){We(t,e,r)}}var Jx=!1;function gO(t,e){if(Yg=ah,t=GA(),av(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jg={focusedElem:t,selectionRange:n},ah=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Mn(e.type,v),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(b){We(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return y=Jx,Jx=!1,y}function Xl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&f0(e,n,s)}i=i.next}while(i!==r)}}function hp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function p0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $S(t){var e=t.alternate;e!==null&&(t.alternate=null,$S(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ir],delete e[Ic],delete e[e0],delete e[Z2],delete e[X2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zS(t){return t.tag===5||t.tag===3||t.tag===4}function Zx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function m0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uh));else if(r!==4&&(t=t.child,t!==null))for(m0(t,e,n),t=t.sibling;t!==null;)m0(t,e,n),t=t.sibling}function g0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(g0(t,e,n),t=t.sibling;t!==null;)g0(t,e,n),t=t.sibling}var yt=null,Ln=!1;function pi(t,e,n){for(n=n.child;n!==null;)qS(t,e,n),n=n.sibling}function qS(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(ip,n)}catch{}switch(n.tag){case 5:Ct||Qo(n,e);case 6:var r=yt,i=Ln;yt=null,pi(t,e,n),yt=r,Ln=i,yt!==null&&(Ln?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Ln?(t=yt,n=n.stateNode,t.nodeType===8?jm(t.parentNode,n):t.nodeType===1&&jm(t,n),xc(t)):jm(yt,n.stateNode));break;case 4:r=yt,i=Ln,yt=n.stateNode.containerInfo,Ln=!0,pi(t,e,n),yt=r,Ln=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&f0(n,e,o),i=i.next}while(i!==r)}pi(t,e,n);break;case 1:if(!Ct&&(Qo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}pi(t,e,n);break;case 21:pi(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,pi(t,e,n),Ct=r):pi(t,e,n);break;default:pi(t,e,n)}}function Xx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mO),e.forEach(function(r){var i=SO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,Ln=!1;break e;case 3:yt=a.stateNode.containerInfo,Ln=!0;break e;case 4:yt=a.stateNode.containerInfo,Ln=!0;break e}a=a.return}if(yt===null)throw Error(L(160));qS(s,o,i),yt=null,Ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){We(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VS(e,t),e=e.sibling}function VS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jn(e,t),Jn(t),r&4){try{Xl(3,t,t.return),hp(3,t)}catch(v){We(t,t.return,v)}try{Xl(5,t,t.return)}catch(v){We(t,t.return,v)}}break;case 1:jn(e,t),Jn(t),r&512&&n!==null&&Qo(n,n.return);break;case 5:if(jn(e,t),Jn(t),r&512&&n!==null&&Qo(n,n.return),t.flags&32){var i=t.stateNode;try{yc(i,"")}catch(v){We(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&fA(i,s),Ug(a,o);var c=Ug(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?vA(i,d):u==="dangerouslySetInnerHTML"?gA(i,d):u==="children"?yc(i,d):Qy(i,u,d,c)}switch(a){case"input":Mg(i,s);break;case"textarea":pA(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ea(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ea(i,!!s.multiple,s.defaultValue,!0):ea(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ic]=s}catch(v){We(t,t.return,v)}}break;case 6:if(jn(e,t),Jn(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){We(t,t.return,v)}}break;case 3:if(jn(e,t),Jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xc(e.containerInfo)}catch(v){We(t,t.return,v)}break;case 4:jn(e,t),Jn(t);break;case 13:jn(e,t),Jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Tv=Je())),r&4&&Xx(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(c=Ct)||u,jn(e,t),Ct=c):jn(e,t),Jn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(V=t,u=t.child;u!==null;){for(d=V=u;V!==null;){switch(f=V,p=f.child,f.tag){case 0:case 11:case 14:case 15:Xl(4,f,f.return);break;case 1:Qo(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){We(r,n,v)}}break;case 5:Qo(f,f.return);break;case 22:if(f.memoizedState!==null){tb(d);continue}}p!==null?(p.return=f,V=p):tb(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yA("display",o))}catch(v){We(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){We(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:jn(e,t),Jn(t),r&4&&Xx(t);break;case 21:break;default:jn(e,t),Jn(t)}}function Jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zS(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yc(i,""),r.flags&=-33);var s=Zx(t);g0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Zx(t);m0(t,a,o);break;default:throw Error(L(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yO(t,e,n){V=t,GS(t)}function GS(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var i=V,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=hd;var c=Ct;if(hd=o,(Ct=l)&&!c)for(V=i;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?nb(i):l!==null?(l.return=o,V=l):nb(i);for(;s!==null;)V=s,GS(s),s=s.sibling;V=i,hd=a,Ct=c}eb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,V=s):eb(t)}}function eb(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||hp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Bx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&xc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ct||e.flags&512&&p0(e)}catch(f){We(e,e.return,f)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function tb(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function nb(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hp(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){We(e,i,l)}}var s=e.return;try{p0(e)}catch(l){We(e,s,l)}break;case 5:var o=e.return;try{p0(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var vO=Math.ceil,xh=oi.ReactCurrentDispatcher,Sv=oi.ReactCurrentOwner,kn=oi.ReactCurrentBatchConfig,we=0,mt=null,rt=null,wt=0,cn=0,Ko=us(0),lt=0,Rc=null,Ys=0,fp=0,Iv=0,ec=null,Kt=null,Tv=0,wa=1/0,Tr=null,bh=!1,y0=null,Fi=null,fd=!1,ki=null,Eh=0,tc=0,v0=null,jd=-1,Md=0;function Bt(){return we&6?Je():jd!==-1?jd:jd=Je()}function Ui(t){return t.mode&1?we&2&&wt!==0?wt&-wt:tO.transition!==null?(Md===0&&(Md=NA()),Md):(t=Te,t!==0||(t=window.event,t=t===void 0?16:LA(t.type)),t):1}function zn(t,e,n,r){if(50<tc)throw tc=0,v0=null,Error(L(185));bu(t,n,r),(!(we&2)||t!==mt)&&(t===mt&&(!(we&2)&&(fp|=n),lt===4&&bi(t,wt)),sn(t,r),n===1&&we===0&&!(e.mode&1)&&(wa=Je()+500,cp&&ds()))}function sn(t,e){var n=t.callbackNode;t2(t,e);var r=oh(t,t===mt?wt:0);if(r===0)n!==null&&dx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dx(n),e===1)t.tag===0?eO(rb.bind(null,t)):nS(rb.bind(null,t)),Y2(function(){!(we&6)&&ds()}),n=null;else{switch(PA(r)){case 1:n=Xy;break;case 4:n=CA;break;case 16:n=sh;break;case 536870912:n=kA;break;default:n=sh}n=eI(n,WS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WS(t,e){if(jd=-1,Md=0,we&6)throw Error(L(327));var n=t.callbackNode;if(sa()&&t.callbackNode!==n)return null;var r=oh(t,t===mt?wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ah(t,r);else{e=r;var i=we;we|=2;var s=KS();(mt!==t||wt!==e)&&(Tr=null,wa=Je()+500,Bs(t,e));do try{xO();break}catch(a){QS(t,a)}while(!0);hv(),xh.current=s,we=i,rt!==null?e=0:(mt=null,wt=0,e=lt)}if(e!==0){if(e===2&&(i=Vg(t),i!==0&&(r=i,e=_0(t,i))),e===1)throw n=Rc,Bs(t,0),bi(t,r),sn(t,Je()),n;if(e===6)bi(t,r);else{if(i=t.current.alternate,!(r&30)&&!_O(i)&&(e=Ah(t,r),e===2&&(s=Vg(t),s!==0&&(r=s,e=_0(t,s))),e===1))throw n=Rc,Bs(t,0),bi(t,r),sn(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:bs(t,Kt,Tr);break;case 3:if(bi(t,r),(r&130023424)===r&&(e=Tv+500-Je(),10<e)){if(oh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Bt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xg(bs.bind(null,t,Kt,Tr),e);break}bs(t,Kt,Tr);break;case 4:if(bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-$n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vO(r/1960))-r,10<r){t.timeoutHandle=Xg(bs.bind(null,t,Kt,Tr),r);break}bs(t,Kt,Tr);break;case 5:bs(t,Kt,Tr);break;default:throw Error(L(329))}}}return sn(t,Je()),t.callbackNode===n?WS.bind(null,t):null}function _0(t,e){var n=ec;return t.current.memoizedState.isDehydrated&&(Bs(t,e).flags|=256),t=Ah(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&w0(e)),t}function w0(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function _O(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bi(t,e){for(e&=~Iv,e&=~fp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),r=1<<n;t[n]=-1,e&=~r}}function rb(t){if(we&6)throw Error(L(327));sa();var e=oh(t,0);if(!(e&1))return sn(t,Je()),null;var n=Ah(t,e);if(t.tag!==0&&n===2){var r=Vg(t);r!==0&&(e=r,n=_0(t,r))}if(n===1)throw n=Rc,Bs(t,0),bi(t,e),sn(t,Je()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bs(t,Kt,Tr),sn(t,Je()),null}function Cv(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(wa=Je()+500,cp&&ds())}}function Js(t){ki!==null&&ki.tag===0&&!(we&6)&&sa();var e=we;we|=1;var n=kn.transition,r=Te;try{if(kn.transition=null,Te=1,t)return t()}finally{Te=r,kn.transition=n,we=e,!(we&6)&&ds()}}function kv(){cn=Ko.current,Le(Ko)}function Bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,K2(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(cv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dh();break;case 3:va(),Le(nn),Le(Pt),vv();break;case 5:yv(r);break;case 4:va();break;case 13:Le($e);break;case 19:Le($e);break;case 10:fv(r.type._context);break;case 22:case 23:kv()}n=n.return}if(mt=t,rt=t=Hi(t.current,null),wt=cn=e,lt=0,Rc=null,Iv=fp=Ys=0,Kt=ec=null,ks!==null){for(e=0;e<ks.length;e++)if(n=ks[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return t}function QS(t,e){do{var n=rt;try{if(hv(),Pd.current=wh,_h){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_h=!1}if(Ks=0,ht=st=qe=null,Zl=!1,kc=0,Sv.current=null,n===null||n.return===null){lt=1,Rc=e,rt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=qx(o);if(p!==null){p.flags&=-257,Vx(p,o,a,s,e),p.mode&1&&zx(s,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){zx(s,c,e),Nv();break e}l=Error(L(426))}}else if(Ue&&a.mode&1){var w=qx(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Vx(w,o,a,s,e),uv(_a(l,a));break e}}s=l=_a(l,a),lt!==4&&(lt=2),ec===null?ec=[s]:ec.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=PS(s,l,e);Lx(s,g);break e;case 1:a=l;var m=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fi===null||!Fi.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=RS(s,a,e);Lx(s,b);break e}}s=s.return}while(s!==null)}JS(n)}catch(A){e=A,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function KS(){var t=xh.current;return xh.current=wh,t===null?wh:t}function Nv(){(lt===0||lt===3||lt===2)&&(lt=4),mt===null||!(Ys&268435455)&&!(fp&268435455)||bi(mt,wt)}function Ah(t,e){var n=we;we|=2;var r=KS();(mt!==t||wt!==e)&&(Tr=null,Bs(t,e));do try{wO();break}catch(i){QS(t,i)}while(!0);if(hv(),we=n,xh.current=r,rt!==null)throw Error(L(261));return mt=null,wt=0,lt}function wO(){for(;rt!==null;)YS(rt)}function xO(){for(;rt!==null&&!GR();)YS(rt)}function YS(t){var e=XS(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?JS(t):rt=e,Sv.current=null}function JS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pO(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,rt=null;return}}else if(n=fO(n,e,cn),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);lt===0&&(lt=5)}function bs(t,e,n){var r=Te,i=kn.transition;try{kn.transition=null,Te=1,bO(t,e,n,r)}finally{kn.transition=i,Te=r}return null}function bO(t,e,n,r){do sa();while(ki!==null);if(we&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(n2(t,s),t===mt&&(rt=mt=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fd||(fd=!0,eI(sh,function(){return sa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=kn.transition,kn.transition=null;var o=Te;Te=1;var a=we;we|=4,Sv.current=null,gO(t,n),VS(n,t),$2(Jg),ah=!!Yg,Jg=Yg=null,t.current=n,yO(n),WR(),we=a,Te=o,kn.transition=s}else t.current=n;if(fd&&(fd=!1,ki=t,Eh=i),s=t.pendingLanes,s===0&&(Fi=null),YR(n.stateNode),sn(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bh)throw bh=!1,t=y0,y0=null,t;return Eh&1&&t.tag!==0&&sa(),s=t.pendingLanes,s&1?t===v0?tc++:(tc=0,v0=t):tc=0,ds(),null}function sa(){if(ki!==null){var t=PA(Eh),e=kn.transition,n=Te;try{if(kn.transition=null,Te=16>t?16:t,ki===null)var r=!1;else{if(t=ki,ki=null,Eh=0,we&6)throw Error(L(331));var i=we;for(we|=4,V=t.current;V!==null;){var s=V,o=s.child;if(V.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(V=c;V!==null;){var u=V;switch(u.tag){case 0:case 11:case 15:Xl(8,u,s)}var d=u.child;if(d!==null)d.return=u,V=d;else for(;V!==null;){u=V;var f=u.sibling,p=u.return;if($S(u),u===c){V=null;break}if(f!==null){f.return=p,V=f;break}V=p}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}V=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,V=o;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,V=g;break e}V=s.return}}var m=t.current;for(V=m;V!==null;){o=V;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,V=_;else e:for(o=m;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hp(9,a)}}catch(A){We(a,a.return,A)}if(a===o){V=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,V=b;break e}V=a.return}}if(we=i,ds(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(ip,t)}catch{}r=!0}return r}finally{Te=n,kn.transition=e}}return!1}function ib(t,e,n){e=_a(n,e),e=PS(t,e,1),t=Bi(t,e,1),e=Bt(),t!==null&&(bu(t,1,e),sn(t,e))}function We(t,e,n){if(t.tag===3)ib(t,t,n);else for(;e!==null;){if(e.tag===3){ib(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){t=_a(n,t),t=RS(e,t,1),e=Bi(e,t,1),t=Bt(),e!==null&&(bu(e,1,t),sn(e,t));break}}e=e.return}}function EO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(wt&n)===n&&(lt===4||lt===3&&(wt&130023424)===wt&&500>Je()-Tv?Bs(t,0):Iv|=n),sn(t,e)}function ZS(t,e){e===0&&(t.mode&1?(e=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):e=1);var n=Bt();t=Yr(t,e),t!==null&&(bu(t,e,n),sn(t,n))}function AO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZS(t,n)}function SO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),ZS(t,n)}var XS;XS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)Zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zt=!1,hO(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,Ue&&e.flags&1048576&&rS(e,ph,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Od(t,e),t=e.pendingProps;var i=ma(e,Pt.current);ia(e,n),i=wv(null,e,r,t,i,n);var s=xv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(s=!0,hh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mv(e),i.updater=dp,e.stateNode=i,i._reactInternals=e,o0(e,r,t,n),e=c0(null,e,r,!0,s,n)):(e.tag=0,Ue&&s&&lv(e),jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Od(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=TO(r),t=Mn(r,t),i){case 0:e=l0(null,e,r,t,n);break e;case 1:e=Qx(null,e,r,t,n);break e;case 11:e=Gx(null,e,r,t,n);break e;case 14:e=Wx(null,e,r,Mn(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),l0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Qx(t,e,r,i,n);case 3:e:{if(DS(e),t===null)throw Error(L(387));r=e.pendingProps,s=e.memoizedState,i=s.element,cS(t,e),yh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_a(Error(L(423)),e),e=Kx(t,e,r,n,i);break e}else if(r!==i){i=_a(Error(L(424)),e),e=Kx(t,e,r,n,i);break e}else for(dn=Li(e.stateNode.containerInfo.firstChild),hn=e,Ue=!0,Bn=null,n=aS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ga(),r===i){e=Jr(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return uS(e),t===null&&r0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Zg(r,i)?o=null:s!==null&&Zg(r,s)&&(e.flags|=32),MS(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&r0(e),null;case 13:return LS(t,e,n);case 4:return gv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ya(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Gx(t,e,r,i,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Me(mh,r._currentValue),r._currentValue=o,s!==null)if(Wn(s.value,o)){if(s.children===i.children&&!nn.current){e=Jr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),i0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),i0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ia(e,n),i=Nn(i),r=r(i),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),Wx(t,e,r,i,n);case 15:return OS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Od(t,e),e.tag=1,rn(r)?(t=!0,hh(e)):t=!1,ia(e,n),NS(e,r,i),o0(e,r,i,n),c0(null,e,r,!0,t,n);case 19:return BS(t,e,n);case 22:return jS(t,e,n)}throw Error(L(156,e.tag))};function eI(t,e){return TA(t,e)}function IO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,n,r){return new IO(t,e,n,r)}function Pv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TO(t){if(typeof t=="function")return Pv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yy)return 11;if(t===Jy)return 14}return 2}function Hi(t,e){var n=t.alternate;return n===null?(n=In(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Pv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fo:return Fs(n.children,i,s,e);case Ky:o=8,i|=8;break;case Ng:return t=In(12,n,e,i|2),t.elementType=Ng,t.lanes=s,t;case Pg:return t=In(13,n,e,i),t.elementType=Pg,t.lanes=s,t;case Rg:return t=In(19,n,e,i),t.elementType=Rg,t.lanes=s,t;case uA:return pp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lA:o=10;break e;case cA:o=9;break e;case Yy:o=11;break e;case Jy:o=14;break e;case vi:o=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=In(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Fs(t,e,n,r){return t=In(7,t,r,e),t.lanes=n,t}function pp(t,e,n,r){return t=In(22,t,r,e),t.elementType=uA,t.lanes=n,t.stateNode={isHidden:!1},t}function $m(t,e,n){return t=In(6,t,null,e),t.lanes=n,t}function zm(t,e,n){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Em(0),this.expirationTimes=Em(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Em(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rv(t,e,n,r,i,s,o,a,l){return t=new CO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=In(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mv(s),t}function kO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tI(t){if(!t)return Xi;t=t._reactInternals;e:{if(mo(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(rn(n))return tS(t,n,e)}return e}function nI(t,e,n,r,i,s,o,a,l){return t=Rv(n,r,!0,t,i,s,o,a,l),t.context=tI(null),n=t.current,r=Bt(),i=Ui(n),s=Vr(r,i),s.callback=e??null,Bi(n,s,i),t.current.lanes=i,bu(t,i,r),sn(t,r),t}function mp(t,e,n,r){var i=e.current,s=Bt(),o=Ui(i);return n=tI(n),e.context===null?e.context=n:e.pendingContext=n,e=Vr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bi(i,e,o),t!==null&&(zn(t,i,o,s),Nd(t,i,o)),o}function Sh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ov(t,e){sb(t,e),(t=t.alternate)&&sb(t,e)}function NO(){return null}var rI=typeof reportError=="function"?reportError:function(t){console.error(t)};function jv(t){this._internalRoot=t}gp.prototype.render=jv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));mp(t,e,null,null)};gp.prototype.unmount=jv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Js(function(){mp(null,t,null,null)}),e[Kr]=null}};function gp(t){this._internalRoot=t}gp.prototype.unstable_scheduleHydration=function(t){if(t){var e=jA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xi.length&&e!==0&&e<xi[n].priority;n++);xi.splice(n,0,t),n===0&&DA(t)}};function Mv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ob(){}function PO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Sh(o);s.call(c)}}var o=nI(e,r,t,0,null,!1,!1,"",ob);return t._reactRootContainer=o,t[Kr]=o.current,Ac(t.nodeType===8?t.parentNode:t),Js(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Sh(l);a.call(c)}}var l=Rv(t,0,!1,null,null,!1,!1,"",ob);return t._reactRootContainer=l,t[Kr]=l.current,Ac(t.nodeType===8?t.parentNode:t),Js(function(){mp(e,l,n,r)}),l}function vp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Sh(o);a.call(l)}}mp(e,o,t,i)}else o=PO(n,e,t,i,r);return Sh(o)}RA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bl(e.pendingLanes);n!==0&&(ev(e,n|1),sn(e,Je()),!(we&6)&&(wa=Je()+500,ds()))}break;case 13:Js(function(){var r=Yr(t,1);if(r!==null){var i=Bt();zn(r,t,1,i)}}),Ov(t,1)}};tv=function(t){if(t.tag===13){var e=Yr(t,134217728);if(e!==null){var n=Bt();zn(e,t,134217728,n)}Ov(t,134217728)}};OA=function(t){if(t.tag===13){var e=Ui(t),n=Yr(t,e);if(n!==null){var r=Bt();zn(n,t,e,r)}Ov(t,e)}};jA=function(){return Te};MA=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};$g=function(t,e,n){switch(e){case"input":if(Mg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lp(r);if(!i)throw Error(L(90));hA(r),Mg(r,i)}}}break;case"textarea":pA(t,n);break;case"select":e=n.value,e!=null&&ea(t,!!n.multiple,e,!1)}};xA=Cv;bA=Js;var RO={usingClientEntryPoint:!1,Events:[Au,zo,lp,_A,wA,Cv]},Al={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OO={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SA(t),t===null?null:t.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||NO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{ip=pd.inject(OO),ur=pd}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RO;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mv(e))throw Error(L(200));return kO(t,e,null,n)};yn.createRoot=function(t,e){if(!Mv(t))throw Error(L(299));var n=!1,r="",i=rI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Rv(t,1,!1,null,null,n,!1,r,i),t[Kr]=e.current,Ac(t.nodeType===8?t.parentNode:t),new jv(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=SA(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return Js(t)};yn.hydrate=function(t,e,n){if(!yp(e))throw Error(L(200));return vp(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!Mv(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=rI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nI(e,null,t,1,n??null,i,!1,s,o),t[Kr]=e.current,Ac(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gp(e)};yn.render=function(t,e,n){if(!yp(e))throw Error(L(200));return vp(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!yp(t))throw Error(L(40));return t._reactRootContainer?(Js(function(){vp(null,null,t,!1,function(){t._reactRootContainer=null,t[Kr]=null})}),!0):!1};yn.unstable_batchedUpdates=Cv;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yp(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return vp(t,e,n,!1,r)};yn.version="18.3.1-next-f1338f8080-20240426";function iI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iI)}catch(t){console.error(t)}}iI(),iA.exports=yn;var sI=iA.exports;const jO=wu(sI);var oI,ab=sI;oI=ab.createRoot,ab.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc.apply(this,arguments)}var Ni;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ni||(Ni={}));const lb="popstate";function MO(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return x0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ih(i)}return LO(e,n,null,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DO(){return Math.random().toString(36).substr(2,8)}function cb(t,e){return{usr:t.state,key:t.key,idx:e}}function x0(t,e,n,r){return n===void 0&&(n=null),Oc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xa(e):e,{state:n,key:e&&e.key||r||DO()})}function Ih(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function LO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ni.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Oc({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Ni.Pop;let w=u(),g=w==null?null:w-c;c=w,l&&l({action:a,location:v.location,delta:g})}function f(w,g){a=Ni.Push;let m=x0(v.location,w,g);c=u()+1;let _=cb(m,c),b=v.createHref(m);try{o.pushState(_,"",b)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(b)}s&&l&&l({action:a,location:v.location,delta:1})}function p(w,g){a=Ni.Replace;let m=x0(v.location,w,g);c=u();let _=cb(m,c),b=v.createHref(m);o.replaceState(_,"",b),s&&l&&l({action:a,location:v.location,delta:0})}function y(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:Ih(w);return m=m.replace(/ $/,"%20"),Ve(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let v={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(lb,d),l=w,()=>{i.removeEventListener(lb,d),l=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return o.go(w)}};return v}var ub;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ub||(ub={}));function BO(t,e,n){return n===void 0&&(n="/"),FO(t,e,n,!1)}function FO(t,e,n,r){let i=typeof e=="string"?Xa(e):e,s=xa(i.pathname||"/",n);if(s==null)return null;let o=lI(t);UO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=JO(s);a=KO(o[l],c,r)}return a}function lI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ve(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=$i([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ve(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),lI(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:WO(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of cI(s.path))i(s,o,l)}),e}function cI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=cI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function UO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HO=/^:[\w-]+$/,$O=3,zO=2,qO=1,VO=10,GO=-2,db=t=>t==="*";function WO(t,e){let n=t.split("/"),r=n.length;return n.some(db)&&(r+=GO),e&&(r+=zO),n.filter(i=>!db(i)).reduce((i,s)=>i+(HO.test(s)?$O:s===""?qO:VO),r)}function QO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function KO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Th({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Th({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:$i([s,d.pathname]),pathnameBase:tj($i([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=$i([s,d.pathnameBase]))}return o}function Th(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[d];return p&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function YO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),aI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function JO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return aI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xa(t):t;return{pathname:n?n.startsWith("/")?n:XO(n,e):e,search:nj(r),hash:rj(i)}}function XO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ej(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dv(t,e){let n=ej(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xa(t):(i=Oc({},t),Ve(!i.pathname||!i.pathname.includes("?"),qm("?","pathname","search",i)),Ve(!i.pathname||!i.pathname.includes("#"),qm("#","pathname","hash",i)),Ve(!i.search||!i.search.includes("#"),qm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=ZO(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const $i=t=>t.join("/").replace(/\/\/+/g,"/"),tj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ij(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uI=["post","put","patch","delete"];new Set(uI);const sj=["get",...uI];new Set(sj);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(this,arguments)}const _p=S.createContext(null),dI=S.createContext(null),ai=S.createContext(null),wp=S.createContext(null),li=S.createContext({outlet:null,matches:[],isDataRoute:!1}),hI=S.createContext(null);function oj(t,e){let{relative:n}=e===void 0?{}:e;el()||Ve(!1);let{basename:r,navigator:i}=S.useContext(ai),{hash:s,pathname:o,search:a}=xp(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:$i([r,o])),i.createHref({pathname:l,search:a,hash:s})}function el(){return S.useContext(wp)!=null}function go(){return el()||Ve(!1),S.useContext(wp).location}function fI(t){S.useContext(ai).static||S.useLayoutEffect(t)}function Iu(){let{isDataRoute:t}=S.useContext(li);return t?xj():aj()}function aj(){el()||Ve(!1);let t=S.useContext(_p),{basename:e,future:n,navigator:r}=S.useContext(ai),{matches:i}=S.useContext(li),{pathname:s}=go(),o=JSON.stringify(Dv(i,n.v7_relativeSplatPath)),a=S.useRef(!1);return fI(()=>{a.current=!0}),S.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Lv(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:$i([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}const lj=S.createContext(null);function cj(t){let e=S.useContext(li).outlet;return e&&S.createElement(lj.Provider,{value:t},e)}function xp(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(ai),{matches:i}=S.useContext(li),{pathname:s}=go(),o=JSON.stringify(Dv(i,r.v7_relativeSplatPath));return S.useMemo(()=>Lv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function uj(t,e){return dj(t,e)}function dj(t,e,n,r){el()||Ve(!1);let{navigator:i}=S.useContext(ai),{matches:s}=S.useContext(li),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=go(),u;if(e){var d;let w=typeof e=="string"?Xa(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||Ve(!1),u=w}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=BO(t,{pathname:p}),v=gj(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:$i([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:$i([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&v?S.createElement(wp.Provider,{value:{location:jc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ni.Pop}},v):v}function hj(){let t=wj(),e=ij(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const fj=S.createElement(hj,null);class pj extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(li.Provider,{value:this.props.routeContext},S.createElement(hI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mj(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(_p);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(li.Provider,{value:e},r)}function gj(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ve(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,y=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,y=!1,v=null,w=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||fj,l&&(c<0&&f===0?(y=!0,w=null):c===f&&(y=!0,w=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),m=()=>{let _;return p?_=v:y?_=w:d.route.Component?_=S.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,S.createElement(mj,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?S.createElement(pj,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var pI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pI||{}),Ch=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ch||{});function yj(t){let e=S.useContext(_p);return e||Ve(!1),e}function vj(t){let e=S.useContext(dI);return e||Ve(!1),e}function _j(t){let e=S.useContext(li);return e||Ve(!1),e}function mI(t){let e=_j(),n=e.matches[e.matches.length-1];return n.route.id||Ve(!1),n.route.id}function wj(){var t;let e=S.useContext(hI),n=vj(Ch.UseRouteError),r=mI(Ch.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xj(){let{router:t}=yj(pI.UseNavigateStable),e=mI(Ch.UseNavigateStable),n=S.useRef(!1);return fI(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jc({fromRouteId:e},s)))},[t,e])}const hb={};function bj(t,e){hb[e]||(hb[e]=!0,console.warn(e))}const fb=(t,e,n)=>bj(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Ej(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&fb("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&!e&&fb("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function gI(t){let{to:e,replace:n,state:r,relative:i}=t;el()||Ve(!1);let{future:s,static:o}=S.useContext(ai),{matches:a}=S.useContext(li),{pathname:l}=go(),c=Iu(),u=Lv(e,Dv(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return S.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Aj(t){return cj(t.context)}function er(t){Ve(!1)}function Sj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ni.Pop,navigator:s,static:o=!1,future:a}=t;el()&&Ve(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:s,static:o,future:jc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Xa(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:y="default"}=r,v=S.useMemo(()=>{let w=xa(u,l);return w==null?null:{location:{pathname:w,search:d,hash:f,state:p,key:y},navigationType:i}},[l,u,d,f,p,y,i]);return v==null?null:S.createElement(ai.Provider,{value:c},S.createElement(wp.Provider,{children:n,value:v}))}function Ij(t){let{children:e,location:n}=t;return uj(b0(e),n)}new Promise(()=>{});function b0(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,b0(r.props.children,s));return}r.type!==er&&Ve(!1),!r.props.index||!r.props.children||Ve(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=b0(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kh(){return kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kh.apply(this,arguments)}function yI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Tj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Cj(t,e){return t.button===0&&(!e||e==="_self")&&!Tj(t)}const kj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Nj=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Pj="6";try{window.__reactRouterVersion=Pj}catch{}const Rj=S.createContext({isTransitioning:!1}),Oj="startTransition",pb=ER[Oj];function jj(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=MO({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=S.useCallback(d=>{c&&pb?pb(()=>l(d)):l(d)},[l,c]);return S.useLayoutEffect(()=>o.listen(u),[o,u]),S.useEffect(()=>Ej(r),[r]),S.createElement(Sj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Mj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lj=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=yI(e,kj),{basename:p}=S.useContext(ai),y,v=!1;if(typeof c=="string"&&Dj.test(c)&&(y=c,Mj))try{let _=new URL(window.location.href),b=c.startsWith("//")?new URL(_.protocol+c):new URL(c),A=xa(b.pathname,p);b.origin===_.origin&&A!=null?c=A+b.search+b.hash:v=!0}catch{}let w=oj(c,{relative:i}),g=Uj(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function m(_){r&&r(_),_.defaultPrevented||g(_)}return S.createElement("a",kh({},f,{href:y||w,onClick:v||s?r:m,ref:n,target:l}))}),Bj=S.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,d=yI(e,Nj),f=xp(l,{relative:d.relative}),p=go(),y=S.useContext(dI),{navigator:v,basename:w}=S.useContext(ai),g=y!=null&&Hj(f)&&c===!0,m=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,_=p.pathname,b=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(_=_.toLowerCase(),b=b?b.toLowerCase():null,m=m.toLowerCase()),b&&w&&(b=xa(b,w)||b);const A=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let T=_===m||!o&&_.startsWith(m)&&_.charAt(A)==="/",k=b!=null&&(b===m||!o&&b.startsWith(m)&&b.charAt(m.length)==="/"),E={isActive:T,isPending:k,isTransitioning:g},U=T?r:void 0,C;typeof s=="function"?C=s(E):C=[s,T?"active":null,k?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let B=typeof a=="function"?a(E):a;return S.createElement(Lj,kh({},d,{"aria-current":U,className:C,ref:n,style:B,to:l,viewTransition:c}),typeof u=="function"?u(E):u)});var E0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(E0||(E0={}));var mb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mb||(mb={}));function Fj(t){let e=S.useContext(_p);return e||Ve(!1),e}function Uj(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Iu(),c=go(),u=xp(t,{relative:o});return S.useCallback(d=>{if(Cj(d,n)){d.preventDefault();let f=r!==void 0?r:Ih(c)===Ih(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function Hj(t,e){e===void 0&&(e={});let n=S.useContext(Rj);n==null&&Ve(!1);let{basename:r}=Fj(E0.useViewTransitionState),i=xp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=xa(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=xa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Th(i.pathname,o)!=null||Th(i.pathname,s)!=null}function A0(t,e){return A0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},A0(t,e)}function Tu(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,A0(t,e)}var Cu=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function Ee(){return Ee=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ee.apply(null,arguments)}var Nh=typeof window>"u";function Tt(){}function $j(t,e){return typeof t=="function"?t(e):t}function S0(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ph(t){return Array.isArray(t)?t:[t]}function vI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ld(t,e,n){return bp(t)?typeof e=="function"?Ee({},n,{queryKey:t,queryFn:e}):Ee({},e,{queryKey:t}):t}function wi(t,e,n){return bp(t)?[Ee({},e,{queryKey:t}),n]:[t||{},e]}function zj(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function gb(t,e){var n=t.active,r=t.exact,i=t.fetching,s=t.inactive,o=t.predicate,a=t.queryKey,l=t.stale;if(bp(a)){if(r){if(e.queryHash!==Bv(a,e.options))return!1}else if(!Rh(e.queryKey,a))return!1}var c=zj(n,s);if(c==="none")return!1;if(c!=="all"){var u=e.isActive();if(c==="active"&&!u||c==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function yb(t,e){var n=t.exact,r=t.fetching,i=t.predicate,s=t.mutationKey;if(bp(s)){if(!e.options.mutationKey)return!1;if(n){if(Ps(e.options.mutationKey)!==Ps(s))return!1}else if(!Rh(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function Bv(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||Ps;return n(t)}function Ps(t){var e=Ph(t);return qj(e)}function qj(t){return JSON.stringify(t,function(e,n){return I0(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function Rh(t,e){return _I(Ph(t),Ph(e))}function _I(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!_I(t[n],e[n])}):!1}function Oh(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||I0(t)&&I0(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{},a=0,l=0;l<s;l++){var c=n?l:i[l];o[c]=Oh(t[c],e[c]),o[c]===t[c]&&a++}return r===s&&a===r?t:o}return e}function Vj(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function I0(t){if(!vb(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!vb(n)||!n.hasOwnProperty("isPrototypeOf"))}function vb(t){return Object.prototype.toString.call(t)==="[object Object]"}function bp(t){return typeof t=="string"||Array.isArray(t)}function Gj(t){return new Promise(function(e){setTimeout(e,t)})}function _b(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function wI(){if(typeof AbortController=="function")return new AbortController}var Wj=function(t){Tu(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!Nh&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Cu),nc=new Wj,Qj=function(t){Tu(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!Nh&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Cu),Bd=new Qj;function Kj(t){return Math.min(1e3*Math.pow(2,t),3e4)}function jh(t){return typeof(t==null?void 0:t.cancel)=="function"}var xI=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function Fd(t){return t instanceof xI}var bI=function(e){var n=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(f){return i==null?void 0:i(f)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(f,p){o=f,a=p});var l=function(p){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(p),s==null||s(),o(p))},c=function(p){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(p),s==null||s(),a(p))},u=function(){return new Promise(function(p){s=p,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},d=function f(){if(!n.isResolved){var p;try{p=e.fn()}catch(y){p=Promise.reject(y)}i=function(v){if(!n.isResolved&&(c(new xI(v)),n.abort==null||n.abort(),jh(p)))try{p.cancel()}catch{}},n.isTransportCancelable=jh(p),Promise.resolve(p).then(l).catch(function(y){var v,w;if(!n.isResolved){var g=(v=e.retry)!=null?v:3,m=(w=e.retryDelay)!=null?w:Kj,_=typeof m=="function"?m(n.failureCount,y):m,b=g===!0||typeof g=="number"&&n.failureCount<g||typeof g=="function"&&g(n.failureCount,y);if(r||!b){c(y);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,y),Gj(_).then(function(){if(!nc.isFocused()||!Bd.isOnline())return u()}).then(function(){r?c(y):f()})}})}};d()},Yj=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):_b(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&_b(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),Qe=new Yj,EI=console;function Mh(){return EI}function Jj(t){EI=t}var Zj=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=Ee({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),S0(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,l=$j(r,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,l)?l=a:this.options.structuralSharing!==!1&&(l=Oh(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(Tt).catch(Tt):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!vI(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var u=this.observers.find(function(m){return m.options.queryFn});u&&this.setOptions(u.options)}var d=Ph(this.queryKey),f=wI(),p={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(p,"signal",{enumerable:!0,get:function(){if(f)return s.abortSignalConsumed=!0,f.signal}});var y=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(p)):Promise.reject("Missing queryFn")},v={fetchOptions:i,options:this.options,queryKey:d,state:this.state,fetchFn:y,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var w;(w=this.options.behavior)==null||w.onFetch(v)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=v.fetchOptions)==null?void 0:a.meta)){var g;this.dispatch({type:"fetch",meta:(g=v.fetchOptions)==null?void 0:g.meta})}return this.retryer=new bI({fn:v.fetchFn,abort:f==null||(l=f.abort)==null?void 0:l.bind(f),onSuccess:function(_){s.setData(_),s.cache.config.onSuccess==null||s.cache.config.onSuccess(_,s),s.cacheTime===0&&s.optionalRemove()},onError:function(_){Fd(_)&&_.silent||s.dispatch({type:"error",error:_}),Fd(_)||(s.cache.config.onError==null||s.cache.config.onError(_,s),Mh().error(_)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Qe.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return Ee({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Ee({},r,{isPaused:!0});case"continue":return Ee({},r,{isPaused:!1});case"fetch":return Ee({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Ee({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return Fd(a)&&a.revert&&this.revertState?Ee({},this.revertState):Ee({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Ee({},r,{isInvalidated:!0});case"setState":return Ee({},r,i.state);default:return r}},t}(),Xj=function(t){Tu(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,s,o){var a,l=s.queryKey,c=(a=s.queryHash)!=null?a:Bv(l,s),u=this.get(c);return u||(u=new Zj({cache:this,queryKey:l,queryHash:c,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(l),meta:s.meta}),this.add(u)),u},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;Qe.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,s){var o=wi(i,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(l){return gb(a,l)})},n.findAll=function(i,s){var o=wi(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(l){return gb(a,l)}):this.queries},n.notify=function(i){var s=this;Qe.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){var i=this;Qe.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},n.onOnline=function(){var i=this;Qe.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(Cu),eM=function(){function t(n){this.options=Ee({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||tM(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Tt).catch(Tt)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),Mh().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new bI({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=nM(this.state,r),Qe.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function tM(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function nM(t,e){switch(e.type){case"failed":return Ee({},t,{failureCount:t.failureCount+1});case"pause":return Ee({},t,{isPaused:!0});case"continue":return Ee({},t,{isPaused:!1});case"loading":return Ee({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Ee({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Ee({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Ee({},t,e.state);default:return t}}var rM=function(t){Tu(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,s,o){var a=new eM({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;Qe.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return yb(i,s)})},n.findAll=function(i){return this.mutations.filter(function(s){return yb(i,s)})},n.notify=function(i){var s=this;Qe.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return Qe.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(Tt)})},Promise.resolve())})},e}(Cu);function iM(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,s,o,a,l=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,c=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,u=c==null?void 0:c.pageParam,d=(c==null?void 0:c.direction)==="forward",f=(c==null?void 0:c.direction)==="backward",p=((o=e.state.data)==null?void 0:o.pages)||[],y=((a=e.state.data)==null?void 0:a.pageParams)||[],v=wI(),w=v==null?void 0:v.signal,g=y,m=!1,_=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},b=function(ge,x,I,D){return g=D?[x].concat(g):[].concat(g,[x]),D?[I].concat(ge):[].concat(ge,[I])},A=function(ge,x,I,D){if(m)return Promise.reject("Cancelled");if(typeof I>"u"&&!x&&ge.length)return Promise.resolve(ge);var P={queryKey:e.queryKey,signal:w,pageParam:I,meta:e.meta},R=_(P),O=Promise.resolve(R).then(function(se){return b(ge,I,se,D)});if(jh(R)){var Q=O;Q.cancel=R.cancel}return O},T;if(!p.length)T=A([]);else if(d){var k=typeof u<"u",E=k?u:wb(e.options,p);T=A(p,k,E)}else if(f){var U=typeof u<"u",C=U?u:sM(e.options,p);T=A(p,U,C,!0)}else(function(){g=[];var W=typeof e.options.getNextPageParam>"u",ge=l&&p[0]?l(p[0],0,p):!0;T=ge?A([],W,y[0]):Promise.resolve(b([],y[0],p[0]));for(var x=function(P){T=T.then(function(R){var O=l&&p[P]?l(p[P],P,p):!0;if(O){var Q=W?y[P]:wb(e.options,R);return A(R,W,Q)}return Promise.resolve(b(R,y[P],p[P]))})},I=1;I<p.length;I++)x(I)})();var B=T.then(function(W){return{pages:W,pageParams:g}}),H=B;return H.cancel=function(){m=!0,v==null||v.abort(),jh(T)&&T.cancel()},B}}}}function wb(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function sM(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var oM=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new Xj,this.mutationCache=n.mutationCache||new rM,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=nc.subscribe(function(){nc.isFocused()&&Bd.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Bd.subscribe(function(){nc.isFocused()&&Bd.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=wi(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(Ee({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=Ld(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return Qe.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var l=a.queryKey;return[l,o.setQueryData(l,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=wi(r,i),o=s[0],a=this.queryCache;Qe.batch(function(){a.findAll(o).forEach(function(l){a.remove(l)})})},e.resetQueries=function(r,i,s){var o=this,a=wi(r,i,s),l=a[0],c=a[1],u=this.queryCache,d=Ee({},l,{active:!0});return Qe.batch(function(){return u.findAll(l).forEach(function(f){f.reset()}),o.refetchQueries(d,c)})},e.cancelQueries=function(r,i,s){var o=this,a=wi(r,i,s),l=a[0],c=a[1],u=c===void 0?{}:c;typeof u.revert>"u"&&(u.revert=!0);var d=Qe.batch(function(){return o.queryCache.findAll(l).map(function(f){return f.cancel(u)})});return Promise.all(d).then(Tt).catch(Tt)},e.invalidateQueries=function(r,i,s){var o,a,l,c=this,u=wi(r,i,s),d=u[0],f=u[1],p=Ee({},d,{active:(o=(a=d.refetchActive)!=null?a:d.active)!=null?o:!0,inactive:(l=d.refetchInactive)!=null?l:!1});return Qe.batch(function(){return c.queryCache.findAll(d).forEach(function(y){y.invalidate()}),c.refetchQueries(p,f)})},e.refetchQueries=function(r,i,s){var o=this,a=wi(r,i,s),l=a[0],c=a[1],u=Qe.batch(function(){return o.queryCache.findAll(l).map(function(f){return f.fetch(void 0,Ee({},c,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),d=Promise.all(u).then(Tt);return c!=null&&c.throwOnError||(d=d.catch(Tt)),d},e.fetchQuery=function(r,i,s){var o=Ld(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(Tt).catch(Tt)},e.fetchInfiniteQuery=function(r,i,s){var o=Ld(r,i,s);return o.behavior=iM(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(Tt).catch(Tt)},e.cancelMutations=function(){var r=this,i=Qe.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(Tt).catch(Tt)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return Ps(r)===Ps(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return Rh(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return Ps(r)===Ps(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return Rh(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=Ee({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Bv(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:Ee({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),aM=function(t){Tu(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),xb(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return T0(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return T0(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var l=this.hasListeners();l&&bb(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var c=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)},n.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,s){var o=this,a={},l=function(u){o.trackedProps.includes(u)||o.trackedProps.push(u)};return Object.keys(i).forEach(function(c){Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:function(){return l(c),i[c]}})}),(s.useErrorBoundary||s.suspense)&&l("error"),a},n.getNextResult=function(i){var s=this;return new Promise(function(o,a){var l=s.subscribe(function(c){c.isFetching||(l(),c.isError&&(i!=null&&i.throwOnError)?a(c.error):o(c))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(Ee({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},n.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},n.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(s=s.catch(Tt)),s},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(Nh||this.currentResult.isStale||!S0(this.options.staleTime))){var s=vI(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(Nh||this.options.enabled===!1||!S0(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||nc.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,s){var o=this.currentQuery,a=this.options,l=this.currentResult,c=this.currentResultState,u=this.currentResultOptions,d=i!==o,f=d?i.state:this.currentQueryInitialState,p=d?this.currentResult:this.previousQueryResult,y=i.state,v=y.dataUpdatedAt,w=y.error,g=y.errorUpdatedAt,m=y.isFetching,_=y.status,b=!1,A=!1,T;if(s.optimisticResults){var k=this.hasListeners(),E=!k&&xb(i,s),U=k&&bb(i,o,s,a);(E||U)&&(m=!0,v||(_="loading"))}if(s.keepPreviousData&&!y.dataUpdateCount&&(p!=null&&p.isSuccess)&&_!=="error")T=p.data,v=p.dataUpdatedAt,_=p.status,b=!0;else if(s.select&&typeof y.data<"u")if(l&&y.data===(c==null?void 0:c.data)&&s.select===this.selectFn)T=this.selectResult;else try{this.selectFn=s.select,T=s.select(y.data),s.structuralSharing!==!1&&(T=Oh(l==null?void 0:l.data,T)),this.selectResult=T,this.selectError=null}catch(H){Mh().error(H),this.selectError=H}else T=y.data;if(typeof s.placeholderData<"u"&&typeof T>"u"&&(_==="loading"||_==="idle")){var C;if(l!=null&&l.isPlaceholderData&&s.placeholderData===(u==null?void 0:u.placeholderData))C=l.data;else if(C=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof C<"u")try{C=s.select(C),s.structuralSharing!==!1&&(C=Oh(l==null?void 0:l.data,C)),this.selectError=null}catch(H){Mh().error(H),this.selectError=H}typeof C<"u"&&(_="success",T=C,A=!0)}this.selectError&&(w=this.selectError,T=this.selectResult,g=Date.now(),_="error");var B={status:_,isLoading:_==="loading",isSuccess:_==="success",isError:_==="error",isIdle:_==="idle",data:T,dataUpdatedAt:v,error:w,errorUpdatedAt:g,failureCount:y.fetchFailureCount,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>f.dataUpdateCount||y.errorUpdateCount>f.errorUpdateCount,isFetching:m,isRefetching:m&&_!=="loading",isLoadingError:_==="error"&&y.dataUpdatedAt===0,isPlaceholderData:A,isPreviousData:b,isRefetchError:_==="error"&&y.dataUpdatedAt!==0,isStale:Fv(i,s),refetch:this.refetch,remove:this.remove};return B},n.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,l=o.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var c=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(u){var d=u,f=i[d]!==s[d],p=c==null?void 0:c.some(function(v){return v===u}),y=l==null?void 0:l.some(function(v){return v===u});return f&&!y&&(!c||p)})},n.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Vj(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify(Ee({},o,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!Fd(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var s=this;Qe.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(Cu);function lM(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function xb(t,e){return lM(t,e)||t.state.dataUpdatedAt>0&&T0(t,e,e.refetchOnMount)}function T0(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Fv(t,e)}return!1}function bb(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Fv(t,n)}function Fv(t,e){return t.isStaleByTime(e.staleTime)}var cM=jO.unstable_batchedUpdates;Qe.setBatchNotifyFunction(cM);var uM=console;Jj(uM);var Eb=kt.createContext(void 0),AI=kt.createContext(!1);function SI(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Eb),window.ReactQueryClientContext):Eb}var dM=function(){var e=kt.useContext(SI(kt.useContext(AI)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},hM=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;kt.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=SI(i);return kt.createElement(AI.Provider,{value:i},kt.createElement(o.Provider,{value:n},s))};function fM(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var pM=kt.createContext(fM()),mM=function(){return kt.useContext(pM)};function gM(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function yM(t,e){var n=kt.useRef(!1),r=kt.useState(0),i=r[1],s=dM(),o=mM(),a=s.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=Qe.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Qe.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Qe.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var l=kt.useState(function(){return new e(s,a)}),c=l[0],u=c.getOptimisticResult(a);if(kt.useEffect(function(){n.current=!0,o.clearReset();var d=c.subscribe(Qe.batchCalls(function(){n.current&&i(function(f){return f+1})}));return c.updateResult(),function(){n.current=!1,d()}},[o,c]),kt.useEffect(function(){c.setOptions(a,{listeners:!1})},[a,c]),a.suspense&&u.isLoading)throw c.fetchOptimistic(a).then(function(d){var f=d.data;a.onSuccess==null||a.onSuccess(f),a.onSettled==null||a.onSettled(f,null)}).catch(function(d){o.clearReset(),a.onError==null||a.onError(d),a.onSettled==null||a.onSettled(void 0,d)});if(u.isError&&!o.isReset()&&!u.isFetching&&gM(a.suspense,a.useErrorBoundary,[u.error,c.getCurrentQuery()]))throw u.error;return a.notifyOnChangeProps==="tracked"&&(u=c.trackResult(u,a)),u}function qn(t,e,n){var r=Ld(t,e,n);return yM(r,aM)}let vM={data:""},_M=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||vM,wM=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xM=/\/\*[^]*?\*\/|  +/g,Ab=/\n+/g,Ei=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Ei(o,s):s+"{"+Ei(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Ei(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ei.p?Ei.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},wr={},II=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+II(t[n]);return e}return t},bM=(t,e,n,r,i)=>{let s=II(t),o=wr[s]||(wr[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!wr[o]){let l=s!==t?t:(c=>{let u,d,f=[{}];for(;u=wM.exec(c.replace(xM,""));)u[4]?f.shift():u[3]?(d=u[3].replace(Ab," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(Ab," ").trim();return f[0]})(t);wr[o]=Ei(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&wr.g?wr.g:null;return n&&(wr.g=wr[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(wr[o],e,r,a),o},EM=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Ei(a,""):a===!1?"":a}return r+i+(o??"")},"");function Ep(t){let e=this||{},n=t.call?t(e.p):t;return bM(n.unshift?n.raw?EM(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,_M(e.target),e.g,e.o,e.k)}let TI,C0,k0;Ep.bind({g:1});let Zr=Ep.bind({k:1});function AM(t,e,n,r){Ei.p=e,TI=t,C0=n,k0=r}function hs(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:C0&&C0()},a),n.o=/ *go\d+/.test(l),a.className=Ep.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),k0&&c[0]&&k0(a),TI(c,a)}return i}}var SM=t=>typeof t=="function",Dh=(t,e)=>SM(t)?t(e):t,IM=(()=>{let t=0;return()=>(++t).toString()})(),CI=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),TM=20,kI=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,TM)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return kI(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Ud=[],Hd={toasts:[],pausedAt:void 0},yo=t=>{Hd=kI(Hd,t),Ud.forEach(e=>{e(Hd)})},CM={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},kM=(t={})=>{let[e,n]=S.useState(Hd);S.useEffect(()=>(Ud.push(n),()=>{let i=Ud.indexOf(n);i>-1&&Ud.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o,a;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((s=t[i.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||CM[i.type],style:{...t.style,...(a=t[i.type])==null?void 0:a.style,...i.style}}});return{...e,toasts:r}},NM=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||IM()}),ku=t=>(e,n)=>{let r=NM(e,t,n);return yo({type:2,toast:r}),r.id},Mt=(t,e)=>ku("blank")(t,e);Mt.error=ku("error");Mt.success=ku("success");Mt.loading=ku("loading");Mt.custom=ku("custom");Mt.dismiss=t=>{yo({type:3,toastId:t})};Mt.remove=t=>yo({type:4,toastId:t});Mt.promise=(t,e,n)=>{let r=Mt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Dh(e.success,i):void 0;return s?Mt.success(s,{id:r,...n,...n==null?void 0:n.success}):Mt.dismiss(r),i}).catch(i=>{let s=e.error?Dh(e.error,i):void 0;s?Mt.error(s,{id:r,...n,...n==null?void 0:n.error}):Mt.dismiss(r)}),t};var PM=(t,e)=>{yo({type:1,toast:{id:t,height:e}})},RM=()=>{yo({type:5,time:Date.now()})},rc=new Map,OM=1e3,jM=(t,e=OM)=>{if(rc.has(t))return;let n=setTimeout(()=>{rc.delete(t),yo({type:4,toastId:t})},e);rc.set(t,n)},MM=t=>{let{toasts:e,pausedAt:n}=kM(t);S.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&Mt.dismiss(a.id);return}return setTimeout(()=>Mt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=S.useCallback(()=>{n&&yo({type:6,time:Date.now()})},[n]),i=S.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(s.position||c)&&p.height),d=u.findIndex(p=>p.id===s.id),f=u.filter((p,y)=>y<d&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[f+1]:[0,f]).reduce((p,y)=>p+(y.height||0)+l,0)},[e]);return S.useEffect(()=>{e.forEach(s=>{if(s.dismissed)jM(s.id,s.removeDelay);else{let o=rc.get(s.id);o&&(clearTimeout(o),rc.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:PM,startPause:RM,endPause:r,calculateOffset:i}}},DM=Zr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,LM=Zr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BM=Zr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,FM=hs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${LM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${BM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,UM=Zr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,HM=hs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${UM} 1s linear infinite;
`,$M=Zr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,zM=Zr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,qM=hs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$M} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${zM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,VM=hs("div")`
  position: absolute;
`,GM=hs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,WM=Zr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,QM=hs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${WM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,KM=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?S.createElement(QM,null,e):e:n==="blank"?null:S.createElement(GM,null,S.createElement(HM,{...r}),n!=="loading"&&S.createElement(VM,null,n==="error"?S.createElement(FM,{...r}):S.createElement(qM,{...r})))},YM=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,JM=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,ZM="0%{opacity:0;} 100%{opacity:1;}",XM="0%{opacity:1;} 100%{opacity:0;}",eD=hs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tD=hs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,nD=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=CI()?[ZM,XM]:[YM(n),JM(n)];return{animation:e?`${Zr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Zr(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rD=S.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?nD(t.position||e||"top-center",t.visible):{opacity:0},s=S.createElement(KM,{toast:t}),o=S.createElement(tD,{...t.ariaProps},Dh(t.message,t));return S.createElement(eD,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):S.createElement(S.Fragment,null,s,o))});AM(S.createElement);var iD=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=S.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return S.createElement("div",{ref:s,className:e,style:n},i)},sD=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:CI()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},oD=Ep`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,md=16,aD=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=MM(n);return S.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:md,left:md,right:md,bottom:md,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=sD(u,d);return S.createElement(iD,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?oD:"",style:f},c.type==="custom"?Dh(c.message,c):i?i(c):S.createElement(rD,{toast:c,position:u}))}))},Se=Mt,Sb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(t,e){if(!t)throw tl(e)},tl=function(t){return new Error("Firebase Database ("+NI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new cD;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const y=c<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RI=function(t){const e=PI(t);return Uv.encodeByteArray(e,!0)},Lh=function(t){return RI(t).replace(/\./g,"")},Bh=function(t){try{return Uv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){return OI(void 0,t)}function OI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!dD(n)||(t[n]=OI(t[n],e[n]));return t}function dD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=()=>hD().__FIREBASE_DEFAULTS__,pD=()=>{if(typeof process>"u"||typeof Sb>"u")return;const t=Sb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bh(t[1]);return e&&JSON.parse(e)},Hv=()=>{try{return fD()||pD()||mD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jI=t=>{var e,n;return(n=(e=Hv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gD=t=>{const e=jI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MI=()=>{var t;return(t=Hv())===null||t===void 0?void 0:t.config},DI=t=>{var e;return(e=Hv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lh(JSON.stringify(n)),Lh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $v(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function vD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _D(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wD(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BI(){return NI.NODE_ADMIN===!0}function xD(){try{return typeof indexedDB=="object"}catch{return!1}}function bD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="FirebaseError";class fs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ED,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?AD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fs(i,a,r)}}function AD(t,e){return t.replace(SD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const SD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t){return JSON.parse(t)}function at(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Mc(Bh(s[0])||""),n=Mc(Bh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},ID=function(t){const e=FI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},TD=function(t){const e=FI(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ba(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function N0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fh(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Uh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ib(s)&&Ib(o)){if(!Uh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ib(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Hl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function kD(t,e){const n=new ND(t,e);return n.subscribe.bind(n)}class ND{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vm),i.error===void 0&&(i.error=Vm),i.complete===void 0&&(i.complete=Vm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vm(){}function Ap(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,F(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Sp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class Zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MD(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jD(t){return t===Es?void 0:t}function MD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const LD={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},BD=ke.INFO,FD={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},UD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zv{constructor(e){this.name=e,this._logLevel=BD,this._logHandler=UD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const HD=(t,e)=>e.some(n=>t instanceof n);let Tb,Cb;function $D(){return Tb||(Tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zD(){return Cb||(Cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UI=new WeakMap,P0=new WeakMap,HI=new WeakMap,Gm=new WeakMap,qv=new WeakMap;function qD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&UI.set(n,t)}).catch(()=>{}),qv.set(e,t),e}function VD(t){if(P0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});P0.set(t,e)}let R0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return P0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GD(t){R0=t(R0)}function WD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wm(this),e,...n);return HI.set(r,e.sort?e.sort():[e]),zi(r)}:zD().includes(t)?function(...e){return t.apply(Wm(this),e),zi(UI.get(this))}:function(...e){return zi(t.apply(Wm(this),e))}}function QD(t){return typeof t=="function"?WD(t):(t instanceof IDBTransaction&&VD(t),HD(t,$D())?new Proxy(t,R0):t)}function zi(t){if(t instanceof IDBRequest)return qD(t);if(Gm.has(t))return Gm.get(t);const e=QD(t);return e!==t&&(Gm.set(t,e),qv.set(e,t)),e}const Wm=t=>qv.get(t);function KD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zi(o.result),l.oldVersion,l.newVersion,zi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const YD=["get","getKey","getAll","getAllKeys","count"],JD=["put","add","delete","clear"],Qm=new Map;function kb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qm.get(e))return Qm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Qm.set(e,s),s}GD(t=>({...t,get:(e,n,r)=>kb(e,n)||t.get(e,n,r),has:(e,n)=>!!kb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const O0="@firebase/app",Nb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new zv("@firebase/app"),eL="@firebase/app-compat",tL="@firebase/analytics-compat",nL="@firebase/analytics",rL="@firebase/app-check-compat",iL="@firebase/app-check",sL="@firebase/auth",oL="@firebase/auth-compat",aL="@firebase/database",lL="@firebase/data-connect",cL="@firebase/database-compat",uL="@firebase/functions",dL="@firebase/functions-compat",hL="@firebase/installations",fL="@firebase/installations-compat",pL="@firebase/messaging",mL="@firebase/messaging-compat",gL="@firebase/performance",yL="@firebase/performance-compat",vL="@firebase/remote-config",_L="@firebase/remote-config-compat",wL="@firebase/storage",xL="@firebase/storage-compat",bL="@firebase/firestore",EL="@firebase/vertexai-preview",AL="@firebase/firestore-compat",SL="firebase",IL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="[DEFAULT]",TL={[O0]:"fire-core",[eL]:"fire-core-compat",[nL]:"fire-analytics",[tL]:"fire-analytics-compat",[iL]:"fire-app-check",[rL]:"fire-app-check-compat",[sL]:"fire-auth",[oL]:"fire-auth-compat",[aL]:"fire-rtdb",[lL]:"fire-data-connect",[cL]:"fire-rtdb-compat",[uL]:"fire-fn",[dL]:"fire-fn-compat",[hL]:"fire-iid",[fL]:"fire-iid-compat",[pL]:"fire-fcm",[mL]:"fire-fcm-compat",[gL]:"fire-perf",[yL]:"fire-perf-compat",[vL]:"fire-rc",[_L]:"fire-rc-compat",[wL]:"fire-gcs",[xL]:"fire-gcs-compat",[bL]:"fire-fst",[AL]:"fire-fst-compat",[EL]:"fire-vertex","fire-js":"fire-js",[SL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,CL=new Map,M0=new Map;function Pb(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ea(t){const e=t.name;if(M0.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;M0.set(e,t);for(const n of Hh.values())Pb(n,t);for(const n of CL.values())Pb(n,t);return!0}function Vv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new Pu("app","Firebase",kL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=IL;function $I(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:j0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qi.create("bad-app-name",{appName:String(i)});if(n||(n=MI()),!n)throw qi.create("no-options");const s=Hh.get(i);if(s){if(Uh(n,s.options)&&Uh(r,s.config))return s;throw qi.create("duplicate-app",{appName:i})}const o=new DD(i);for(const l of M0.values())o.addComponent(l);const a=new NL(n,r,o);return Hh.set(i,a),a}function zI(t=j0){const e=Hh.get(t);if(!e&&t===j0&&MI())return $I();if(!e)throw qi.create("no-app",{appName:t});return e}function Vi(t,e,n){var r;let i=(r=TL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(a.join(" "));return}Ea(new Zs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="firebase-heartbeat-database",RL=1,Dc="firebase-heartbeat-store";let Km=null;function qI(){return Km||(Km=KD(PL,RL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dc)}catch(n){console.warn(n)}}}}).catch(t=>{throw qi.create("idb-open",{originalErrorMessage:t.message})})),Km}async function OL(t){try{const n=(await qI()).transaction(Dc),r=await n.objectStore(Dc).get(VI(t));return await n.done,r}catch(e){if(e instanceof fs)Xr.warn(e.message);else{const n=qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(n.message)}}}async function Rb(t,e){try{const r=(await qI()).transaction(Dc,"readwrite");await r.objectStore(Dc).put(e,VI(t)),await r.done}catch(n){if(n instanceof fs)Xr.warn(n.message);else{const r=qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xr.warn(r.message)}}}function VI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=1024,ML=30*24*60*60*1e3;class DL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ob();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=ML}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ob(),{heartbeatsToSend:r,unsentEntries:i}=LL(this._heartbeatsCache.heartbeats),s=Lh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Xr.warn(n),""}}}function Ob(){return new Date().toISOString().substring(0,10)}function LL(t,e=jL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),jb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xD()?bD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jb(t){return Lh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){Ea(new Zs("platform-logger",e=>new ZD(e),"PRIVATE")),Ea(new Zs("heartbeat",e=>new DL(e),"PRIVATE")),Vi(O0,Nb,t),Vi(O0,Nb,"esm2017"),Vi("fire-js","")}FL("");var UL="firebase",HL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi(UL,HL,"app");var Mb={};const Db="@firebase/database",Lb="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GI="";function $L(t){GI=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),at(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Mc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new zL(e)}}catch{}return new qL},Rs=WI("localStorage"),VL=WI("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new zv("@firebase/database"),GL=function(){let t=1;return function(){return t++}}(),QI=function(t){const e=RD(t),n=new CD;n.update(e);const r=n.digest();return Uv.encodeByteArray(r)},Ru=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ru.apply(null,r):typeof r=="object"?e+=at(r):e+=r,e+=" "}return e};let ic=null,Bb=!0;const WL=function(t,e){F(!e,"Can't turn on custom loggers persistently."),oa.logLevel=ke.VERBOSE,ic=oa.log.bind(oa)},vt=function(...t){if(Bb===!0&&(Bb=!1,ic===null&&VL.get("logging_enabled")===!0&&WL()),ic){const e=Ru.apply(null,t);ic(e)}},Ou=function(t){return function(...e){vt(t,...e)}},D0=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ru(...t);oa.error(e)},ei=function(...t){const e=`FIREBASE FATAL ERROR: ${Ru(...t)}`;throw oa.error(e),new Error(e)},Ft=function(...t){const e="FIREBASE WARNING: "+Ru(...t);oa.warn(e)},QL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ft("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},KL=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xs="[MIN_NAME]",es="[MAX_NAME]",vo=function(t,e){if(t===e)return 0;if(t===Xs||e===es)return-1;if(e===Xs||t===es)return 1;{const n=Fb(t),r=Fb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},YL=function(t,e){return t===e?0:t<e?-1:1},Sl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+at(e))},Wv=function(t){if(typeof t!="object"||t===null)return at(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=at(e[r]),n+=":",n+=Wv(t[e[r]]);return n+="}",n},KI=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function bt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const YI=function(t){F(!Gv(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},JL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ZL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function XL(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const eB=new RegExp("^-?(0*)\\d{1,10}$"),tB=-2147483648,nB=2147483647,Fb=function(t){if(eB.test(t)){const e=Number(t);if(e>=tB&&e<=nB)return e}return null},il=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ft("Exception was thrown by user callback.",n),e},Math.floor(0))}},rB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},sc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ft(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ft(e)}}class $d{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$d.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="5",JI="v",ZI="s",XI="r",eT="f",tT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nT="ls",rT="p",L0="ac",iT="websocket",sT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Rs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function oB(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function aT(t,e,n){F(typeof e=="string","typeof type must == string"),F(typeof n=="object","typeof params must == object");let r;if(e===iT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===sT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);oB(t)&&(n.ns=t.namespace);const i=[];return bt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(){this.counters_={}}incrementCounter(e,n=1){vr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return uD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym={},Jm={};function Kv(t){const e=t.toString();return Ym[e]||(Ym[e]=new aB),Ym[e]}function lB(t,e){const n=t.toString();return Jm[n]||(Jm[n]=e()),Jm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&il(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="start",uB="close",dB="pLPCommand",hB="pRTLPCB",lT="id",cT="pw",uT="ser",fB="cb",pB="seg",mB="ts",gB="d",yB="dframe",dT=1870,hT=30,vB=dT-hT,_B=25e3,wB=3e4;class Yo{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ou(e),this.stats_=Kv(n),this.urlFn=l=>(this.appCheckToken&&(l[L0]=this.appCheckToken),aT(n,sT,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new cB(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(wB)),KL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yv((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Ub)this.id=a,this.password=l;else if(o===uB)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Ub]="t",r[uT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[fB]=this.scriptTagHolder.uniqueCallbackIdentifier),r[JI]=Qv,this.transportSessionId&&(r[ZI]=this.transportSessionId),this.lastSessionId&&(r[nT]=this.lastSessionId),this.applicationId&&(r[rT]=this.applicationId),this.appCheckToken&&(r[L0]=this.appCheckToken),typeof location<"u"&&location.hostname&&tT.test(location.hostname)&&(r[XI]=eT);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yo.forceAllow_=!0}static forceDisallow(){Yo.forceDisallow_=!0}static isAvailable(){return Yo.forceAllow_?!0:!Yo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!JL()&&!ZL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=at(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=RI(n),i=KI(r,vB);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[yB]="t",r[lT]=e,r[cT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=at(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Yv{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=GL(),window[dB+this.uniqueCallbackIdentifier]=e,window[hB+this.uniqueCallbackIdentifier]=n,this.myIFrame=Yv.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){vt("frame writing exception"),a.stack&&vt(a.stack),vt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||vt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lT]=this.myID,e[cT]=this.myPW,e[uT]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hT+r.length<=dT;){const o=this.pendingSegs.shift();r=r+"&"+pB+i+"="+o.seg+"&"+mB+i+"="+o.ts+"&"+gB+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(_B)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=16384,bB=45e3;let $h=null;typeof MozWebSocket<"u"?$h=MozWebSocket:typeof WebSocket<"u"&&($h=WebSocket);class Fn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ou(this.connId),this.stats_=Kv(n),this.connURL=Fn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[JI]=Qv,typeof location<"u"&&location.hostname&&tT.test(location.hostname)&&(o[XI]=eT),n&&(o[ZI]=n),r&&(o[nT]=r),i&&(o[L0]=i),s&&(o[rT]=s),aT(e,iT,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rs.set("previous_websocket_failure",!0);try{let r;BI(),this.mySock=new $h(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Fn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&$h!==null&&!Fn.forceDisallow_}static previouslyFailed(){return Rs.isInMemoryStorage||Rs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Rs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Mc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(F(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=at(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=KI(n,xB);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(bB))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Fn.responsesRequiredToBeHealthy=2;Fn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Yo,Fn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Fn&&Fn.isAvailable();let r=n&&!Fn.previouslyFailed();if(e.webSocketOnly&&(n||Ft("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Fn];else{const i=this.transports_=[];for(const s of Lc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Lc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Lc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=6e4,AB=5e3,SB=10*1024,IB=100*1024,Zm="t",Hb="d",TB="s",$b="r",CB="e",zb="o",qb="a",Vb="n",Gb="p",kB="h";class NB{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ou("c:"+this.id+":"),this.transportManager_=new Lc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=sc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>IB?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>SB?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Zm in e){const n=e[Zm];n===qb?this.upgradeIfSecondaryHealthy_():n===$b?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===zb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Sl("t",e),r=Sl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Gb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Vb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Sl("t",e),r=Sl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Sl(Zm,e);if(Hb in e){const r=e[Hb];if(n===kB){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Vb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===TB?this.onConnectionShutdown_(r):n===$b?this.onReset_(r):n===CB?D0("Server Error: "+r):n===zb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):D0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Qv!==r&&Ft("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),sc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(EB))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(AB))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Gb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pT=class{constructor(e){this.allowedEvents_=e,this.listeners_={},F(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){F(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends pT{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$v()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new zh}getInitialEvent(e){return F(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=32,Qb=768;class Ce{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function be(){return new Ce("")}function ue(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ts(t){return t.pieces_.length-t.pieceNum_}function Oe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ce(t.pieces_,e)}function Jv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function PB(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Bc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ce(e,0)}function Ke(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ce)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ce(n,0)}function de(t){return t.pieceNum_>=t.pieces_.length}function Dt(t,e){const n=ue(t),r=ue(e);if(n===null)return e;if(n===r)return Dt(Oe(t),Oe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function RB(t,e){const n=Bc(t,0),r=Bc(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=vo(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Zv(t,e){if(ts(t)!==ts(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Tn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ts(t)>ts(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class OB{constructor(e,n){this.errorPrefix_=n,this.parts_=Bc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Sp(this.parts_[r]);gT(this)}}function jB(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Sp(e),gT(t)}function MB(t){const e=t.parts_.pop();t.byteLength_-=Sp(e),t.parts_.length>0&&(t.byteLength_-=1)}function gT(t){if(t.byteLength_>Qb)throw new Error(t.errorPrefix_+"has a key path longer than "+Qb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Wb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wb+") or object contains a cycle "+As(t))}function As(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends pT{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Xv}getInitialEvent(e){return F(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=1e3,DB=60*5*1e3,Kb=30*1e3,LB=1.3,BB=3e4,FB="server_kill",Yb=3;class Gr extends fT{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Gr.nextPersistentConnectionId_++,this.log_=Ou("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Il,this.maxReconnectDelay_=DB,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!BI())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&zh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(at(s)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Nu,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Gr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&vr(e,"w")){const r=ba(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ft(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||TD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Kb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=ID(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+at(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):D0("Unrecognized action received from server: "+at(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Il,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Il,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>BB&&(this.reconnectDelay_=Il),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*LB)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Gr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){F(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?vt("getToken() completed but was canceled"):(vt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new NB(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Ft(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(FB)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ft(d),l())}}}interrupt(e){vt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){vt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],N0(this.interruptReasons_)&&(this.reconnectDelay_=Il,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Wv(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ce(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){vt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Yb&&(this.reconnectDelay_=Kb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){vt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Yb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+GI.replace(/\./g,"-")]=1,$v()?e["framework.cordova"]=1:LI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=zh.getInstance().currentlyOnline();return N0(this.interruptReasons_)&&e}}Gr.nextPersistentConnectionId_=0;Gr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new he(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new he(Xs,e),i=new he(Xs,n);return this.compare(r,i)!==0}minPost(){return he.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd;class yT extends Ip{static get __EMPTY_NODE(){return gd}static set __EMPTY_NODE(e){gd=e}compare(e,n){return vo(e.name,n.name)}isDefinedOn(e){throw tl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return he.MIN}maxPost(){return new he(es,gd)}makePost(e,n){return F(typeof e=="string","KeyIndex indexValue must always be a string."),new he(e,gd)}toString(){return".key"}}const Us=new yT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ft{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ft.RED,this.left=i??Xt.EMPTY_NODE,this.right=s??Xt.EMPTY_NODE}copy(e,n,r,i,s){return new ft(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Xt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ft.RED=!0;ft.BLACK=!1;class UB{copy(e,n,r,i,s){return this}insert(e,n,r){return new ft(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Xt{constructor(e,n=Xt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Xt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ft.BLACK,null,null))}remove(e){return new Xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ft.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new yd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new yd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new yd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new yd(this.root_,null,this.comparator_,!0,e)}}Xt.EMPTY_NODE=new UB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t,e){return vo(t.name,e.name)}function e_(t,e){return vo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B0;function $B(t){B0=t}const vT=function(t){return typeof t=="number"?"number:"+YI(t):"string:"+t},_T=function(t){if(t.isLeafNode()){const e=t.val();F(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vr(e,".sv"),"Priority must be a string or number.")}else F(t===B0||t.isEmpty(),"priority of unexpected type.");F(t===B0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jb;class dt{constructor(e,n=dt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_T(this.priorityNode_)}static set __childrenNodeConstructor(e){Jb=e}static get __childrenNodeConstructor(){return Jb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new dt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:dt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:ue(e)===".priority"?this.priorityNode_:dt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:dt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ue(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(F(r!==".priority"||ts(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,dt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+vT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=YI(this.value_):e+=this.value_,this.lazyHash_=QI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===dt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof dt.__childrenNodeConstructor?-1:(F(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=dt.VALUE_TYPE_ORDER.indexOf(n),s=dt.VALUE_TYPE_ORDER.indexOf(r);return F(i>=0,"Unknown leaf type: "+n),F(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}dt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wT,xT;function zB(t){wT=t}function qB(t){xT=t}class VB extends Ip{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?vo(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return he.MIN}maxPost(){return new he(es,new dt("[PRIORITY-POST]",xT))}makePost(e,n){const r=wT(e);return new he(n,new dt("[PRIORITY-POST]",r))}toString(){return".priority"}}const ze=new VB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=Math.log(2);class WB{constructor(e){const n=s=>parseInt(Math.log(s)/GB,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qh=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new ft(f,d.node,ft.BLACK,null,null);{const p=parseInt(u/2,10)+l,y=i(l,p),v=i(p+1,c);return d=t[p],f=n?n(d):d,new ft(f,d.node,ft.BLACK,y,v)}},s=function(l){let c=null,u=null,d=t.length;const f=function(y,v){const w=d-y,g=d;d-=y;const m=i(w+1,g),_=t[w],b=n?n(_):_;p(new ft(b,_.node,v,null,m))},p=function(y){c?(c.left=y,c=y):(u=y,c=y)};for(let y=0;y<l.count;++y){const v=l.nextBitIsOne(),w=Math.pow(2,l.count-(y+1));v?f(w,ft.BLACK):(f(w,ft.BLACK),f(w,ft.RED))}return u},o=new WB(t.length),a=s(o);return new Xt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm;const Co={};class Ur{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return F(Co&&ze,"ChildrenNode.ts has not been loaded"),Xm=Xm||new Ur({".priority":Co},{".priority":ze}),Xm}get(e){const n=ba(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Xt?n:null}hasIndex(e){return vr(this.indexSet_,e.toString())}addIndex(e,n){F(e!==Us,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(he.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=qh(r,e.getCompare()):a=Co;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ur(u,c)}addToIndexes(e,n){const r=Fh(this.indexes_,(i,s)=>{const o=ba(this.indexSet_,s);if(F(o,"Missing index implementation for "+s),i===Co)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(he.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),qh(a,o.getCompare())}else return Co;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new he(e.name,a))),l.insert(e,e.node)}});return new Ur(r,this.indexSet_)}removeFromIndexes(e,n){const r=Fh(this.indexes_,i=>{if(i===Co)return i;{const s=n.get(e.name);return s?i.remove(new he(e.name,s)):i}});return new Ur(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;class J{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_T(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Tl||(Tl=new J(new Xt(e_),null,Ur.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tl}updatePriority(e){return this.children_.isEmpty()?this:new J(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Tl:n}}getChild(e){const n=ue(e);return n===null?this:this.getImmediateChild(n).getChild(Oe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(F(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new he(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Tl:this.priorityNode_;return new J(i,o,s)}}updateChild(e,n){const r=ue(e);if(r===null)return n;{F(ue(e)!==".priority"||ts(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Oe(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ze,(o,a)=>{n[o]=a.val(e),r++,s&&J.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+vT(this.getPriority().val())+":"),this.forEachChild(ze,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":QI(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new he(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new he(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new he(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,he.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,he.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ju?-1:0}withIndex(e){if(e===Us||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new J(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Us||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ze),i=n.getIterator(ze);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Us?null:this.indexMap_.get(e.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class QB extends J{constructor(){super(new Xt(e_),J.EMPTY_NODE,Ur.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J.EMPTY_NODE}isEmpty(){return!1}}const ju=new QB;Object.defineProperties(he,{MIN:{value:new he(Xs,J.EMPTY_NODE)},MAX:{value:new he(es,ju)}});yT.__EMPTY_NODE=J.EMPTY_NODE;dt.__childrenNodeConstructor=J;$B(ju);qB(ju);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=!0;function ot(t,e=null){if(t===null)return J.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),F(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new dt(n,ot(e))}if(!(t instanceof Array)&&KB){const n=[];let r=!1;if(bt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=ot(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new he(o,l)))}}),n.length===0)return J.EMPTY_NODE;const s=qh(n,HB,o=>o.name,e_);if(r){const o=qh(n,ze.getCompare());return new J(s,ot(e),new Ur({".priority":o},{".priority":ze}))}else return new J(s,ot(e),Ur.Default)}else{let n=J.EMPTY_NODE;return bt(t,(r,i)=>{if(vr(t,r)&&r.substring(0,1)!=="."){const s=ot(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ot(e))}}zB(ot);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends Ip{constructor(e){super(),this.indexPath_=e,F(!de(e)&&ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?vo(e.name,n.name):s}makePost(e,n){const r=ot(e),i=J.EMPTY_NODE.updateChild(this.indexPath_,r);return new he(n,i)}maxPost(){const e=J.EMPTY_NODE.updateChild(this.indexPath_,ju);return new he(es,e)}toString(){return Bc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB extends Ip{compare(e,n){const r=e.node.compareTo(n.node);return r===0?vo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,n){const r=ot(e);return new he(n,r)}toString(){return".value"}}const bT=new YB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t){return{type:"value",snapshotNode:t}}function Aa(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Fc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Uc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function JB(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){F(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Fc(n,a)):F(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Aa(n,r)):o.trackChildChange(Uc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ze,(i,s)=>{n.hasChild(i)||r.trackChildChange(Fc(i,s))}),n.isLeafNode()||n.forEachChild(ze,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Uc(i,s,o))}else r.trackChildChange(Aa(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?J.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this.indexedFilter_=new n_(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Hc.getStartPost_(e),this.endPost_=Hc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new he(n,r))||(r=J.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=J.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(J.EMPTY_NODE);const s=this;return n.forEachChild(ze,(o,a)=>{s.matches(new he(o,a))||(i=i.updateImmediateChild(o,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Hc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new he(n,r))||(r=J.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=J.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(J.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=e;F(a.numChildren()===this.limit_,"");const l=new he(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(Uc(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Fc(n,d));const v=a.updateImmediateChild(n,J.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Aa(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Fc(c.name,c.node)),s.trackChildChange(Aa(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,J.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xs}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:es}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ze}copy(){const e=new r_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function XB(t){return t.loadsAllData()?new n_(t.getIndex()):t.hasLimit()?new ZB(t):new Hc(t)}function e3(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function t3(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function n3(t,e){const n=t.copy();return n.index_=e,n}function Zb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ze?n="$priority":t.index_===bT?n="$value":t.index_===Us?n="$key":(F(t.index_ instanceof t_,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=at(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=at(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+at(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=at(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+at(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Xb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ze&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends fT{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ou("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(F(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Vh.getListenId_(e,r),a={};this.listens_[o]=a;const l=Zb(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),ba(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=Vh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Zb(e._queryParams),r=e._path.toString(),i=new Nu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+nl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Mc(a.responseText)}catch{Ft("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ft("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(){return{value:null,children:new Map}}function AT(t,e,n){if(de(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ue(e);t.children.has(r)||t.children.set(r,Gh());const i=t.children.get(r);e=Oe(e),AT(i,e,n)}}function F0(t,e,n){t.value!==null?n(e,t.value):i3(t,(r,i)=>{const s=new Ce(e.toString()+"/"+r);F0(i,s,n)})}function i3(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&bt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=10*1e3,o3=30*1e3,a3=5*60*1e3;class l3{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new s3(e);const r=eE+(o3-eE)*Math.random();sc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;bt(e,(i,s)=>{s>0&&vr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),sc(this.reportStats_.bind(this),Math.floor(Math.random()*2*a3))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Un||(Un={}));function i_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function s_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function o_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Un.ACK_USER_WRITE,this.source=i_()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ce(e));return new Wh(be(),n,this.revert)}}else return F(ue(this.path)===e,"operationForChild called for unrelated child."),new Wh(Oe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.source=e,this.path=n,this.type=Un.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new $c(this.source,be()):new $c(this.source,Oe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Un.OVERWRITE}operationForChild(e){return de(this.path)?new eo(this.source,be(),this.snap.getImmediateChild(e)):new eo(this.source,Oe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Un.MERGE}operationForChild(e){if(de(this.path)){const n=this.children.subtree(new Ce(e));return n.isEmpty()?null:n.value?new eo(this.source,be(),n.value):new Sa(this.source,be(),n)}else return F(ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Sa(this.source,Oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const n=ue(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function u3(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(JB(o.childName,o.snapshotNode))}),Cl(t,i,"child_removed",e,r,n),Cl(t,i,"child_added",e,r,n),Cl(t,i,"child_moved",s,r,n),Cl(t,i,"child_changed",e,r,n),Cl(t,i,"value",e,r,n),i}function Cl(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>h3(t,a,l)),o.forEach(a=>{const l=d3(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function d3(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function h3(t,e,n){if(e.childName==null||n.childName==null)throw tl("Should only compare child_ events.");const r=new he(e.childName,e.snapshotNode),i=new he(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t,e){return{eventCache:t,serverCache:e}}function oc(t,e,n,r){return Tp(new ns(e,n,r),t.serverCache)}function ST(t,e,n,r){return Tp(t.eventCache,new ns(e,n,r))}function Qh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function to(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg;const f3=()=>(eg||(eg=new Xt(YL)),eg);class Re{constructor(e,n=f3()){this.value=e,this.children=n}static fromObject(e){let n=new Re(null);return bt(e,(r,i)=>{n=n.set(new Ce(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:be(),value:this.value};if(de(e))return null;{const r=ue(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Oe(e),n);return s!=null?{path:Ke(new Ce(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const n=ue(e),r=this.children.get(n);return r!==null?r.subtree(Oe(e)):new Re(null)}}set(e,n){if(de(e))return new Re(n,this.children);{const r=ue(e),s=(this.children.get(r)||new Re(null)).set(Oe(e),n),o=this.children.insert(r,s);return new Re(this.value,o)}}remove(e){if(de(e))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const n=ue(e),r=this.children.get(n);if(r){const i=r.remove(Oe(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Re(null):new Re(this.value,s)}else return this}}get(e){if(de(e))return this.value;{const n=ue(e),r=this.children.get(n);return r?r.get(Oe(e)):null}}setTree(e,n){if(de(e))return n;{const r=ue(e),s=(this.children.get(r)||new Re(null)).setTree(Oe(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Re(this.value,o)}}fold(e){return this.fold_(be(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ke(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,be(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(de(e))return null;{const s=ue(e),o=this.children.get(s);return o?o.findOnPath_(Oe(e),Ke(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,be(),n)}foreachOnPath_(e,n,r){if(de(e))return this;{this.value&&r(n,this.value);const i=ue(e),s=this.children.get(i);return s?s.foreachOnPath_(Oe(e),Ke(n,i),r):new Re(null)}}foreach(e){this.foreach_(be(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ke(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.writeTree_=e}static empty(){return new Vn(new Re(null))}}function ac(t,e,n){if(de(e))return new Vn(new Re(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Dt(i,e);return s=s.updateChild(o,n),new Vn(t.writeTree_.set(i,s))}else{const i=new Re(n),s=t.writeTree_.setTree(e,i);return new Vn(s)}}}function U0(t,e,n){let r=t;return bt(n,(i,s)=>{r=ac(r,Ke(e,i),s)}),r}function tE(t,e){if(de(e))return Vn.empty();{const n=t.writeTree_.setTree(e,new Re(null));return new Vn(n)}}function H0(t,e){return _o(t,e)!=null}function _o(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Dt(n.path,e)):null}function nE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ze,(r,i)=>{e.push(new he(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new he(r,i.value))}),e}function Gi(t,e){if(de(e))return t;{const n=_o(t,e);return n!=null?new Vn(new Re(n)):new Vn(t.writeTree_.subtree(e))}}function $0(t){return t.writeTree_.isEmpty()}function Ia(t,e){return IT(be(),t.writeTree_,e)}function IT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(F(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=IT(Ke(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ke(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e){return NT(e,t)}function p3(t,e,n,r,i){F(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ac(t.visibleWrites,e,n)),t.lastWriteId=r}function m3(t,e,n,r){F(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=U0(t.visibleWrites,e,n),t.lastWriteId=r}function g3(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function y3(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);F(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&v3(a,r.path)?i=!1:Tn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return _3(t),!0;if(r.snap)t.visibleWrites=tE(t.visibleWrites,r.path);else{const a=r.children;bt(a,l=>{t.visibleWrites=tE(t.visibleWrites,Ke(r.path,l))})}return!0}else return!1}function v3(t,e){if(t.snap)return Tn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Tn(Ke(t.path,n),e))return!0;return!1}function _3(t){t.visibleWrites=TT(t.allWrites,w3,be()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function w3(t){return t.visible}function TT(t,e,n){let r=Vn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Tn(n,o)?(a=Dt(n,o),r=ac(r,a,s.snap)):Tn(o,n)&&(a=Dt(o,n),r=ac(r,be(),s.snap.getChild(a)));else if(s.children){if(Tn(n,o))a=Dt(n,o),r=U0(r,a,s.children);else if(Tn(o,n))if(a=Dt(o,n),de(a))r=U0(r,be(),s.children);else{const l=ba(s.children,ue(a));if(l){const c=l.getChild(Oe(a));r=ac(r,be(),c)}}}else throw tl("WriteRecord should have .snap or .children")}}return r}function CT(t,e,n,r,i){if(!r&&!i){const s=_o(t.visibleWrites,e);if(s!=null)return s;{const o=Gi(t.visibleWrites,e);if($0(o))return n;if(n==null&&!H0(o,be()))return null;{const a=n||J.EMPTY_NODE;return Ia(o,a)}}}else{const s=Gi(t.visibleWrites,e);if(!i&&$0(s))return n;if(!i&&n==null&&!H0(s,be()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Tn(c.path,e)||Tn(e,c.path))},a=TT(t.allWrites,o,e),l=n||J.EMPTY_NODE;return Ia(a,l)}}}function x3(t,e,n){let r=J.EMPTY_NODE;const i=_o(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ze,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Gi(t.visibleWrites,e);return n.forEachChild(ze,(o,a)=>{const l=Ia(Gi(s,new Ce(o)),a);r=r.updateImmediateChild(o,l)}),nE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Gi(t.visibleWrites,e);return nE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function b3(t,e,n,r,i){F(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ke(e,n);if(H0(t.visibleWrites,s))return null;{const o=Gi(t.visibleWrites,s);return $0(o)?i.getChild(n):Ia(o,i.getChild(n))}}function E3(t,e,n,r){const i=Ke(e,n),s=_o(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Gi(t.visibleWrites,i);return Ia(o,r.getNode().getImmediateChild(n))}else return null}function A3(t,e){return _o(t.visibleWrites,e)}function S3(t,e,n,r,i,s,o){let a;const l=Gi(t.visibleWrites,e),c=_o(l,be());if(c!=null)a=c;else if(n!=null)a=Ia(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function I3(){return{visibleWrites:Vn.empty(),allWrites:[],lastWriteId:-1}}function Kh(t,e,n,r){return CT(t.writeTree,t.treePath,e,n,r)}function a_(t,e){return x3(t.writeTree,t.treePath,e)}function rE(t,e,n,r){return b3(t.writeTree,t.treePath,e,n,r)}function Yh(t,e){return A3(t.writeTree,Ke(t.treePath,e))}function T3(t,e,n,r,i,s){return S3(t.writeTree,t.treePath,e,n,r,i,s)}function l_(t,e,n){return E3(t.writeTree,t.treePath,e,n)}function kT(t,e){return NT(Ke(t.treePath,e),t.writeTree)}function NT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;F(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),F(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Uc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Fc(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Aa(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Uc(r,e.snapshotNode,i.oldSnap));else throw tl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const PT=new k3;class c_{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ns(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return l_(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:to(this.viewCache_),s=T3(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){return{filter:t}}function P3(t,e){F(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),F(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function R3(t,e,n,r,i){const s=new C3;let o,a;if(n.type===Un.OVERWRITE){const c=n;c.source.fromUser?o=z0(t,e,c.path,c.snap,r,i,s):(F(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!de(c.path),o=Jh(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Un.MERGE){const c=n;c.source.fromUser?o=j3(t,e,c.path,c.children,r,i,s):(F(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=q0(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Un.ACK_USER_WRITE){const c=n;c.revert?o=L3(t,e,c.path,r,i,s):o=M3(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Un.LISTEN_COMPLETE)o=D3(t,e,n.path,r,s);else throw tl("Unknown operation type: "+n.type);const l=s.getChanges();return O3(e,o,l),{viewCache:o,changes:l}}function O3(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Qh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ET(Qh(e)))}}function RT(t,e,n,r,i,s){const o=e.eventCache;if(Yh(r,n)!=null)return e;{let a,l;if(de(n))if(F(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=to(e),u=c instanceof J?c:J.EMPTY_NODE,d=a_(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Kh(r,to(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ue(n);if(c===".priority"){F(ts(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=rE(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Oe(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=rE(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=l_(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return oc(e,a,o.isFullyInitialized()||de(n),t.filter.filtersNodes())}}function Jh(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(de(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=ue(n);if(!l.isCompleteForPath(n)&&ts(n)>1)return e;const y=Oe(n),w=l.getNode().getImmediateChild(p).updateChild(y,r);p===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),p,w,y,PT,null)}const d=ST(e,c,l.isFullyInitialized()||de(n),u.filtersNodes()),f=new c_(i,d,s);return RT(t,d,n,i,f,a)}function z0(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new c_(i,e,s);if(de(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=oc(e,c,!0,t.filter.filtersNodes());else{const d=ue(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=oc(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Oe(n),p=a.getNode().getImmediateChild(d);let y;if(de(f))y=r;else{const v=u.getCompleteChild(d);v!=null?Jv(f)===".priority"&&v.getChild(mT(f)).isEmpty()?y=v:y=v.updateChild(f,r):y=J.EMPTY_NODE}if(p.equals(y))l=e;else{const v=t.filter.updateChild(a.getNode(),d,y,f,u,o);l=oc(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function iE(t,e){return t.eventCache.isCompleteForChild(e)}function j3(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Ke(n,l);iE(e,ue(u))&&(a=z0(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Ke(n,l);iE(e,ue(u))||(a=z0(t,a,u,c,i,s,o))}),a}function sE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function q0(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;de(n)?c=r:c=new Re(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),y=sE(t,p,f);l=Jh(t,l,new Ce(d),y,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const y=e.serverCache.getNode().getImmediateChild(d),v=sE(t,y,f);l=Jh(t,l,new Ce(d),v,i,s,o,a)}}),l}function M3(t,e,n,r,i,s,o){if(Yh(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(de(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Jh(t,e,n,l.getNode().getChild(n),i,s,a,o);if(de(n)){let c=new Re(null);return l.getNode().forEachChild(Us,(u,d)=>{c=c.set(new Ce(u),d)}),q0(t,e,n,c,i,s,a,o)}else return e}else{let c=new Re(null);return r.foreach((u,d)=>{const f=Ke(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),q0(t,e,n,c,i,s,a,o)}}function D3(t,e,n,r,i){const s=e.serverCache,o=ST(e,s.getNode(),s.isFullyInitialized()||de(n),s.isFiltered());return RT(t,o,n,r,PT,i)}function L3(t,e,n,r,i,s){let o;if(Yh(r,n)!=null)return e;{const a=new c_(r,e,i),l=e.eventCache.getNode();let c;if(de(n)||ue(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Kh(r,to(e));else{const d=e.serverCache.getNode();F(d instanceof J,"serverChildren would be complete if leaf node"),u=a_(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=ue(n);let d=l_(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Oe(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,J.EMPTY_NODE,Oe(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Kh(r,to(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Yh(r,be())!=null,oc(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new n_(r.getIndex()),s=XB(r);this.processor_=N3(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(J.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(J.EMPTY_NODE,a.getNode(),null),u=new ns(l,o.isFullyInitialized(),i.filtersNodes()),d=new ns(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Tp(d,u),this.eventGenerator_=new c3(this.query_)}get query(){return this.query_}}function F3(t){return t.viewCache_.serverCache.getNode()}function U3(t){return Qh(t.viewCache_)}function H3(t,e){const n=to(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!de(e)&&!n.getImmediateChild(ue(e)).isEmpty())?n.getChild(e):null}function oE(t){return t.eventRegistrations_.length===0}function $3(t,e){t.eventRegistrations_.push(e)}function aE(t,e,n){const r=[];if(n){F(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function lE(t,e,n,r){e.type===Un.MERGE&&e.source.queryId!==null&&(F(to(t.viewCache_),"We should always have a full cache before handling merges"),F(Qh(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=R3(t.processor_,i,e,n,r);return P3(t.processor_,s.viewCache),F(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,OT(t,s.changes,s.viewCache.eventCache.getNode(),null)}function z3(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ze,(s,o)=>{r.push(Aa(s,o))}),n.isFullyInitialized()&&r.push(ET(n.getNode())),OT(t,r,n.getNode(),e)}function OT(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return u3(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh;class jT{constructor(){this.views=new Map}}function q3(t){F(!Zh,"__referenceConstructor has already been defined"),Zh=t}function V3(){return F(Zh,"Reference.ts has not been loaded"),Zh}function G3(t){return t.views.size===0}function u_(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return F(s!=null,"SyncTree gave us an op for an invalid query."),lE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(lE(o,e,n,r));return s}}function MT(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Kh(n,i?r:null),l=!1;a?l=!0:r instanceof J?(a=a_(n,r),l=!1):(a=J.EMPTY_NODE,l=!1);const c=Tp(new ns(a,l,!1),new ns(r,i,!1));return new B3(e,c)}return o}function W3(t,e,n,r,i,s){const o=MT(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),$3(o,n),z3(o,n)}function Q3(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=rs(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(aE(c,n,r)),oE(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(aE(l,n,r)),oE(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!rs(t)&&s.push(new(V3())(e._repo,e._path)),{removed:s,events:o}}function DT(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Wi(t,e){let n=null;for(const r of t.views.values())n=n||H3(r,e);return n}function LT(t,e){if(e._queryParams.loadsAllData())return kp(t);{const r=e._queryIdentifier;return t.views.get(r)}}function BT(t,e){return LT(t,e)!=null}function rs(t){return kp(t)!=null}function kp(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh;function K3(t){F(!Xh,"__referenceConstructor has already been defined"),Xh=t}function Y3(){return F(Xh,"Reference.ts has not been loaded"),Xh}let J3=1;class cE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Re(null),this.pendingWriteTree_=I3(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function FT(t,e,n,r,i){return p3(t.pendingWriteTree_,e,n,r,i),i?sl(t,new eo(i_(),e,n)):[]}function Z3(t,e,n,r){m3(t.pendingWriteTree_,e,n,r);const i=Re.fromObject(n);return sl(t,new Sa(i_(),e,i))}function Pi(t,e,n=!1){const r=g3(t.pendingWriteTree_,e);if(y3(t.pendingWriteTree_,e)){let s=new Re(null);return r.snap!=null?s=s.set(be(),!0):bt(r.children,o=>{s=s.set(new Ce(o),!0)}),sl(t,new Wh(r.path,s,n))}else return[]}function Mu(t,e,n){return sl(t,new eo(s_(),e,n))}function X3(t,e,n){const r=Re.fromObject(n);return sl(t,new Sa(s_(),e,r))}function eF(t,e){return sl(t,new $c(s_(),e))}function tF(t,e,n){const r=h_(t,n);if(r){const i=f_(r),s=i.path,o=i.queryId,a=Dt(s,e),l=new $c(o_(o),a);return p_(t,s,l)}else return[]}function ef(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||BT(o,e))){const l=Q3(o,e,n,r);G3(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,p)=>rs(p));if(u&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=iF(f);for(let y=0;y<p.length;++y){const v=p[y],w=v.query,g=zT(t,v);t.listenProvider_.startListening(lc(w),zc(t,w),g.hashFn,g.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(lc(e),null):c.forEach(f=>{const p=t.queryToTagMap.get(Np(f));t.listenProvider_.stopListening(lc(f),p)}))}sF(t,c)}return a}function UT(t,e,n,r){const i=h_(t,r);if(i!=null){const s=f_(i),o=s.path,a=s.queryId,l=Dt(o,e),c=new eo(o_(a),l,n);return p_(t,o,c)}else return[]}function nF(t,e,n,r){const i=h_(t,r);if(i){const s=f_(i),o=s.path,a=s.queryId,l=Dt(o,e),c=Re.fromObject(n),u=new Sa(o_(a),l,c);return p_(t,o,u)}else return[]}function V0(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,p)=>{const y=Dt(f,i);s=s||Wi(p,y),o=o||rs(p)});let a=t.syncPointTree_.get(i);a?(o=o||rs(a),s=s||Wi(a,be())):(a=new jT,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=J.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,y)=>{const v=Wi(y,be());v&&(s=s.updateImmediateChild(p,v))}));const c=BT(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Np(e);F(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=oF();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const u=Cp(t.pendingWriteTree_,i);let d=W3(a,e,n,u,s,l);if(!c&&!o&&!r){const f=LT(a,e);d=d.concat(aF(t,e,f))}return d}function d_(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Dt(o,e),c=Wi(a,l);if(c)return c});return CT(i,e,s,n,!0)}function rF(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=Dt(c,n);r=r||Wi(u,d)});let i=t.syncPointTree_.get(n);i?r=r||Wi(i,be()):(i=new jT,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new ns(r,!0,!1):null,a=Cp(t.pendingWriteTree_,e._path),l=MT(i,e,a,s?o.getNode():J.EMPTY_NODE,s);return U3(l)}function sl(t,e){return HT(e,t.syncPointTree_,null,Cp(t.pendingWriteTree_,be()))}function HT(t,e,n,r){if(de(t.path))return $T(t,e,n,r);{const i=e.get(be());n==null&&i!=null&&(n=Wi(i,be()));let s=[];const o=ue(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=kT(r,o);s=s.concat(HT(a,l,c,u))}return i&&(s=s.concat(u_(i,t,r,n))),s}}function $T(t,e,n,r){const i=e.get(be());n==null&&i!=null&&(n=Wi(i,be()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=kT(r,o),u=t.operationForChild(o);u&&(s=s.concat($T(u,a,l,c)))}),i&&(s=s.concat(u_(i,t,r,n))),s}function zT(t,e){const n=e.query,r=zc(t,n);return{hashFn:()=>(F3(e)||J.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?tF(t,n._path,r):eF(t,n._path);{const s=XL(i,n);return ef(t,n,null,s)}}}}function zc(t,e){const n=Np(e);return t.queryToTagMap.get(n)}function Np(t){return t._path.toString()+"$"+t._queryIdentifier}function h_(t,e){return t.tagToQueryMap.get(e)}function f_(t){const e=t.indexOf("$");return F(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ce(t.substr(0,e))}}function p_(t,e,n){const r=t.syncPointTree_.get(e);F(r,"Missing sync point for query tag that we're tracking");const i=Cp(t.pendingWriteTree_,e);return u_(r,n,i,null)}function iF(t){return t.fold((e,n,r)=>{if(n&&rs(n))return[kp(n)];{let i=[];return n&&(i=DT(n)),bt(r,(s,o)=>{i=i.concat(o)}),i}})}function lc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Y3())(t._repo,t._path):t}function sF(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Np(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function oF(){return J3++}function aF(t,e,n){const r=e._path,i=zc(t,e),s=zT(t,n),o=t.listenProvider_.startListening(lc(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)F(!rs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!de(c)&&u&&rs(u))return[kp(u).query];{let f=[];return u&&(f=f.concat(DT(u).map(p=>p.query))),bt(d,(p,y)=>{f=f.concat(y)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(lc(u),zc(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new m_(n)}node(){return this.node_}}class g_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ke(this.path_,e);return new g_(this.syncTree_,n)}node(){return d_(this.syncTree_,this.path_)}}const lF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},uE=function(t,e,n){if(!t||typeof t!="object")return t;if(F(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return cF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return uF(t[".sv"],e);F(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},cF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:F(!1,"Unexpected server value: "+t)}},uF=function(t,e,n){t.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&F(!1,"Unexpected increment value: "+r);const i=e.node();if(F(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},qT=function(t,e,n,r){return y_(e,new g_(n,t),r)},VT=function(t,e,n){return y_(t,new m_(e),n)};function y_(t,e,n){const r=t.getPriority().val(),i=uE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=uE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new dt(a,ot(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new dt(i))),o.forEachChild(ze,(a,l)=>{const c=y_(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function __(t,e){let n=e instanceof Ce?e:new Ce(e),r=t,i=ue(n);for(;i!==null;){const s=ba(r.node.children,i)||{children:{},childCount:0};r=new v_(i,r,s),n=Oe(n),i=ue(n)}return r}function ol(t){return t.node.value}function GT(t,e){t.node.value=e,G0(t)}function WT(t){return t.node.childCount>0}function dF(t){return ol(t)===void 0&&!WT(t)}function Pp(t,e){bt(t.node.children,(n,r)=>{e(new v_(n,t,r))})}function QT(t,e,n,r){n&&!r&&e(t),Pp(t,i=>{QT(i,e,!0,r)}),n&&r&&e(t)}function hF(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Du(t){return new Ce(t.parent===null?t.name:Du(t.parent)+"/"+t.name)}function G0(t){t.parent!==null&&fF(t.parent,t.name,t)}function fF(t,e,n){const r=dF(n),i=vr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,G0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,G0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=/[\[\].#$\/\u0000-\u001F\u007F]/,mF=/[\[\].#$\u0000-\u001F\u007F]/,tg=10*1024*1024,w_=function(t){return typeof t=="string"&&t.length!==0&&!pF.test(t)},KT=function(t){return typeof t=="string"&&t.length!==0&&!mF.test(t)},gF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),KT(t)},W0=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Gv(t)||t&&typeof t=="object"&&vr(t,".sv")},Lu=function(t,e,n,r){r&&e===void 0||Rp(Ap(t,"value"),e,n)},Rp=function(t,e,n){const r=n instanceof Ce?new OB(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+As(r));if(typeof e=="function")throw new Error(t+"contains a function "+As(r)+" with contents = "+e.toString());if(Gv(e))throw new Error(t+"contains "+e.toString()+" "+As(r));if(typeof e=="string"&&e.length>tg/3&&Sp(e)>tg)throw new Error(t+"contains a string greater than "+tg+" utf8 bytes "+As(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(bt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!w_(o)))throw new Error(t+" contains an invalid key ("+o+") "+As(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);jB(r,o),Rp(t,a,r),MB(r)}),i&&s)throw new Error(t+' contains ".value" child '+As(r)+" in addition to actual children.")}},yF=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Bc(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!w_(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(RB);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Tn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},vF=function(t,e,n,r){const i=Ap(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];bt(e,(o,a)=>{const l=new Ce(o);if(Rp(i,a,Ke(n,l)),Jv(l)===".priority"&&!W0(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),yF(i,s)},x_=function(t,e,n,r){if(!KT(n))throw new Error(Ap(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},_F=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),x_(t,e,n)},b_=function(t,e){if(ue(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},wF=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!w_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!gF(n))throw new Error(Ap(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Op(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Zv(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function YT(t,e,n){Op(t,n),JT(t,r=>Zv(r,e))}function Rn(t,e,n){Op(t,n),JT(t,r=>Tn(r,e)||Tn(e,r))}function JT(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(bF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function bF(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ic&&vt("event: "+n.toString()),il(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF="repo_interrupt",AF=25;class SF{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Gh(),this.transactionQueueTree_=new v_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IF(t,e,n){if(t.stats_=Kv(t.repoInfo_),t.forceRestClient_||rB())t.server_=new Vh(t.repoInfo_,(r,i,s,o)=>{dE(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>hE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{at(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Gr(t.repoInfo_,e,(r,i,s,o)=>{dE(t,r,i,s,o)},r=>{hE(t,r)},r=>{TF(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=lB(t.repoInfo_,()=>new l3(t.stats_,t.server_)),t.infoData_=new r3,t.infoSyncTree_=new cE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Mu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),E_(t,"connected",!1),t.serverSyncTree_=new cE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Rn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function ZT(t){const n=t.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function jp(t){return lF({timestamp:ZT(t)})}function dE(t,e,n,r,i){t.dataUpdateCount++;const s=new Ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Fh(n,c=>ot(c));o=nF(t.serverSyncTree_,s,l,i)}else{const l=ot(n);o=UT(t.serverSyncTree_,s,l,i)}else if(r){const l=Fh(n,c=>ot(c));o=X3(t.serverSyncTree_,s,l)}else{const l=ot(n);o=Mu(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Ta(t,s)),Rn(t.eventQueue_,a,o)}function hE(t,e){E_(t,"connected",e),e===!1&&PF(t)}function TF(t,e){bt(e,(n,r)=>{E_(t,n,r)})}function E_(t,e,n){const r=new Ce("/.info/"+e),i=ot(n);t.infoData_.updateSnapshot(r,i);const s=Mu(t.infoSyncTree_,r,i);Rn(t.eventQueue_,r,s)}function A_(t){return t.nextWriteId_++}function CF(t,e,n){const r=rF(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=ot(i).withIndex(e._queryParams.getIndex());V0(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Mu(t.serverSyncTree_,e._path,s);else{const a=zc(t.serverSyncTree_,e);o=UT(t.serverSyncTree_,e._path,s,a)}return Rn(t.eventQueue_,e._path,o),ef(t.serverSyncTree_,e,n,null,!0),s},i=>(Bu(t,"get for query "+at(e)+" failed: "+i),Promise.reject(new Error(i))))}function kF(t,e,n,r,i){Bu(t,"set",{path:e.toString(),value:n,priority:r});const s=jp(t),o=ot(n,r),a=d_(t.serverSyncTree_,e),l=VT(o,a,s),c=A_(t),u=FT(t.serverSyncTree_,e,l,c,!0);Op(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,p)=>{const y=f==="ok";y||Ft("set at "+e+" failed: "+f);const v=Pi(t.serverSyncTree_,c,!y);Rn(t.eventQueue_,e,v),Q0(t,i,f,p)});const d=I_(t,e);Ta(t,d),Rn(t.eventQueue_,d,[])}function NF(t,e,n,r){Bu(t,"update",{path:e.toString(),value:n});let i=!0;const s=jp(t),o={};if(bt(n,(a,l)=>{i=!1,o[a]=qT(Ke(e,a),ot(l),t.serverSyncTree_,s)}),i)vt("update() called with empty data.  Don't do anything."),Q0(t,r,"ok",void 0);else{const a=A_(t),l=Z3(t.serverSyncTree_,e,o,a);Op(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||Ft("update at "+e+" failed: "+c);const f=Pi(t.serverSyncTree_,a,!d),p=f.length>0?Ta(t,e):e;Rn(t.eventQueue_,p,f),Q0(t,r,c,u)}),bt(n,c=>{const u=I_(t,Ke(e,c));Ta(t,u)}),Rn(t.eventQueue_,e,[])}}function PF(t){Bu(t,"onDisconnectEvents");const e=jp(t),n=Gh();F0(t.onDisconnect_,be(),(i,s)=>{const o=qT(i,s,t.serverSyncTree_,e);AT(n,i,o)});let r=[];F0(n,be(),(i,s)=>{r=r.concat(Mu(t.serverSyncTree_,i,s));const o=I_(t,i);Ta(t,o)}),t.onDisconnect_=Gh(),Rn(t.eventQueue_,be(),r)}function RF(t,e,n){let r;ue(e._path)===".info"?r=V0(t.infoSyncTree_,e,n):r=V0(t.serverSyncTree_,e,n),YT(t.eventQueue_,e._path,r)}function OF(t,e,n){let r;ue(e._path)===".info"?r=ef(t.infoSyncTree_,e,n):r=ef(t.serverSyncTree_,e,n),YT(t.eventQueue_,e._path,r)}function jF(t){t.persistentConnection_&&t.persistentConnection_.interrupt(EF)}function Bu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),vt(n,...e)}function Q0(t,e,n,r){e&&il(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function XT(t,e,n){return d_(t.serverSyncTree_,e,n)||J.EMPTY_NODE}function S_(t,e=t.transactionQueueTree_){if(e||Mp(t,e),ol(e)){const n=tC(t,e);F(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&MF(t,Du(e),n)}else WT(e)&&Pp(e,n=>{S_(t,n)})}function MF(t,e,n){const r=n.map(c=>c.currentWriteId),i=XT(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];F(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Dt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Bu(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Pi(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Mp(t,__(t.transactionQueueTree_,e)),S_(t,t.transactionQueueTree_),Rn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)il(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ft("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Ta(t,e)}},o)}function Ta(t,e){const n=eC(t,e),r=Du(n),i=tC(t,n);return DF(t,i,r),r}function DF(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Dt(n,l.path);let u=!1,d;if(F(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Pi(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=AF)u=!0,d="maxretry",i=i.concat(Pi(t.serverSyncTree_,l.currentWriteId,!0));else{const f=XT(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){Rp("transaction failed: Data returned ",p,l.path);let y=ot(p);typeof p=="object"&&p!=null&&vr(p,".priority")||(y=y.updatePriority(f.getPriority()));const w=l.currentWriteId,g=jp(t),m=VT(y,f,g);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=m,l.currentWriteId=A_(t),o.splice(o.indexOf(w),1),i=i.concat(FT(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(Pi(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(Pi(t.serverSyncTree_,l.currentWriteId,!0))}Rn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Mp(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)il(r[a]);S_(t,t.transactionQueueTree_)}function eC(t,e){let n,r=t.transactionQueueTree_;for(n=ue(e);n!==null&&ol(r)===void 0;)r=__(r,n),e=Oe(e),n=ue(e);return r}function tC(t,e){const n=[];return nC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function nC(t,e,n){const r=ol(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Pp(e,i=>{nC(t,i,n)})}function Mp(t,e){const n=ol(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,GT(e,n.length>0?n:void 0)}Pp(e,r=>{Mp(t,r)})}function I_(t,e){const n=Du(eC(t,e)),r=__(t.transactionQueueTree_,e);return hF(r,i=>{ng(t,i)}),ng(t,r),QT(r,i=>{ng(t,i)}),n}function ng(t,e){const n=ol(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(F(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(F(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Pi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?GT(e,void 0):n.length=s+1,Rn(t.eventQueue_,Du(e),i);for(let o=0;o<r.length;o++)il(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function BF(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ft(`Invalid query segment '${n}' in query '${t}'`)}return e}const fE=function(t,e){const n=FF(t),r=n.namespace;n.domain==="firebase.com"&&ei(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ei("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||QL();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new oT(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ce(n.pathString)}},FF=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=LF(t.substring(u,d)));const f=BF(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",UF=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=pE.charAt(n%64),n=Math.floor(n/64);F(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=pE.charAt(e[i]);return F(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+at(this.snapshot.exportVal())}}class $F{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return de(this._path)?null:Jv(this._path)}get ref(){return new ci(this._repo,this._path)}get _queryIdentifier(){const e=Xb(this._queryParams),n=Wv(e);return n==="{}"?"default":n}get _queryObject(){return Xb(this._queryParams)}isEqual(e){if(e=Ot(e),!(e instanceof al))return!1;const n=this._repo===e._repo,r=Zv(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+PB(this._path)}}function zF(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function T_(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Us){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Xs)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==es)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ze){if(e!=null&&!W0(e)||n!=null&&!W0(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(F(t.getIndex()instanceof t_||t.getIndex()===bT,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function iC(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ci extends al{constructor(e,n){super(e,n,new r_,!1)}get parent(){const e=mT(this._path);return e===null?null:new ci(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class qc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ce(e),r=Vc(this.ref,e);return new qc(this._node.getChild(n),r,ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new qc(i,Vc(this.ref,r),ze)))}hasChild(e){const n=new Ce(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ze(t,e){return t=Ot(t),t._checkNotDeleted("ref"),e!==void 0?Vc(t._root,e):t._root}function Vc(t,e){return t=Ot(t),ue(t._path)===null?_F("child","path",e):x_("child","path",e),new ci(t._repo,Ke(t._path,e))}function sC(t,e){t=Ot(t),b_("push",t._path),Lu("push",e,t._path,!0);const n=ZT(t._repo),r=UF(n),i=Vc(t,r),s=Vc(t,r);let o;return e!=null?o=Qi(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function oC(t){return b_("remove",t._path),Qi(t,null)}function Qi(t,e){t=Ot(t),b_("set",t._path),Lu("set",e,t._path,!1);const n=new Nu;return kF(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function K0(t,e){vF("update",e,t._path);const n=new Nu;return NF(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Y0(t){t=Ot(t);const e=new rC(()=>{}),n=new Dp(e);return CF(t._repo,t,n).then(r=>new qc(r,new ci(t._repo,t._path),t._queryParams.getIndex()))}class Dp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new HF("value",this,new qc(e.snapshotNode,new ci(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new $F(this,e,n):null}matches(e){return e instanceof Dp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function qF(t,e,n,r,i){const s=new rC(n,void 0),o=new Dp(s);return RF(t._repo,t,o),()=>OF(t._repo,t,o)}function Ca(t,e,n,r){return qF(t,"value",e)}class Lp{}class VF extends Lp{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Lu("endAt",this._value,e._path,!0);const n=t3(e._queryParams,this._value,this._key);if(iC(n),T_(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new al(e._repo,e._path,n,e._orderByCalled)}}class GF extends Lp{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Lu("startAt",this._value,e._path,!0);const n=e3(e._queryParams,this._value,this._key);if(iC(n),T_(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new al(e._repo,e._path,n,e._orderByCalled)}}class WF extends Lp{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){zF(e,"orderByChild");const n=new Ce(this._path);if(de(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new t_(n),i=n3(e._queryParams,r);return T_(i),new al(e._repo,e._path,i,!0)}}function aC(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return x_("orderByChild","path",t),new WF(t)}class QF extends Lp{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Lu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new VF(this._value,this._key)._apply(new GF(this._value,this._key)._apply(e))}}function lC(t,e){return new QF(t,e)}function cC(t,...e){let n=Ot(t);for(const r of e)n=r._apply(n);return n}q3(ci);K3(ci);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="FIREBASE_DATABASE_EMULATOR_HOST",J0={};let YF=!1;function JF(t,e,n,r){t.repoInfo_=new oT(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function ZF(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ei("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=fE(s,i),a=o.repoInfo,l;typeof process<"u"&&Mb&&(l=Mb[KF]),l?(s=`http://${l}?ns=${a.namespace}`,o=fE(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new sB(t.name,t.options,e);wF("Invalid Firebase Database URL",o),de(o.path)||ei("Database URL must point to the root of a Firebase Database (not including a child path).");const u=e5(a,t,c,new iB(t.name,n));return new t5(u,t)}function XF(t,e){const n=J0[e];(!n||n[t.key]!==t)&&ei(`Database ${e}(${t.repoInfo_}) has already been deleted.`),jF(t),delete n[t.key]}function e5(t,e,n,r){let i=J0[e.name];i||(i={},J0[e.name]=i);let s=i[t.toURLString()];return s&&ei("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new SF(t,YF,n,r),i[t.toURLString()]=s,s}let t5=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(IF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ci(this._repo,be())),this._rootInternal}_delete(){return this._rootInternal!==null&&(XF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ei("Cannot call "+e+" on a deleted database.")}};function n5(t=zI(),e){const n=Vv(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=gD("database");r&&r5(n,...r)}return n}function r5(t,e,n,r={}){t=Ot(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ei("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ei('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new $d($d.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:yD(r.mockUserToken,t.app.options.projectId);s=new $d(o)}JF(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t){$L(rl),Ea(new Zs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return ZF(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Vi(Db,Lb,t),Vi(Db,Lb,"esm2017")}Gr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Gr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};i5();function C_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s5=uC,dC=new Pu("auth","Firebase",uC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new zv("@firebase/auth");function o5(t,...e){tf.logLevel<=ke.WARN&&tf.warn(`Auth (${rl}): ${t}`,...e)}function zd(t,...e){tf.logLevel<=ke.ERROR&&tf.error(`Auth (${rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw k_(t,...e)}function hr(t,...e){return k_(t,...e)}function hC(t,e,n){const r=Object.assign(Object.assign({},s5()),{[e]:n});return new Pu("auth","Firebase",r).create(e,{appName:t.name})}function Ki(t){return hC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dC.create(t,...e)}function X(t,e,...n){if(!t)throw k_(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zd(e),new Error(e)}function ti(t,e){t||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function a5(){return mE()==="http:"||mE()==="https:"}function mE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a5()||_D()||"connection"in navigator)?navigator.onLine:!0}function c5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ti(n>e,"Short delay should be less than long delay!"),this.isMobile=$v()||LI()}get(){return l5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t,e){ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=new Fu(3e4,6e4);function wo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ps(t,e,n,r,i={}){return pC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=nl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return vD()||(c.referrerPolicy="no-referrer"),fC.fetch()(mC(t,t.config.apiHost,n,a),c)})}async function pC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},u5),e);try{const i=new f5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw vd(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw hC(t,u,c);Qn(t,u)}}catch(i){if(i instanceof fs)throw i;Qn(t,"network-request-failed",{message:String(i)})}}async function Bp(t,e,n,r,i={}){const s=await ps(t,e,n,r,i);return"mfaPendingCredential"in s&&Qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function mC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?N_(t.config,i):`${t.config.apiScheme}://${i}`}function h5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class f5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),d5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hr(t,e,r);return i.customData._tokenResponse=n,i}function gE(t){return t!==void 0&&t.enterprise!==void 0}class p5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return h5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function m5(t,e){return ps(t,"GET","/v2/recaptchaConfig",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(t,e){return ps(t,"POST","/v1/accounts:delete",e)}async function gC(t,e){return ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y5(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=P_(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:cc(rg(i.auth_time)),issuedAtTime:cc(rg(i.iat)),expirationTime:cc(rg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rg(t){return Number(t)*1e3}function P_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Bh(n);return i?JSON.parse(i):(zd("Failed to decode base64 JWT payload"),null)}catch(i){return zd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yE(t){const e=P_(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fs&&v5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function v5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Gc(t,gC(n,{idToken:r}));X(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?yC(s.providerUserInfo):[],a=x5(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new X0(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function w5(t){const e=Ot(t);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yC(t){return t.map(e=>{var{providerId:n}=e,r=C_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(t,e){const n=await pC(t,{},async()=>{const r=nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=mC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E5(t,e){return ps(t,"POST","/v2/accounts:revokeToken",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=yE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await b5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new aa;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new aa,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $r{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=C_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new X0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gc(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return y5(this,e)}reload(){return w5(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fr(this.auth.app))return Promise.reject(Ki(this.auth));const e=await this.getIdToken();return await Gc(this,g5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:b,isAnonymous:A,providerData:T,stsTokenManager:k}=n;X(_&&k,e,"internal-error");const E=aa.fromJSON(this.name,k);X(typeof _=="string",e,"internal-error"),mi(d,e.name),mi(f,e.name),X(typeof b=="boolean",e,"internal-error"),X(typeof A=="boolean",e,"internal-error"),mi(p,e.name),mi(y,e.name),mi(v,e.name),mi(w,e.name),mi(g,e.name),mi(m,e.name);const U=new $r({uid:_,auth:e,email:f,emailVerified:b,displayName:d,isAnonymous:A,photoURL:y,phoneNumber:p,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:m});return T&&Array.isArray(T)&&(U.providerData=T.map(C=>Object.assign({},C))),w&&(U._redirectEventId=w),U}static async _fromIdTokenResponse(e,n,r=!1){const i=new aa;i.updateFromServerResponse(n);const s=new $r({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];X(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?yC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new aa;a.updateFromIdToken(r);const l=new $r({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new X0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;function zr(t){ti(t instanceof Function,"Expected a class definition");let e=vE.get(t);return e?(ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vC.type="NONE";const _E=vC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t,e,n){return`firebase:${t}:${e}:${n}`}class la{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qd(this.userKey,i.apiKey,s),this.fullPersistenceKey=qd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$r._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new la(zr(_E),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||zr(_E);const o=qd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=$r._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new la(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new la(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_C(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AC(e))return"Blackberry";if(SC(e))return"Webos";if(wC(e))return"Safari";if((e.includes("chrome/")||xC(e))&&!e.includes("edge/"))return"Chrome";if(EC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _C(t=$t()){return/firefox\//i.test(t)}function wC(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xC(t=$t()){return/crios\//i.test(t)}function bC(t=$t()){return/iemobile/i.test(t)}function EC(t=$t()){return/android/i.test(t)}function AC(t=$t()){return/blackberry/i.test(t)}function SC(t=$t()){return/webos/i.test(t)}function R_(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A5(t=$t()){var e;return R_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function S5(){return wD()&&document.documentMode===10}function IC(t=$t()){return R_(t)||EC(t)||SC(t)||AC(t)||/windows phone/i.test(t)||bC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t,e=[]){let n;switch(t){case"Browser":n=wE($t());break;case"Worker":n=`${wE($t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T5(t,e={}){return ps(t,"GET","/v2/passwordPolicy",wo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=6;class k5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:C5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xE(this),this.idTokenSubscription=new xE(this),this.beforeStateQueue=new I5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await la.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gC(this,{idToken:e}),r=await $r._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fr(this.app))return Promise.reject(Ki(this));const n=e?Ot(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fr(this.app)?Promise.reject(Ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fr(this.app)?Promise.reject(Ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T5(this),n=new k5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await E5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await la.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&o5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ll(t){return Ot(t)}class xE{constructor(e){this.auth=e,this.observer=null,this.addObserver=kD(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P5(t){Fp=t}function CC(t){return Fp.loadJS(t)}function R5(){return Fp.recaptchaEnterpriseScript}function O5(){return Fp.gapiScript}function j5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const M5="recaptcha-enterprise",D5="NO_RECAPTCHA";class L5{constructor(e){this.type=M5,this.auth=ll(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{m5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new p5(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;gE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(D5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&gE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=R5();l.length!==0&&(l+=a),CC(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function bE(t,e,n,r=!1){const i=new L5(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function EE(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await bE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await bE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(t,e){const n=Vv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Uh(s,e??{}))return i;Qn(i,"already-initialized")}return n.initialize({options:e})}function F5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function U5(t,e,n){const r=ll(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=kC(e),{host:o,port:a}=H5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),$5()}function kC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function H5(t){const e=kC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:AE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:AE(o)}}}function AE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function z5(t,e){return ps(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t,e){return Bp(t,"POST","/v1/accounts:signInWithPassword",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V5(t,e){return Bp(t,"POST","/v1/accounts:signInWithEmailLink",wo(t,e))}async function G5(t,e){return Bp(t,"POST","/v1/accounts:signInWithEmailLink",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends O_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return EE(e,n,"signInWithPassword",q5);case"emailLink":return V5(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return EE(e,r,"signUpPassword",z5);case"emailLink":return G5(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t,e){return Bp(t,"POST","/v1/accounts:signInWithIdp",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="http://localhost";class no extends O_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=C_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new no(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ca(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ca(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ca(e,n)}buildRequest(){const e={requestUri:W5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K5(t){const e=Ul(Hl(t)).link,n=e?Ul(Hl(e)).deep_link_id:null,r=Ul(Hl(t)).deep_link_id;return(r?Ul(Hl(r)).link:null)||r||n||e||t}class j_{constructor(e){var n,r,i,s,o,a;const l=Ul(Hl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Q5((i=l.mode)!==null&&i!==void 0?i:null);X(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=K5(e);try{return new j_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(e,n){return Wc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=j_.parseLink(n);return X(r,"argument-error"),Wc._fromEmailAndCode(e,r.code,r.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends NC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Uu{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return no._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Si.credential(n,r)}catch{return null}}}Si.GOOGLE_SIGN_IN_METHOD="google.com";Si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Uu{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.GITHUB_SIGN_IN_METHOD="github.com";Ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Uu{constructor(){super("twitter.com")}static credential(e,n){return no._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $r._fromIdTokenResponse(e,r,i),o=SE(r);return new ka({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=SE(r);return new ka({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function SE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends fs{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rf(e,n,r,i)}}function PC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(t,s,e,r):s})}async function Y5(t,e,n=!1){const r=await Gc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ka._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e,n=!1){const{auth:r}=t;if(Fr(r.app))return Promise.reject(Ki(r));const i="reauthenticate";try{const s=await Gc(t,PC(r,i,e,t),n);X(s.idToken,r,"internal-error");const o=P_(s.idToken);X(o,r,"internal-error");const{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),ka._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(t,e,n=!1){if(Fr(t.app))return Promise.reject(Ki(t));const r="signIn",i=await PC(t,r,e),s=await ka._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Z5(t,e){return RC(ll(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(t){const e=ll(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function e4(t,e,n){return Fr(t.app)?Promise.reject(Ki(t)):Z5(Ot(t),cl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&X5(t),r})}function t4(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function n4(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function r4(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}const sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sf,"1"),this.storage.removeItem(sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=1e3,s4=10;class jC extends OC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);S5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,s4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},i4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jC.type="LOCAL";const o4=jC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC extends OC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MC.type="SESSION";const DC=MC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Up(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await a4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Up.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=M_("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function c4(t){fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function u4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function h4(){return LC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firebaseLocalStorageDb",f4=1,of="firebaseLocalStorage",FC="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hp(t,e){return t.transaction([of],e?"readwrite":"readonly").objectStore(of)}function p4(){const t=indexedDB.deleteDatabase(BC);return new Hu(t).toPromise()}function ey(){const t=indexedDB.open(BC,f4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(of,{keyPath:FC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(of)?e(r):(r.close(),await p4(),e(await ey()))})})}async function IE(t,e,n){const r=Hp(t,!0).put({[FC]:e,value:n});return new Hu(r).toPromise()}async function m4(t,e){const n=Hp(t,!1).get(e),r=await new Hu(n).toPromise();return r===void 0?null:r.value}function TE(t,e){const n=Hp(t,!0).delete(e);return new Hu(n).toPromise()}const g4=800,y4=3;class UC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ey(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Up._getInstance(h4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await u4(),!this.activeServiceWorker)return;this.sender=new l4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ey();return await IE(e,sf,"1"),await TE(e,sf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>m4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Hp(i,!1).getAll();return new Hu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UC.type="LOCAL";const v4=UC;new Fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t,e){return e?zr(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends O_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function w4(t){return RC(t.auth,new D_(t),t.bypassAuthState)}function x4(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),J5(n,new D_(t),t.bypassAuthState)}async function b4(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),Y5(n,new D_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w4;case"linkViaPopup":case"linkViaRedirect":return b4;case"reauthViaPopup":case"reauthViaRedirect":return x4;default:Qn(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new Fu(2e3,1e4);class Jo extends HC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=M_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E4.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="pendingRedirect",Vd=new Map;class S4 extends HC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const r=await I4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I4(t,e){const n=k4(e),r=C4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function T4(t,e){Vd.set(t._key(),e)}function C4(t){return zr(t._redirectPersistence)}function k4(t){return qd(A4,t.config.apiKey,t.name)}async function N4(t,e,n=!1){if(Fr(t.app))return Promise.reject(Ki(t));const r=ll(t),i=_4(r,e),o=await new S4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=10*60*1e3;class R4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!O4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$C(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=P4&&this.cachedEventUids.clear(),this.cachedEventUids.has(CE(e))}saveEventToCache(e){this.cachedEventUids.add(CE(e)),this.lastProcessedEventTime=Date.now()}}function CE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $C({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function O4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $C(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(t,e={}){return ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D4=/^https?/;async function L4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await j4(t);for(const n of e)try{if(B4(n))return}catch{}Qn(t,"unauthorized-domain")}function B4(t){const e=Z0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!D4.test(n))return!1;if(M4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new Fu(3e4,6e4);function kE(){const t=fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function U4(t){return new Promise((e,n)=>{var r,i,s;function o(){kE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kE(),n(hr(t,"network-request-failed"))},timeout:F4.get()})}if(!((i=(r=fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=fr().gapi)===null||s===void 0)&&s.load)o();else{const a=j5("iframefcb");return fr()[a]=()=>{gapi.load?o():n(hr(t,"network-request-failed"))},CC(`${O5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Gd=null,e})}let Gd=null;function H4(t){return Gd=Gd||U4(t),Gd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=new Fu(5e3,15e3),z4="__/auth/iframe",q4="emulator/auth/iframe",V4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W4(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?N_(e,q4):`https://${t.config.authDomain}/${z4}`,r={apiKey:e.apiKey,appName:t.name,v:rl},i=G4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nl(r).slice(1)}`}async function Q4(t){const e=await H4(t),n=fr().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:W4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=hr(t,"network-request-failed"),a=fr().setTimeout(()=>{s(o)},$4.get());function l(){fr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y4=500,J4=600,Z4="_blank",X4="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e6(t,e,n,r=Y4,i=J4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},K4),{width:r.toString(),height:i.toString(),top:s,left:o}),c=$t().toLowerCase();n&&(a=xC(c)?Z4:n),_C(c)&&(e=e||X4,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,y])=>`${f}${p}=${y},`,"");if(A5(c)&&a!=="_self")return t6(e||"",a),new NE(null);const d=window.open(e||"",a,u);X(d,t,"popup-blocked");try{d.focus()}catch{}return new NE(d)}function t6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="__/auth/handler",r6="emulator/auth/handler",i6=encodeURIComponent("fac");async function PE(t,e,n,r,i,s){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rl,eventId:i};if(e instanceof NC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",N0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Uu){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${i6}=${encodeURIComponent(l)}`:"";return`${s6(t)}?${nl(a).slice(1)}${c}`}function s6({config:t}){return t.emulator?N_(t,r6):`https://${t.authDomain}/${n6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="webStorageSupport";class o6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DC,this._completeRedirectFn=N4,this._overrideRedirectResult=T4}async _openPopup(e,n,r,i){var s;ti((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await PE(e,n,r,Z0(),i);return e6(e,o,M_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await PE(e,n,r,Z0(),i);return c4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ti(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Q4(e),r=new R4(e);return n.register("authEvent",i=>(X(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ig,{type:ig},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ig];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IC()||wC()||R_()}}const a6=o6;var RE="@firebase/auth",OE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u6(t){Ea(new Zs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TC(t)},c=new N5(r,i,s,l);return F5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ea(new Zs("auth-internal",e=>{const n=ll(e.getProvider("auth").getImmediate());return(r=>new l6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(RE,OE,c6(t)),Vi(RE,OE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=5*60,h6=DI("authIdTokenMaxAge")||d6;let jE=null;const f6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>h6)return;const i=n==null?void 0:n.token;jE!==i&&(jE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function p6(t=zI()){const e=Vv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=B5(t,{popupRedirectResolver:a6,persistence:[v4,o4,DC]}),r=DI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=f6(s.toString());n4(n,o,()=>o(n.currentUser)),t4(n,a=>o(a))}}const i=jI("auth");return i&&U5(n,`http://${i}`),n}function m6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}P5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=hr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",m6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u6("Browser");const g6={apiKey:"AIzaSyBWQ-iyyLmFr48HhMNNpNxM4Dq9rSt2rx4",authDomain:"link-ccb84.firebaseapp.com",databaseURL:"https://link-ccb84-default-rtdb.firebaseio.com",projectId:"link-ccb84",storageBucket:"link-ccb84.appspot.com",messagingSenderId:"223750219885",appId:"1:223750219885:web:025b836b885b5f1c587764"},zC=$I(g6),Xe=n5(zC),$p=p6(zC),qC=S.createContext(void 0);function y6({children:t}){const[e,n]=S.useState(null),[r,i]=S.useState(!0),[s,o]=S.useState(!1);return S.useEffect(()=>r4($p,l=>{n(l),i(!1),o(!0)}),[]),h.jsx(qC.Provider,{value:{user:e,isLoading:r,isInitialized:s},children:t})}function L_(){const t=S.useContext(qC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const B_=56,af={chainId:`0x${B_.toString(16)}`,chainName:"BNB Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed.binance.org/"],blockExplorerUrls:["https://bscscan.com/"]},VC=S.createContext(void 0),sg={address:null,accounts:[],chainId:null,isConnecting:!1,error:null};function v6({children:t}){const[e,n]=S.useState(sg),r=S.useCallback(async()=>{if(!window.ethereum){n(a=>({...a,error:new Error("MetaMask is not installed")}));return}n(a=>({...a,isConnecting:!0,error:null}));try{const a=await window.ethereum.request({method:"eth_requestAccounts"}),l=await window.ethereum.request({method:"eth_chainId"});if(parseInt(l,16)!==B_)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:af.chainId}]})}catch(c){if(c.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[af]});else throw c}n(c=>({...c,address:a[0],accounts:a,chainId:parseInt(l,16),isConnecting:!1}))}catch(a){n(l=>({...l,error:a,isConnecting:!1}))}},[]),i=S.useCallback(async a=>{try{await window.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});const l=await window.ethereum.request({method:"eth_accounts"});n(c=>({...c,address:l[0],accounts:l}))}catch(l){n(c=>({...c,error:l}))}},[]),s=S.useCallback(async()=>{try{await window.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});const a=await window.ethereum.request({method:"eth_accounts"});n(l=>({...l,address:a[0],accounts:a}))}catch(a){n(l=>({...l,error:a}))}},[]),o=S.useCallback(()=>{n(sg)},[]);return S.useEffect(()=>(window.ethereum&&(window.ethereum.on("accountsChanged",a=>{n(l=>({...l,address:a[0]||null,accounts:a}))}),window.ethereum.on("chainChanged",a=>{n(l=>({...l,chainId:parseInt(a,16)}))}),window.ethereum.on("disconnect",()=>{n(sg)})),()=>{window.ethereum&&window.ethereum.removeAllListeners()}),[]),h.jsx(VC.Provider,{value:{...e,connectWallet:r,disconnectWallet:o,switchAccount:i,addAccount:s},children:t})}function $u(){const t=S.useContext(VC);if(t===void 0)throw new Error("useWallet must be used within a WalletProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(t,e)=>{const n=S.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>S.createElement("svg",{ref:u,..._6,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${w6(t)}`,a].join(" "),...c},[...e.map(([d,f])=>S.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=le("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=le("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=le("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=le("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=le("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=le("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=le("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=le("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=le("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=le("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=le("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=le("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=le("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=le("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=le("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=le("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Cn;(function(t){t.NUMBER="NUMBER_NUMBER",t.HEX="NUMBER_HEX",t.STR="NUMBER_STR",t.BIGINT="NUMBER_BIGINT"})(Cn||(Cn={}));var ni;(function(t){t.HEX="BYTES_HEX",t.UINT8ARRAY="BYTES_UINT8ARRAY"})(ni||(ni={}));const Ut={number:Cn.BIGINT,bytes:ni.HEX},re={number:Cn.HEX,bytes:ni.HEX};var Mr;(function(t){t.EARLIEST="earliest",t.LATEST="latest",t.PENDING="pending",t.SAFE="safe",t.FINALIZED="finalized",t.COMMITTED="committed"})(Mr||(Mr={}));var uc;(function(t){t.chainstart="chainstart",t.frontier="frontier",t.homestead="homestead",t.dao="dao",t.tangerineWhistle="tangerineWhistle",t.spuriousDragon="spuriousDragon",t.byzantium="byzantium",t.constantinople="constantinople",t.petersburg="petersburg",t.istanbul="istanbul",t.muirGlacier="muirGlacier",t.berlin="berlin",t.london="london",t.altair="altair",t.arrowGlacier="arrowGlacier",t.grayGlacier="grayGlacier",t.bellatrix="bellatrix",t.merge="merge",t.capella="capella",t.shanghai="shanghai"})(uc||(uc={}));const V_=Object.getPrototypeOf(Uint8Array);var LE=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const BE=Symbol.for("web3/base-provider");class zu{static isWeb3Provider(e){return e instanceof zu||!!(e&&e[BE])}get[BE](){return!0}send(e,n){this.request(e).then(r=>{n(null,r)}).catch(r=>{n(r)})}sendAsync(e){return LE(this,void 0,void 0,function*(){return this.request(e)})}asEIP1193Provider(){const e=Object.create(this),n=e.request;return e.request=function(i){return LE(this,void 0,void 0,function*(){return(yield n(i)).result})},e.asEIP1193Provider=void 0,e}}class B6 extends Array{constructor(e){super(),this._accountProvider=e}}const F6=100,U6=101,H6=201,$6=202,z6=203,q6=204,V6=205,G6=206,W6=207,Q6=208,K6=300,Y6=301,J6=310,Z6=311,X6=400,eU=402,tU=405,nU=407,rU=408,iU=410,sU=411,oU=412,aU=413,lU=414,cU=415,uU=416,dU=417,hU=418,fU=419,pU=420,mU=421,gU=422,yU=423,vU=424,_U=425,wU=426,xU=427,bU=428,EU=429,AU=430,SU=431,IU=432,TU=433,CU=434,kU=435,NU=436,PU=437,RU=438,OU=439,jU=440,MU=441,DU=500,LU=503,BU=505,FU=506,UU=507,HU=600,$U=602,zU=603,qU=604,VU=701,GU=702,WU=703,QU=704,KU=705,YU=706,JU=707,ZU=709,XU=801,e8=802,t8=4001,n8=4100,r8=4200,i8=4900,s8=4901,o8=902,a8=903,l8=1001,c8=1002,u8=1003,d8=1004,h8=1005,f8=1006,p8=1008,m8=1009,g8=1010,y8=1011,v8=1012,_8=1014,w8=1015,x8=1100,tk=1101,b8=1200,lf=-32700,cf=-32600,uf=-32601,df=-32602,hf=-32603,ff=-32e3,pf=-32001,mf=-32002,gf=-32003,yf=-32004,vf=-32005,_f=-32006;class te extends Error{get innerError(){return this.cause instanceof dc?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new dc(e):this.cause=e}constructor(e,n){super(e),Array.isArray(n)?this.cause=new dc(n):this.cause=n,this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(new.target.constructor):this.stack=new Error().stack}static convertToString(e,n=!1){if(e==null)return"undefined";const r=JSON.stringify(e,(i,s)=>typeof s=="bigint"?s.toString():s);return n&&["bigint","string"].includes(typeof e)?r.replace(/['\\"]+/g,""):r}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class dc extends te{constructor(e){super(`Multiple errors occurred: [${e.map(n=>n.message).join("], [")}]`),this.code=Q6,this.errors=e}}class ce extends te{constructor(e,n){super(`Invalid value given "${te.convertToString(e,!0)}". Error: ${n}.`),this.name=this.constructor.name}}class FE extends te{constructor(){super("Private key must be 32 bytes."),this.code=VU}}class E8 extends te{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=GU}}class A8 extends te{constructor(e){super(`"${e}"`),this.code=e8}}class nk extends te{constructor(){super("Invalid key derivation function"),this.code=WU}}class S8 extends te{constructor(){super("Key derivation failed - possibly wrong password"),this.code=QU}}class I8 extends te{constructor(){super("Unsupported key store version"),this.code=KU}}class T8 extends te{constructor(){super("Password cannot be empty"),this.code=YU}}class C8 extends te{constructor(){super("Initialization vector must be 16 bytes"),this.code=JU}}class k8 extends te{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=ZU}}class qu extends te{constructor(e,n){super(e),this.code=DU,n&&(this.errorCode=n.code,this.errorReason=n.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class ry extends qu{constructor(e){super("Connection not open",e),this.code=LU}}class N8 extends qu{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=BU}}class P8 extends qu{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=FU}}class R8 extends qu{constructor(e){super(`Request already sent with following id: ${e}`),this.code=UU}}class Ht extends te{constructor(e,n){super(e),this.code=K6,this.receipt=n}}class UE extends te{constructor(e,n){super(`The resolver at ${e} does not implement requested method: "${n}".`),this.address=e,this.name=n,this.code=Y6}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}}class Vp extends Ht{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,typeof e.data=="object"){let n;e.data&&"originalError"in e.data?n=e.data.originalError:n=e.data,this.data=n.data,this.cause=new Vp(n)}else this.data=e.data}setDecodedProperties(e,n,r){this.errorName=e,this.errorSignature=n,this.errorArgs=r}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}}class Hs extends Ht{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=J6,this.cause=new Vp(e)}}class O8 extends ce{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.`),this.code=Z6}}class j8 extends te{constructor(e){super(`ENS is not supported on network ${e}`),this.code=o8}}class M8 extends te{constructor(){super("Network not synced"),this.code=a8}}class HE extends te{constructor(e){super(`Invalid parameters passed. "${typeof e<"u"?e:""}"`),this.hint=e,this.code=W6}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}}class iy extends te{constructor(){super(...arguments),this.code=H6}}class xr extends te{constructor(){super("The method you're trying to call is not implemented."),this.code=$6}}class rk extends te{constructor(){super(...arguments),this.code=z6}}class D8 extends te{constructor(){super(...arguments),this.code=q6}}class ye extends te{constructor(e,n){super(e),this.code=V6,this.props=n??{}}}class L8 extends te{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=G6}}class Wd extends te{constructor(){super(...arguments),this.code=HU}}class sy extends te{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=$U}}class Cr extends te{constructor(){super(...arguments),this.code=zU}}class B8 extends te{constructor(){super(...arguments),this.code=qU}}class F8 extends ce{constructor(){super(...arguments),this.code=XU}}class G_ extends te{constructor(e,n){super(e),this.receipt=n,this.code=X6}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class wf extends te{constructor(e,n,r,i){super(`Transaction has been reverted by the EVM${r===void 0?"":`:
 ${te.convertToString(r)}`}`),this.reason=e,this.signature=n,this.receipt=r,this.data=i,this.code=eU}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class ik extends wf{constructor(e,n,r,i,s,o,a){super(e),this.reason=e,this.customErrorName=n,this.customErrorDecodedSignature=r,this.customErrorArguments=i,this.signature=s,this.receipt=o,this.data=a,this.code=RU}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class sk extends G_{constructor(e){super(`Transaction has been reverted by the EVM${e===void 0?"":`:
 ${te.convertToString(e)}`}`,e),this.code=tU}}class U8 extends G_{constructor(){super("Raw transaction undefined"),this.code=nU}}class $E extends G_{constructor(){super("Transaction not found"),this.code=AU}}class H8 extends ce{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=rU}}class $8 extends ce{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=PU}}class z8 extends ce{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=iU}}class q8 extends ce{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=sU}}class V8 extends ce{constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=oU}}class G8 extends ce{constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=kU}}class W8 extends ce{constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=NU}}class Q8 extends ce{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=aU}}class K8 extends ce{constructor(e){var n,r;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${(n=e.chain)!==null&&n!==void 0?n:"undefined"}, "hardfork": ${(r=e.hardfork)!==null&&r!==void 0?r:"undefined"}`),this.code=lU}}class Y8 extends te{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=jU}}class J8 extends ce{constructor(e){var n,r,i,s;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(i=e.maxPriorityFeePerGas)!==null&&i!==void 0?i:"undefined"}, maxFeePerGas: ${(s=e.maxFeePerGas)!==null&&s!==void 0?s:"undefined"}`,'"gas" is missing'),this.code=cU,this.cause=new Y8}}class Z8 extends te{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=MU}}class X8 extends ce{constructor(e){var n,r,i,s;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(i=e.maxPriorityFeePerGas)!==null&&i!==void 0?i:"undefined"}, maxFeePerGas: ${(s=e.maxFeePerGas)!==null&&s!==void 0?s:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=CU,this.cause=new Z8}}class eH extends ce{constructor(e){var n,r;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=uU}}class tH extends ce{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=dU}}class nH extends ce{constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=hU}}class ok extends ce{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=fU}}class rH extends ce{constructor(e){super(e,"invalid transaction object"),this.code=pU}}class iH extends ce{constructor(e){var n,r;super(`nonce: ${(n=e.nonce)!==null&&n!==void 0?n:"undefined"}, chainId: ${(r=e.chainId)!==null&&r!==void 0?r:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=mU}}class sH extends ce{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=gU}}class oH extends ce{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=yU}}class zE extends ce{constructor(e){super(e,"unsupported transaction type"),this.code=vU}}class ak extends ce{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`),this.code=_U}}class aH extends te{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!
	Transaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=SU}}function lk(t){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!
	Transaction Hash: ${t?t.toString():"not available"}`}class ck extends te{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${lk(e.transactionHash)}`),this.code=wU}}class uk extends te{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${lk(e.transactionHash)}`),this.code=IU}}class lH extends ce{constructor(e){var n,r;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${(n=e.blockHash)===null||n===void 0?void 0:n.toString()}, transactionHash: ${(r=e.transactionHash)===null||r===void 0?void 0:r.toString()}`,"Receipt missing or blockHash null"),this.code=xU}}class cH extends ce{constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=bU}}class oy extends te{constructor(e){super(`Invalid signature. "${e}"`),this.code=TU}}class qE extends ce{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=EU}}class uH extends te{constructor(e,n){const r=[];e.forEach(i=>r.push(i.keyword)),super(`The following properties are invalid for the transaction type ${n}: ${r.join(", ")}`),this.code=OU}}class ua extends ce{constructor(e){super(e,"can not parse as byte data"),this.code=c8}}class W_ extends ce{constructor(e){super(e,"can not parse as number data"),this.code=u8}}class Q_ extends ce{constructor(e){super(e,"invalid ethereum address"),this.code=h8}}class dH extends ce{constructor(e){super(e,"not a valid string"),this.code=l8}}class dk extends ce{constructor(e){super(e,"invalid unit"),this.code=d8}}class hk extends ce{constructor(e){super(e,"not a valid unit. Must be a positive integer"),this.code=w8}}class hH extends ce{constructor(e){super(e,"can not be converted to hex"),this.code=f8}}class fk extends ce{constructor(e){super(e,"value greater than the nibble width"),this.code=_8}}class K_ extends ce{constructor(e){super(e,"not a valid boolean."),this.code=p8}}class fH extends ce{constructor(e){super(e,"not a valid unsigned integer."),this.code=m8}}class VE extends ce{constructor(e){super(e,"invalid size given."),this.code=g8}}class GE extends ce{constructor(e){super(e,"value is larger than size."),this.code=y8}}class pH extends ce{constructor(e){super(e,"invalid string given"),this.code=v8}}const mH=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&(t.result===void 0||t.result===null)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),WE=t=>mH(t)?t.error.message:"";class sr extends te{constructor(e,n,r,i){var s;super(n??`Returned error: ${Array.isArray(e)?e.map(a=>WE(a)).join(","):WE(e)}`),this.code=F6,n||(this.data=Array.isArray(e)?e.map(a=>{var l;return(l=a.error)===null||l===void 0?void 0:l.data}):(s=e==null?void 0:e.error)===null||s===void 0?void 0:s.data),this.statusCode=i,this.request=r;let o;"error"in e?o=e.error:e instanceof Array&&(o=e.filter(a=>a.error).map(a=>a.error)),Array.isArray(o)&&o.length>0?this.cause=new dc(o):this.cause=o}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode})}}class Gp extends sr{constructor(e,n){super(e,void 0,n),this.code=U6;let r;"error"in e?r=e.error:e instanceof Array&&(r=e.map(i=>i.error)),Array.isArray(r)?this.cause=new dc(r):this.cause=r}}class QE extends te{constructor(e,n){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=tk}}class KE extends te{constructor(e,n){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=tk}}const pk="An Rpc error has occured with a code of *code*",Nt={[lf]:{message:"Parse error",description:"Invalid JSON"},[cf]:{message:"Invalid request",description:"JSON is not a valid request object	"},[uf]:{message:"Method not found",description:"Method does not exist	"},[df]:{message:"Invalid params",description:"Invalid method parameters"},[hf]:{message:"Internal error",description:"Internal JSON-RPC error"},[ff]:{message:"Invalid input",description:"Missing or invalid parameters"},[pf]:{message:"Resource not found",description:"Requested resource not found"},[mf]:{message:"Resource unavailable",description:"Requested resource not available"},[gf]:{message:"Transaction rejected",description:"Transaction creation failed"},[yf]:{message:"Method not supported",description:"Method is not implemented"},[vf]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[_f]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[t8]:{name:"User Rejected Request",message:"The user rejected the request."},[n8]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[r8]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[i8]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[s8]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class _n extends te{constructor(e,n){super(n??pk.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class gH extends te{constructor(e,n){var r,i,s,o;if(!e)super();else if(!((r=Nt[e])===null||r===void 0)&&r.message)super(Nt[e].message);else{const a=Object.keys(Nt).find(l=>typeof l=="string"&&e>=parseInt(l.split("-")[0],10)&&e<=parseInt(l.split("-")[1],10));super((s=(i=Nt[a??""])===null||i===void 0?void 0:i.message)!==null&&s!==void 0?s:pk.replace("*code*",(o=e==null?void 0:e.toString())!==null&&o!==void 0?o:'""'))}this.code=e,this.data=n}}class yH extends _n{constructor(e){super(e,Nt[lf].message),this.code=lf}}class vH extends _n{constructor(e){super(e,Nt[cf].message),this.code=cf}}class _H extends _n{constructor(e){super(e,Nt[uf].message),this.code=uf}}class wH extends _n{constructor(e){super(e,Nt[df].message),this.code=df}}class xH extends _n{constructor(e){super(e,Nt[hf].message),this.code=hf}}class bH extends _n{constructor(e){super(e,Nt[ff].message),this.code=ff}}class EH extends _n{constructor(e){super(e,Nt[yf].message),this.code=yf}}class AH extends _n{constructor(e){super(e,Nt[mf].message),this.code=mf}}class SH extends _n{constructor(e){super(e,Nt[pf].message),this.code=pf}}class IH extends _n{constructor(e){super(e,Nt[_f].message),this.code=_f}}class TH extends _n{constructor(e){super(e,Nt[gf].message),this.code=gf}}class CH extends _n{constructor(e){super(e,Nt[vf].message),this.code=vf}}const zt=new Map;zt.set(lf,{error:yH});zt.set(cf,{error:vH});zt.set(uf,{error:_H});zt.set(df,{error:wH});zt.set(hf,{error:xH});zt.set(ff,{error:bH});zt.set(yf,{error:EH});zt.set(mf,{error:AH});zt.set(gf,{error:TH});zt.set(pf,{error:SH});zt.set(_f,{error:IH});zt.set(vf,{error:CH});class kH extends te{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=b8}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}function Yt(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function NH(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function PH(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function ul(t,...e){if(!PH(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Y_(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Yt(t.outputLen),Yt(t.blockLen)}function ro(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function J_(t,e){ul(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const mk={number:Yt,bool:NH,bytes:ul,hash:Y_,exists:ro,output:J_},wd=BigInt(2**32-1),YE=BigInt(32);function RH(t,e=!1){return e?{h:Number(t&wd),l:Number(t>>YE&wd)}:{h:Number(t>>YE&wd)|0,l:Number(t&wd)|0}}function OH(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=RH(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const jH=(t,e,n)=>t<<n|e>>>32-n,MH=(t,e,n)=>e<<n|t>>>32-n,DH=(t,e,n)=>e<<n-32|t>>>64-n,LH=(t,e,n)=>t<<n-32|e>>>64-n,Qd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kd=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Yd=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Zn=(t,e)=>t<<32-e|t>>>e,xe=(t,e)=>t<<e|t>>>32-e>>>0,xf=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,BH=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function bf(t){for(let e=0;e<t.length;e++)t[e]=BH(t[e])}function Pa(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ra(t){return typeof t=="string"&&(t=Pa(t)),ul(t),t}function Ef(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];ul(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class Z_{clone(){return this._cloneInto()}}const FH={}.toString;function gk(t,e){if(e!==void 0&&FH.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function yk(t){const e=r=>t().update(Ra(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function vk(t=32){if(Qd&&typeof Qd.getRandomValues=="function")return Qd.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const _k=[],wk=[],xk=[],UH=BigInt(0),kl=BigInt(1),HH=BigInt(2),$H=BigInt(7),zH=BigInt(256),qH=BigInt(113);for(let t=0,e=kl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],_k.push(2*(5*r+n)),wk.push((t+1)*(t+2)/2%64);let i=UH;for(let s=0;s<7;s++)e=(e<<kl^(e>>$H)*qH)%zH,e&HH&&(i^=kl<<(kl<<BigInt(s))-kl);xk.push(i)}const[VH,GH]=OH(xk,!0),JE=(t,e,n)=>n>32?DH(t,e,n):jH(t,e,n),ZE=(t,e,n)=>n>32?LH(t,e,n):MH(t,e,n);function WH(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],d=JE(c,u,1)^n[a],f=ZE(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=d,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=wk[o],l=JE(i,s,a),c=ZE(i,s,a),u=_k[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=VH[r],t[1]^=GH[r]}n.fill(0)}class X_ extends Z_{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Yt(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Kd(this.state)}keccak(){xf||bf(this.state32),WH(this.state32,this.rounds),xf||bf(this.state32),this.posOut=0,this.pos=0}update(e){ro(this);const{blockLen:n,state:r}=this;e=Ra(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ro(this,!1),ul(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Yt(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(J_(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new X_(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const QH=(t,e,n)=>yk(()=>new X_(e,t,n)),XE=QH(1,136,256/8),Af=mk.bytes;function bk(t){if(!(t instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof t}`);return new TextDecoder().decode(t)}function KH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function YH(t){return e=>(mk.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof Gl<"u"&&typeof Gl.require=="function"&&Gl.require.bind(Gl);return{node:e&&!t?e("crypto"):void 0,web:t}})();const Lt=(()=>{const t=YH(XE);return t.create=XE.create,t})();var _e;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(_e||(_e={}));var ay;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(ay||(ay={}));const q=_e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Nr=t=>{switch(typeof t){case"undefined":return q.undefined;case"string":return q.string;case"number":return isNaN(t)?q.nan:q.number;case"boolean":return q.boolean;case"function":return q.function;case"bigint":return q.bigint;case"symbol":return q.symbol;case"object":return Array.isArray(t)?q.array:t===null?q.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?q.promise:typeof Map<"u"&&t instanceof Map?q.map:typeof Set<"u"&&t instanceof Set?q.set:typeof Date<"u"&&t instanceof Date?q.date:q.object;default:return q.unknown}},M=_e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),JH=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class fn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof fn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_e.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}fn.create=t=>new fn(t);const Oa=(t,e)=>{let n;switch(t.code){case M.invalid_type:t.received===q.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case M.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,_e.jsonStringifyReplacer)}`;break;case M.unrecognized_keys:n=`Unrecognized key(s) in object: ${_e.joinValues(t.keys,", ")}`;break;case M.invalid_union:n="Invalid input";break;case M.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${_e.joinValues(t.options)}`;break;case M.invalid_enum_value:n=`Invalid enum value. Expected ${_e.joinValues(t.options)}, received '${t.received}'`;break;case M.invalid_arguments:n="Invalid function arguments";break;case M.invalid_return_type:n="Invalid function return type";break;case M.invalid_date:n="Invalid date";break;case M.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:_e.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case M.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case M.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case M.custom:n="Invalid input";break;case M.invalid_intersection_types:n="Intersection results could not be merged";break;case M.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case M.not_finite:n="Number must be finite";break;default:n=e.defaultError,_e.assertNever(t)}return{message:n}};let Ek=Oa;function ZH(t){Ek=t}function Sf(){return Ek}const If=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},XH=[];function $(t,e){const n=Sf(),r=If({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Oa?void 0:Oa].filter(i=>!!i)});t.common.issues.push(r)}class Rt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ee;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Rt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return ee;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const ee=Object.freeze({status:"aborted"}),Zo=t=>({status:"dirty",value:t}),qt=t=>({status:"valid",value:t}),ly=t=>t.status==="aborted",cy=t=>t.status==="dirty",io=t=>t.status==="valid",Qc=t=>typeof Promise<"u"&&t instanceof Promise;function Tf(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Ak(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var G;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(G||(G={}));var $l,zl;class mr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const e1=(t,e)=>{if(io(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new fn(t.common.issues);return this._error=n,this._error}}};function oe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,c;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:i}}class ae{get description(){return this._def.description}_getType(e){return Nr(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Nr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Rt,ctx:{common:e.parent.common,data:e.data,parsedType:Nr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Qc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nr(e)},s=this._parseSync({data:e,path:i.path,parent:i});return e1(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nr(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return io(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s==null?void 0:s.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>io(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nr(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Qc(i)?i:Promise.resolve(i));return e1(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:M.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Kn({schema:this,typeName:Z.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return pr.create(this,this._def)}nullable(){return as.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gn.create(this)}promise(){return Ma.create(this,this._def)}or(e){return Zc.create([this,e],this._def)}and(e){return Xc.create(this,e,this._def)}transform(e){return new Kn({...oe(this._def),schema:this,typeName:Z.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new iu({...oe(this._def),innerType:this,defaultValue:n,typeName:Z.ZodDefault})}brand(){return new ew({typeName:Z.ZodBranded,type:this,...oe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new su({...oe(this._def),innerType:this,catchValue:n,typeName:Z.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Vu.create(this,e)}readonly(){return ou.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const e9=/^c[^\s-]{8,}$/i,t9=/^[0-9a-z]+$/,n9=/^[0-9A-HJKMNP-TV-Z]{26}$/i,r9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,i9=/^[a-z0-9_-]{21}$/i,s9=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,o9=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,a9=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,l9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let og;const c9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,u9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,d9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,h9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,f9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,p9=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Sk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",m9=new RegExp(`^${Sk}$`);function Ik(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function g9(t){return new RegExp(`^${Ik(t)}$`)}function Tk(t){let e=`${Sk}T${Ik(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function y9(t,e){return!!((e==="v4"||!e)&&c9.test(t)||(e==="v6"||!e)&&d9.test(t))}function v9(t,e){if(!s9.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function _9(t,e){return!!((e==="v4"||!e)&&u9.test(t)||(e==="v6"||!e)&&h9.test(t))}class Hn extends ae{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==q.string){const s=this._getOrReturnCtx(e);return $(s,{code:M.invalid_type,expected:q.string,received:s.parsedType}),ee}const r=new Rt;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),$(i,{code:M.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),$(i,{code:M.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?$(i,{code:M.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&$(i,{code:M.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")a9.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"email",code:M.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")og||(og=new RegExp(l9,"u")),og.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"emoji",code:M.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")r9.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"uuid",code:M.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")i9.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"nanoid",code:M.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")e9.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"cuid",code:M.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")t9.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"cuid2",code:M.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")n9.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"ulid",code:M.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),$(i,{validation:"url",code:M.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"regex",code:M.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),$(i,{code:M.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),$(i,{code:M.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),$(i,{code:M.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Tk(s).test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{code:M.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?m9.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{code:M.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?g9(s).test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{code:M.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?o9.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"duration",code:M.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?y9(e.data,s.version)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"ip",code:M.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?v9(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"jwt",code:M.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?_9(e.data,s.version)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"cidr",code:M.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?f9.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"base64",code:M.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?p9.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"base64url",code:M.invalid_string,message:s.message}),r.dirty()):_e.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:M.invalid_string,...G.errToObj(r)})}_addCheck(e){return new Hn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...G.errToObj(e)})}url(e){return this._addCheck({kind:"url",...G.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...G.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...G.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...G.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...G.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...G.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...G.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...G.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...G.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...G.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...G.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...G.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...G.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...G.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...G.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...G.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...G.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...G.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...G.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...G.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...G.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...G.errToObj(n)})}nonempty(e){return this.min(1,G.errToObj(e))}trim(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hn.create=t=>{var e;return new Hn({checks:[],typeName:Z.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...oe(t)})};function w9(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class is extends ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==q.number){const s=this._getOrReturnCtx(e);return $(s,{code:M.invalid_type,expected:q.number,received:s.parsedType}),ee}let r;const i=new Rt;for(const s of this._def.checks)s.kind==="int"?_e.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{code:M.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),$(r,{code:M.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),$(r,{code:M.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?w9(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),$(r,{code:M.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{code:M.not_finite,message:s.message}),i.dirty()):_e.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,G.toString(n))}gt(e,n){return this.setLimit("min",e,!1,G.toString(n))}lte(e,n){return this.setLimit("max",e,!0,G.toString(n))}lt(e,n){return this.setLimit("max",e,!1,G.toString(n))}setLimit(e,n,r,i){return new is({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:G.toString(i)}]})}_addCheck(e){return new is({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:G.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:G.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:G.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:G.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:G.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&_e.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}is.create=t=>new is({checks:[],typeName:Z.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...oe(t)});class ss extends ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==q.bigint)return this._getInvalidInput(e);let r;const i=new Rt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),$(r,{code:M.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),$(r,{code:M.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),$(r,{code:M.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):_e.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return $(n,{code:M.invalid_type,expected:q.bigint,received:n.parsedType}),ee}gte(e,n){return this.setLimit("min",e,!0,G.toString(n))}gt(e,n){return this.setLimit("min",e,!1,G.toString(n))}lte(e,n){return this.setLimit("max",e,!0,G.toString(n))}lt(e,n){return this.setLimit("max",e,!1,G.toString(n))}setLimit(e,n,r,i){return new ss({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:G.toString(i)}]})}_addCheck(e){return new ss({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:G.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ss.create=t=>{var e;return new ss({checks:[],typeName:Z.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...oe(t)})};class Kc extends ae{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==q.boolean){const r=this._getOrReturnCtx(e);return $(r,{code:M.invalid_type,expected:q.boolean,received:r.parsedType}),ee}return qt(e.data)}}Kc.create=t=>new Kc({typeName:Z.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...oe(t)});class so extends ae{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==q.date){const s=this._getOrReturnCtx(e);return $(s,{code:M.invalid_type,expected:q.date,received:s.parsedType}),ee}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return $(s,{code:M.invalid_date}),ee}const r=new Rt;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),$(i,{code:M.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),$(i,{code:M.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):_e.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new so({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:G.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:G.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}so.create=t=>new so({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Z.ZodDate,...oe(t)});class Cf extends ae{_parse(e){if(this._getType(e)!==q.symbol){const r=this._getOrReturnCtx(e);return $(r,{code:M.invalid_type,expected:q.symbol,received:r.parsedType}),ee}return qt(e.data)}}Cf.create=t=>new Cf({typeName:Z.ZodSymbol,...oe(t)});class Yc extends ae{_parse(e){if(this._getType(e)!==q.undefined){const r=this._getOrReturnCtx(e);return $(r,{code:M.invalid_type,expected:q.undefined,received:r.parsedType}),ee}return qt(e.data)}}Yc.create=t=>new Yc({typeName:Z.ZodUndefined,...oe(t)});class Jc extends ae{_parse(e){if(this._getType(e)!==q.null){const r=this._getOrReturnCtx(e);return $(r,{code:M.invalid_type,expected:q.null,received:r.parsedType}),ee}return qt(e.data)}}Jc.create=t=>new Jc({typeName:Z.ZodNull,...oe(t)});class ja extends ae{constructor(){super(...arguments),this._any=!0}_parse(e){return qt(e.data)}}ja.create=t=>new ja({typeName:Z.ZodAny,...oe(t)});class $s extends ae{constructor(){super(...arguments),this._unknown=!0}_parse(e){return qt(e.data)}}$s.create=t=>new $s({typeName:Z.ZodUnknown,...oe(t)});class ri extends ae{_parse(e){const n=this._getOrReturnCtx(e);return $(n,{code:M.invalid_type,expected:q.never,received:n.parsedType}),ee}}ri.create=t=>new ri({typeName:Z.ZodNever,...oe(t)});class kf extends ae{_parse(e){if(this._getType(e)!==q.undefined){const r=this._getOrReturnCtx(e);return $(r,{code:M.invalid_type,expected:q.void,received:r.parsedType}),ee}return qt(e.data)}}kf.create=t=>new kf({typeName:Z.ZodVoid,...oe(t)});class Gn extends ae{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==q.array)return $(n,{code:M.invalid_type,expected:q.array,received:n.parsedType}),ee;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&($(n,{code:o?M.too_big:M.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&($(n,{code:M.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&($(n,{code:M.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new mr(n,o,n.path,a)))).then(o=>Rt.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new mr(n,o,n.path,a)));return Rt.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Gn({...this._def,minLength:{value:e,message:G.toString(n)}})}max(e,n){return new Gn({...this._def,maxLength:{value:e,message:G.toString(n)}})}length(e,n){return new Gn({...this._def,exactLength:{value:e,message:G.toString(n)}})}nonempty(e){return this.min(1,e)}}Gn.create=(t,e)=>new Gn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Z.ZodArray,...oe(e)});function jo(t){if(t instanceof He){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=pr.create(jo(r))}return new He({...t._def,shape:()=>e})}else return t instanceof Gn?new Gn({...t._def,type:jo(t.element)}):t instanceof pr?pr.create(jo(t.unwrap())):t instanceof as?as.create(jo(t.unwrap())):t instanceof gr?gr.create(t.items.map(e=>jo(e))):t}class He extends ae{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=_e.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==q.object){const c=this._getOrReturnCtx(e);return $(c,{code:M.invalid_type,expected:q.object,received:c.parsedType}),ee}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ri&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new mr(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof ri){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&($(i,{code:M.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new mr(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>Rt.mergeObjectSync(r,c)):Rt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return G.errToObj,new He({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=G.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new He({...this._def,unknownKeys:"strip"})}passthrough(){return new He({...this._def,unknownKeys:"passthrough"})}extend(e){return new He({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new He({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Z.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new He({...this._def,catchall:e})}pick(e){const n={};return _e.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new He({...this._def,shape:()=>n})}omit(e){const n={};return _e.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new He({...this._def,shape:()=>n})}deepPartial(){return jo(this)}partial(e){const n={};return _e.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new He({...this._def,shape:()=>n})}required(e){const n={};return _e.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof pr;)s=s._def.innerType;n[r]=s}}),new He({...this._def,shape:()=>n})}keyof(){return Ck(_e.objectKeys(this.shape))}}He.create=(t,e)=>new He({shape:()=>t,unknownKeys:"strip",catchall:ri.create(),typeName:Z.ZodObject,...oe(e)});He.strictCreate=(t,e)=>new He({shape:()=>t,unknownKeys:"strict",catchall:ri.create(),typeName:Z.ZodObject,...oe(e)});He.lazycreate=(t,e)=>new He({shape:t,unknownKeys:"strip",catchall:ri.create(),typeName:Z.ZodObject,...oe(e)});class Zc extends ae{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new fn(a.ctx.common.issues));return $(n,{code:M.invalid_union,unionErrors:o}),ee}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new fn(l));return $(n,{code:M.invalid_union,unionErrors:a}),ee}}get options(){return this._def.options}}Zc.create=(t,e)=>new Zc({options:t,typeName:Z.ZodUnion,...oe(e)});const Ir=t=>t instanceof tu?Ir(t.schema):t instanceof Kn?Ir(t.innerType()):t instanceof nu?[t.value]:t instanceof os?t.options:t instanceof ru?_e.objectValues(t.enum):t instanceof iu?Ir(t._def.innerType):t instanceof Yc?[void 0]:t instanceof Jc?[null]:t instanceof pr?[void 0,...Ir(t.unwrap())]:t instanceof as?[null,...Ir(t.unwrap())]:t instanceof ew||t instanceof ou?Ir(t.unwrap()):t instanceof su?Ir(t._def.innerType):[];class Wp extends ae{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==q.object)return $(n,{code:M.invalid_type,expected:q.object,received:n.parsedType}),ee;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):($(n,{code:M.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ee)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Ir(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Wp({typeName:Z.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...oe(r)})}}function uy(t,e){const n=Nr(t),r=Nr(e);if(t===e)return{valid:!0,data:t};if(n===q.object&&r===q.object){const i=_e.objectKeys(e),s=_e.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=uy(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===q.array&&r===q.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=uy(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===q.date&&r===q.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Xc extends ae{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(ly(s)||ly(o))return ee;const a=uy(s.value,o.value);return a.valid?((cy(s)||cy(o))&&n.dirty(),{status:n.value,value:a.data}):($(r,{code:M.invalid_intersection_types}),ee)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Xc.create=(t,e,n)=>new Xc({left:t,right:e,typeName:Z.ZodIntersection,...oe(n)});class gr extends ae{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==q.array)return $(r,{code:M.invalid_type,expected:q.array,received:r.parsedType}),ee;if(r.data.length<this._def.items.length)return $(r,{code:M.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ee;!this._def.rest&&r.data.length>this._def.items.length&&($(r,{code:M.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new mr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Rt.mergeArray(n,o)):Rt.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new gr({...this._def,rest:e})}}gr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new gr({items:t,typeName:Z.ZodTuple,rest:null,...oe(e)})};class eu extends ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==q.object)return $(r,{code:M.invalid_type,expected:q.object,received:r.parsedType}),ee;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new mr(r,a,r.path,a)),value:o._parse(new mr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Rt.mergeObjectAsync(n,i):Rt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ae?new eu({keyType:e,valueType:n,typeName:Z.ZodRecord,...oe(r)}):new eu({keyType:Hn.create(),valueType:e,typeName:Z.ZodRecord,...oe(n)})}}class Nf extends ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==q.map)return $(r,{code:M.invalid_type,expected:q.map,received:r.parsedType}),ee;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new mr(r,a,r.path,[c,"key"])),value:s._parse(new mr(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ee;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ee;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Nf.create=(t,e,n)=>new Nf({valueType:e,keyType:t,typeName:Z.ZodMap,...oe(n)});class oo extends ae{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==q.set)return $(r,{code:M.invalid_type,expected:q.set,received:r.parsedType}),ee;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&($(r,{code:M.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&($(r,{code:M.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return ee;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new mr(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new oo({...this._def,minSize:{value:e,message:G.toString(n)}})}max(e,n){return new oo({...this._def,maxSize:{value:e,message:G.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}oo.create=(t,e)=>new oo({valueType:t,minSize:null,maxSize:null,typeName:Z.ZodSet,...oe(e)});class da extends ae{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==q.function)return $(n,{code:M.invalid_type,expected:q.function,received:n.parsedType}),ee;function r(a,l){return If({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Sf(),Oa].filter(c=>!!c),issueData:{code:M.invalid_arguments,argumentsError:l}})}function i(a,l){return If({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Sf(),Oa].filter(c=>!!c),issueData:{code:M.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ma){const a=this;return qt(async function(...l){const c=new fn([]),u=await a._def.args.parseAsync(l,s).catch(p=>{throw c.addIssue(r(l,p)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(p=>{throw c.addIssue(i(d,p)),c})})}else{const a=this;return qt(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new fn([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new fn([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new da({...this._def,args:gr.create(e).rest($s.create())})}returns(e){return new da({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new da({args:e||gr.create([]).rest($s.create()),returns:n||$s.create(),typeName:Z.ZodFunction,...oe(r)})}}class tu extends ae{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}tu.create=(t,e)=>new tu({getter:t,typeName:Z.ZodLazy,...oe(e)});class nu extends ae{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return $(n,{received:n.data,code:M.invalid_literal,expected:this._def.value}),ee}return{status:"valid",value:e.data}}get value(){return this._def.value}}nu.create=(t,e)=>new nu({value:t,typeName:Z.ZodLiteral,...oe(e)});function Ck(t,e){return new os({values:t,typeName:Z.ZodEnum,...oe(e)})}class os extends ae{constructor(){super(...arguments),$l.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return $(n,{expected:_e.joinValues(r),received:n.parsedType,code:M.invalid_type}),ee}if(Tf(this,$l)||Ak(this,$l,new Set(this._def.values)),!Tf(this,$l).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return $(n,{received:n.data,code:M.invalid_enum_value,options:r}),ee}return qt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return os.create(e,{...this._def,...n})}exclude(e,n=this._def){return os.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}$l=new WeakMap;os.create=Ck;class ru extends ae{constructor(){super(...arguments),zl.set(this,void 0)}_parse(e){const n=_e.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==q.string&&r.parsedType!==q.number){const i=_e.objectValues(n);return $(r,{expected:_e.joinValues(i),received:r.parsedType,code:M.invalid_type}),ee}if(Tf(this,zl)||Ak(this,zl,new Set(_e.getValidEnumValues(this._def.values))),!Tf(this,zl).has(e.data)){const i=_e.objectValues(n);return $(r,{received:r.data,code:M.invalid_enum_value,options:i}),ee}return qt(e.data)}get enum(){return this._def.values}}zl=new WeakMap;ru.create=(t,e)=>new ru({values:t,typeName:Z.ZodNativeEnum,...oe(e)});class Ma extends ae{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==q.promise&&n.common.async===!1)return $(n,{code:M.invalid_type,expected:q.promise,received:n.parsedType}),ee;const r=n.parsedType===q.promise?n.data:Promise.resolve(n.data);return qt(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ma.create=(t,e)=>new Ma({type:t,typeName:Z.ZodPromise,...oe(e)});class Kn extends ae{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Z.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{$(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ee;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ee:l.status==="dirty"||n.value==="dirty"?Zo(l.value):l});{if(n.value==="aborted")return ee;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ee:a.status==="dirty"||n.value==="dirty"?Zo(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ee:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ee:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!io(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>io(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);_e.assertNever(i)}}Kn.create=(t,e,n)=>new Kn({schema:t,typeName:Z.ZodEffects,effect:e,...oe(n)});Kn.createWithPreprocess=(t,e,n)=>new Kn({schema:e,effect:{type:"preprocess",transform:t},typeName:Z.ZodEffects,...oe(n)});class pr extends ae{_parse(e){return this._getType(e)===q.undefined?qt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pr.create=(t,e)=>new pr({innerType:t,typeName:Z.ZodOptional,...oe(e)});class as extends ae{_parse(e){return this._getType(e)===q.null?qt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}as.create=(t,e)=>new as({innerType:t,typeName:Z.ZodNullable,...oe(e)});class iu extends ae{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===q.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}iu.create=(t,e)=>new iu({innerType:t,typeName:Z.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...oe(e)});class su extends ae{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Qc(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new fn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new fn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}su.create=(t,e)=>new su({innerType:t,typeName:Z.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...oe(e)});class Pf extends ae{_parse(e){if(this._getType(e)!==q.nan){const r=this._getOrReturnCtx(e);return $(r,{code:M.invalid_type,expected:q.nan,received:r.parsedType}),ee}return{status:"valid",value:e.data}}}Pf.create=t=>new Pf({typeName:Z.ZodNaN,...oe(t)});const x9=Symbol("zod_brand");class ew extends ae{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Vu extends ae{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ee:s.status==="dirty"?(n.dirty(),Zo(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ee:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Vu({in:e,out:n,typeName:Z.ZodPipeline})}}class ou extends ae{_parse(e){const n=this._def.innerType._parse(e),r=i=>(io(i)&&(i.value=Object.freeze(i.value)),i);return Qc(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}ou.create=(t,e)=>new ou({innerType:t,typeName:Z.ZodReadonly,...oe(e)});function kk(t,e={},n){return t?ja.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):ja.create()}const b9={object:He.lazycreate};var Z;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Z||(Z={}));const E9=(t,e={message:`Input not instance of ${t.name}`})=>kk(n=>n instanceof t,e),Nk=Hn.create,Pk=is.create,A9=Pf.create,S9=ss.create,Rk=Kc.create,I9=so.create,T9=Cf.create,C9=Yc.create,k9=Jc.create,N9=ja.create,P9=$s.create,R9=ri.create,O9=kf.create,j9=Gn.create,M9=He.create,D9=He.strictCreate,L9=Zc.create,B9=Wp.create,F9=Xc.create,U9=gr.create,H9=eu.create,$9=Nf.create,z9=oo.create,q9=da.create,V9=tu.create,G9=nu.create,W9=os.create,Q9=ru.create,K9=Ma.create,t1=Kn.create,Y9=pr.create,J9=as.create,Z9=Kn.createWithPreprocess,X9=Vu.create,e7=()=>Nk().optional(),t7=()=>Pk().optional(),n7=()=>Rk().optional(),r7={string:t=>Hn.create({...t,coerce:!0}),number:t=>is.create({...t,coerce:!0}),boolean:t=>Kc.create({...t,coerce:!0}),bigint:t=>ss.create({...t,coerce:!0}),date:t=>so.create({...t,coerce:!0})},i7=ee;var Xn=Object.freeze({__proto__:null,defaultErrorMap:Oa,setErrorMap:ZH,getErrorMap:Sf,makeIssue:If,EMPTY_PATH:XH,addIssueToContext:$,ParseStatus:Rt,INVALID:ee,DIRTY:Zo,OK:qt,isAborted:ly,isDirty:cy,isValid:io,isAsync:Qc,get util(){return _e},get objectUtil(){return ay},ZodParsedType:q,getParsedType:Nr,ZodType:ae,datetimeRegex:Tk,ZodString:Hn,ZodNumber:is,ZodBigInt:ss,ZodBoolean:Kc,ZodDate:so,ZodSymbol:Cf,ZodUndefined:Yc,ZodNull:Jc,ZodAny:ja,ZodUnknown:$s,ZodNever:ri,ZodVoid:kf,ZodArray:Gn,ZodObject:He,ZodUnion:Zc,ZodDiscriminatedUnion:Wp,ZodIntersection:Xc,ZodTuple:gr,ZodRecord:eu,ZodMap:Nf,ZodSet:oo,ZodFunction:da,ZodLazy:tu,ZodLiteral:nu,ZodEnum:os,ZodNativeEnum:ru,ZodPromise:Ma,ZodEffects:Kn,ZodTransformer:Kn,ZodOptional:pr,ZodNullable:as,ZodDefault:iu,ZodCatch:su,ZodNaN:Pf,BRAND:x9,ZodBranded:ew,ZodPipeline:Vu,ZodReadonly:ou,custom:kk,Schema:ae,ZodSchema:ae,late:b9,get ZodFirstPartyTypeKind(){return Z},coerce:r7,any:N9,array:j9,bigint:S9,boolean:Rk,date:I9,discriminatedUnion:B9,effect:t1,enum:W9,function:q9,instanceof:E9,intersection:F9,lazy:V9,literal:G9,map:$9,nan:A9,nativeEnum:Q9,never:R9,null:k9,nullable:J9,number:Pk,object:M9,oboolean:n7,onumber:t7,optional:Y9,ostring:e7,pipeline:X9,preprocess:Z9,promise:K9,record:H9,set:z9,strictObject:D9,string:Nk,symbol:T9,transformer:t1,tuple:U9,undefined:C9,union:L9,unknown:P9,void:O9,NEVER:i7,ZodIssueCode:M,quotelessJson:JH,ZodError:fn});const s7=t=>t.message?t.message:"unspecified error";class Da extends te{constructor(e){super(),this.code=x8,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:
${this._compileErrors().join(`
`)}`}_compileErrors(){return this.errors.map(s7)}}const o7=["bool","int","uint","bytes","string","address","tuple"],Ok=t=>typeof t=="object"&&"type"in t&&"name"in t,tw=t=>typeof t=="string",Ae=t=>typeof t=="string"&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(t);function jk(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const Rf=t=>typeof t=="number"||typeof t=="bigint"||typeof t=="string"&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(t);function nw(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t.startsWith("0x")}const rw=function(t){for(const[e,n]of Object.entries(t))if(n!==void 0&&n.length>0&&n[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${n.toString()}`)},a7=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],xo=t=>{let e=t.replace(/ /,""),n,r=!1,i=[];if(t.includes("[")&&(e=e.slice(0,e.indexOf("[")),i=[...t.matchAll(/(?:\[(\d*)\])/g)].map(s=>parseInt(s[1],10)).map(s=>Number.isNaN(s)?-1:s),r=i.length>0),o7.includes(e))return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:i};if(e.startsWith("int"))n=parseInt(e.substring(3),10),e="int";else if(e.startsWith("uint"))n=parseInt(t.substring(4),10),e="uint";else if(e.startsWith("bytes"))n=parseInt(e.substring(5),10),e="bytes";else return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:i};return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:i}},ag=(t,e={})=>{if(Object.keys(e).includes("type"))throw new Da([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:t},instancePath:"",schemaPath:""}]);const{baseType:r,baseTypeSize:i}=xo(t);if(!r&&!a7.includes(t))throw new Da([{keyword:"eth",message:`Eth data type "${t}" is not valid`,params:{eth:t},instancePath:"",schemaPath:""}]);if(r){if(r==="tuple")throw new Error('"tuple" type is not implemented directly.');return{format:`${r}${i??""}`,required:!0}}return t?{format:t,required:!0}:{}},Of=(t,e="/0")=>{const n={type:"array",items:[],maxItems:t.length,minItems:t.length};for(const[r,i]of t.entries()){let s,o,a=[];Ok(i)?(s=i.type,o=i.name||`${e}/${r}`,a=i.components):typeof i=="string"?(s=i,o=`${e}/${r}`):Array.isArray(i)&&(i[0]&&typeof i[0]=="string"&&i[0].startsWith("tuple")&&!Array.isArray(i[0])&&i[1]&&Array.isArray(i[1])?(s=i[0],o=`${e}/${r}`,a=i[1]):(s="tuple",o=`${e}/${r}`,a=i));const{baseType:l,isArray:c,arraySizes:u}=xo(s);let d,f=n;for(let p=u.length-1;p>0;p-=1)d={type:"array",$id:o,items:[],maxItems:u[p],minItems:u[p]},u[p]<0&&(delete d.maxItems,delete d.minItems),Array.isArray(f.items)?f.items.length===0?f.items=[d]:f.items.push(d):f.items=[f.items,d],f=d;if(l==="tuple"&&!c){const p=Of(a,o);p.$id=o,f.items.push(p)}else if(l==="tuple"&&c){const p=u[0],y=Object.assign({type:"array",$id:o,items:Of(a,o)},p>=0&&{minItems:p,maxItems:p});f.items.push(y)}else if(c){const p=u[0],y=Object.assign({type:"array",$id:o,items:ag(s)},p>=0&&{minItems:p,maxItems:p});f.items.push(y)}else Array.isArray(f.items)?f.items.push(Object.assign({$id:o},ag(s))):f.items.push(Object.assign({$id:o},ag(s)));f=n}return n},iw=t=>Of(t),sw=(t,e)=>e===1?t:sw(t[0],e-1),hc=(t,e,n)=>{const r=[];for(const[i,s]of t.entries()){let o,a,l=[];Ok(s)?(o=s.type,a=s.name,l=s.components):typeof s=="string"?o=s:Array.isArray(s)&&(s[1]&&Array.isArray(s[1])?(o=s[0],l=s[1]):(o="tuple",l=s));const{baseType:c,isArray:u,arraySizes:d}=xo(o),f=Array.isArray(e)?e[i]:e[a];if(c==="tuple"&&!u)r.push(hc(l,f,n));else if(c==="tuple"&&u){const p=[];for(const y of f)if(d.length>1){const v=sw(y,d.length-1),w=[];for(const g of v)w.push(hc(l,g,n));p.push(w)}else p.push(hc(l,y,n));r.push(p)}else r.push(f)}return n=n??[],n.push(...r),n},Mk=t=>{if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;throw new Error(`Invalid code point: ${t}`)},Qp=t=>{if(!Ae(t))throw new Error("Invalid hex string");const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=BigInt(n);return r>Number.MAX_SAFE_INTEGER?e?-r:r:r<Number.MIN_SAFE_INTEGER?r:e?-1*Number(r):Number(r)},Kp=t=>{if((typeof t=="number"||typeof t=="bigint")&&t<0)return`-0x${t.toString(16).slice(1)}`;if((typeof t=="number"||typeof t=="bigint")&&t>=0)return`0x${t.toString(16)}`;if(typeof t=="string"&&Ae(t)){const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=n.split(/^(-)?0(x|X)/).slice(-1)[0];return`${e?"-":""}0x${r.replace(/^0+/,"").toLowerCase()}`}if(typeof t=="string"&&!Ae(t))return Kp(BigInt(t));throw new W_(t)},jf=(t,e,n="0")=>{if(typeof t=="string"&&!Ae(t))return t.padStart(e,n);const r=typeof t=="string"&&Ae(t)?t:Kp(t),[i,s]=r.startsWith("-")?["-0x",r.slice(3)]:["0x",r.slice(2)];return`${i}${s.padStart(e,n)}`};function ui(t){let e="0x";for(const n of t){const r=n.toString(16);e+=r.length===1?`0${r}`:r}return e}const br={zero:48,nine:57,A:65,F:70,a:97,f:102};function n1(t){if(t>=br.zero&&t<=br.nine)return t-br.zero;if(t>=br.A&&t<=br.F)return t-(br.A-10);if(t>=br.a&&t<=br.f)return t-(br.a-10)}function bo(t){let e=0;if(t.startsWith("0")&&(t[1]==="x"||t[1]==="X")&&(e=2),t.length%2!==0)throw new ua(`hex string has odd length: ${t}`);const n=(t.length-e)/2,r=new Uint8Array(n);for(let i=0,s=e;i<n;i+=1){const o=n1(t.charCodeAt(s++)),a=n1(t.charCodeAt(s++));if(o===void 0||a===void 0)throw new ua(`Invalid byte sequence ("${t[s-2]}${t[s-1]}" in "${t}").`);r[i]=o*16+a}return r}function Yp(t){var e;return!(t instanceof Uint8Array)&&((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"?Uint8Array.from(t):t}const Dk=Object.freeze(Object.defineProperty({__proto__:null,abiSchemaToJsonSchema:Of,codePointToInt:Mk,ensureIfUint8Array:Yp,ethAbiToJsonSchema:iw,fetchArrayElement:sw,hexToNumber:Qp,hexToUint8Array:bo,numberToHex:Kp,padLeft:jf,parseBaseType:xo,transformJsonDataToAbiFormat:hc,uint8ArrayToHexString:ui},Symbol.toStringTag,{value:"Module"})),dy=t=>{var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"},ms=(t,e={abiType:"bytes"})=>{if(typeof t!="string"&&!Array.isArray(t)&&!dy(t)||typeof t=="string"&&Ae(t)&&t.startsWith("-")||typeof t=="string"&&!Ae(t))return!1;let n;if(typeof t=="string"){if(t.length%2!==0)return!1;n=bo(t)}else if(Array.isArray(t)){if(t.some(r=>r<0||r>255||!Number.isInteger(r)))return!1;n=new Uint8Array(t)}else n=t;if(e!=null&&e.abiType){const{baseTypeSize:r}=xo(e.abiType);return r?n.length===r:!0}return e!=null&&e.size?n.length===(e==null?void 0:e.size):!0},Lk=t=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(t))return!1;const e=t.slice(2),n=Pa(e.toLowerCase()),r=ui(Lt(Yp(n))).slice(2);for(let i=0;i<40;i+=1)if(parseInt(r[i],16)>7&&e[i].toUpperCase()!==e[i]||parseInt(r[i],16)<=7&&e[i].toLowerCase()!==e[i])return!1;return!0},mn=(t,e=!0)=>{if(typeof t!="string"&&!dy(t))return!1;let n;return dy(t)?n=ui(t):typeof t=="string"&&!Ae(t)?n=t.toLowerCase().startsWith("0x")?t:`0x${t}`:n=t,/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x|0X)?[0-9a-f]{40}$/.test(n)||/^(0x|0X)?[0-9A-F]{40}$/.test(n)?!0:e?Lk(n):!0:!1},ao=(t,e)=>{if(e===BigInt(0))return BigInt(1);let n=t;for(let r=1;r<e;r+=1)n*=t;return n},ii=(t,e={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="string"&&t.length===0)return!1;let n;if(e!=null&&e.abiType){const{baseTypeSize:i}=xo(e.abiType);i&&(n=i)}else e.bitSize&&(n=e.bitSize);const r=ao(BigInt(2),BigInt(n??256))-BigInt(1);try{const i=typeof t=="string"&&Ae(t)?BigInt(Qp(t)):BigInt(t);return i>=0&&i<=r}catch{return!1}},au=(t,e={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="number"&&t>Number.MAX_SAFE_INTEGER)return!1;let n;if(e!=null&&e.abiType){const{baseTypeSize:s,baseType:o}=xo(e.abiType);if(o!=="int")return!1;s&&(n=s)}else e.bitSize&&(n=e.bitSize);const r=ao(BigInt(2),BigInt((n??256)-1)),i=BigInt(-1)*ao(BigInt(2),BigInt((n??256)-1));try{const s=typeof t=="string"&&Ae(t)?BigInt(Qp(t)):BigInt(t);return s>=i&&s<=r}catch{return!1}},Bk=t=>!!(au(t)||typeof t=="string"&&/[0-9.]/.test(t)&&t.indexOf(".")===t.lastIndexOf(".")||typeof t=="number"),Fk=t=>ii(t),gt=t=>Object.values(Mr).includes(t),hy=t=>gt(t)||Fk(t),dl=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(t)||/^(0x)?[0-9A-F]{512}$/.test(t)),Jp=(t,e)=>{if(typeof e=="string"&&!Ae(e)||!dl(t))return!1;const n=typeof e=="string"?bo(e):e,r=ui(Lt(n)).slice(2);for(let i=0;i<12;i+=4){const s=(parseInt(r.slice(i,i+2),16)<<8)+parseInt(r.slice(i+2,i+4),16)&2047,o=Mk(t.charCodeAt(t.length-1-Math.floor(s/4))),a=1<<s%4;if((o&a)!==a)return!1}return!0},l7=(t,e)=>{if(!dl(t)||!mn(e))return!1;const n=jf(e,64);return Jp(t,n)},c7=(t,e)=>!dl(t)||!mn(e)?!1:Jp(t,e),u7=t=>["number","string","boolean"].includes(typeof t)?typeof t=="boolean"?!0:typeof t=="string"&&!Ae(t)?t==="1"||t==="0":typeof t=="string"&&Ae(t)?t==="0x1"||t==="0x0":t===1||t===0:!1,N=t=>t==null,La=t=>typeof t=="object"&&!N(t)&&!Array.isArray(t)&&!(t instanceof V_),Mf=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{64}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{64}$/.test(t)||/^(0x)?[0-9A-F]{64}$/.test(t)),d7=(t,e)=>!dl(t)||!Mf(e)?!1:Jp(t,e),h7=t=>{const e=["fromBlock","toBlock","address","topics","blockHash"];if(N(t)||typeof t!="object"||!Object.keys(t).every(n=>e.includes(n))||!N(t.fromBlock)&&!hy(t.fromBlock)||!N(t.toBlock)&&!hy(t.toBlock))return!1;if(!N(t.address)){if(Array.isArray(t.address)){if(!t.address.every(n=>mn(n)))return!1}else if(!mn(t.address))return!1}return!(!N(t.topics)&&!t.topics.every(n=>N(n)?!0:Array.isArray(n)?n.every(r=>Mf(r)):!!Mf(n)))},lo={address:t=>mn(t),bloom:t=>dl(t),blockNumber:t=>Fk(t),blockTag:t=>gt(t),blockNumberOrTag:t=>hy(t),bool:t=>u7(t),bytes:t=>ms(t),filter:t=>h7(t),hex:t=>Ae(t),uint:t=>ii(t),int:t=>au(t),number:t=>Bk(t),string:t=>tw(t)};for(let t=8;t<=256;t+=8)lo[`int${t}`]=e=>au(e,{bitSize:t}),lo[`uint${t}`]=e=>ii(e,{bitSize:t});for(let t=1;t<=32;t+=1)lo[`bytes${t}`]=e=>ms(e,{size:t});lo.bytes256=lo.bytes;const ql=t=>{if((!(t!=null&&t.type)||(t==null?void 0:t.type)==="object")&&(t!=null&&t.properties)){const e={};for(const n of Object.keys(t.properties)){const r=ql(t.properties[n]);r&&(e[n]=r)}return Array.isArray(t.required)?Xn.object(e).partial().required(t.required.reduce((n,r)=>Object.assign(Object.assign({},n),{[r]:!0}),{})):Xn.object(e).partial()}if((t==null?void 0:t.type)==="array"&&(t!=null&&t.items)){if(Array.isArray(t.items)&&t.items.length>1&&t.maxItems!==void 0&&new Set(t.items.map(r=>r.$id)).size===t.items.length){const r=[];for(const i of t.items){const s=ql(i);s&&r.push(s)}return Xn.tuple(r)}const e=Array.isArray(t.items)?t.items[0]:t.items;let n=Xn.array(ql(e));return n=t.minItems!==void 0?n.min(t.minItems):n,n=t.maxItems!==void 0?n.max(t.maxItems):n,n}if(t.oneOf&&Array.isArray(t.oneOf))return Xn.union(t.oneOf.map(e=>ql(e)));if(t!=null&&t.format){if(!lo[t.format])throw new kH(t.format);return Xn.any().refine(lo[t.format],e=>({params:{value:e,format:t.format}}))}return t!=null&&t.type&&(t==null?void 0:t.type)!=="object"&&typeof Xn[String(t.type)]=="function"?Xn[String(t.type)]():Xn.object({data:Xn.any()}).partial()};class Xo{static factory(){return Xo.validatorInstance||(Xo.validatorInstance=new Xo),Xo.validatorInstance}validate(e,n,r){var i,s;const a=ql(e).safeParse(n);if(!a.success){const l=this.convertErrors((s=(i=a.error)===null||i===void 0?void 0:i.issues)!==null&&s!==void 0?s:[]);if(l){if(r!=null&&r.silent)return l;throw new Da(l)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map(n=>{var r;let i,s,o,a;a=n.path.join("/");const l=String(n.path[n.path.length-1]),c=n.path.join("/");if(n.code===M.too_big)s="maxItems",a=`${c}/maxItems`,o={limit:n.maximum},i=`must NOT have more than ${n.maximum} items`;else if(n.code===M.too_small)s="minItems",a=`${c}/minItems`,o={limit:n.minimum},i=`must NOT have fewer than ${n.minimum} items`;else if(n.code===M.custom){const{value:u,format:d}=(r=n.params)!==null&&r!==void 0?r:{};typeof u>"u"?i=`value at "/${a}" is required`:i=`value "${typeof u=="object"?JSON.stringify(u):u}" at "/${a}" must pass "${d}" validation`,o={value:u}}return{keyword:s??l,instancePath:c?`/${c}`:"",schemaPath:a?`#${a}`:"#",params:o??{value:n.message},message:i??n.message}})}}class f7{constructor(){this._validator=Xo.factory()}validateJSONSchema(e,n,r){return this._validator.validate(e,n,r)}validate(e,n,r={silent:!1}){var i,s;const o=iw(e);if(!(Array.isArray(o.items)&&((i=o.items)===null||i===void 0?void 0:i.length)===0&&n.length===0)){if(Array.isArray(o.items)&&((s=o.items)===null||s===void 0?void 0:s.length)===0&&n.length!==0)throw new Da([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:n}]);return this._validator.validate(o,n,r)}}}const K=new f7;function gs(t){var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}function Vt(...t){const e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Zp(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n+=1)if(t[n]!==e[n])return!1;return!0}const Xp={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},fy="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",yr=t=>{if(K.validate(["bytes"],[t]),gs(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return bo(t);throw new ua(t)},{uint8ArrayToHexString:p7}=Dk,fe=t=>p7(yr(t)),je=t=>typeof t=="string"&&t.slice(0,2).toLowerCase()!=="0x"?yr(`0x${t}`):yr(t),Gu=t=>(K.validate(["hex"],[t]),Qp(t)),m7=Gu,ct=(t,e)=>{typeof t!="bigint"&&K.validate(["int"],[t]);let n=Kp(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},g7=ct,y7=t=>Gu(t).toString(),Yn=t=>{K.validate(["string"],[t]);let e=t.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),fe(new TextEncoder().encode(e))},Uk=Yn,v7=Yn,em=t=>bk(je(t)),_7=t=>typeof t=="string"?em(t):(K.validate(["bytes"],[t]),bk(t)),ow=Pa,w7=em,Hk=t=>{K.validate(["string"],[t]);let e="";for(let n=0;n<t.length;n+=1){const r=t.charCodeAt(n).toString(16);e+=r.length%2!==0?`0${r}`:r}return`0x${e}`},x7=Hk,$k=t=>new TextDecoder("ascii").decode(je(t)),b7=$k,si=(t,e)=>{if(typeof t=="string"&&mn(t))return e?"address":`0x${t.toLowerCase().replace(/^0x/i,"")}`;if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(typeof t=="number")return e?t<0?"int256":"uint256":ct(t);if(typeof t=="bigint")return e?"bigint":ct(t);if(gs(t))return e?"bytes":fe(t);if(typeof t=="object"&&t)return e?"string":Yn(JSON.stringify(t));if(typeof t=="string"){if(t.startsWith("-0x")||t.startsWith("-0X"))return e?"int256":ct(t);if(Ae(t))return e?"bytes":t;if(Rf(t)&&!au(t)&&!ii(t))return e?"bytes":`0x${t}`;if(Rf(t)&&!au(t)&&ii(t))return e?"uint":ct(t);if(!Number.isFinite(t))return e?"string":Yn(t)}throw new hH(t)},en=t=>{if(typeof t=="number")return t>1e20?(console.warn(fy),BigInt(t)):t;if(typeof t=="bigint")return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?Number(t):t;if(typeof t=="string"&&Ae(t))return Gu(t);try{return en(BigInt(t))}catch{throw new W_(t)}},Os=t=>{if(typeof t=="number")return BigInt(t);if(typeof t=="bigint")return t;if(typeof t=="string"&&Rf(t))return t.startsWith("-")?-BigInt(t.substring(1)):BigInt(t);throw new W_(t)},E7=(t,e)=>{let n;if(typeof e=="string"){if(n=Xp[e],!n)throw new dk(e)}else{if(e<0||!Number.isInteger(e))throw new hk(e);n=ao(BigInt(10),BigInt(e))}const r=String(en(t)),i=n.toString().length-1;if(i<=0)return r.toString();const s=r.padStart(i,"0"),o=s.slice(0,-i),a=s.slice(-i).replace(/\.?0+$/,"");return o===""?a?`0.${a}`:"0":a===""?o:`${o}.${a}`.slice(0,o.length+i+1)},A7=(t,e)=>{K.validate(["number"],[t]);let n;if(typeof e=="string"){if(n=Xp[e],!n)throw new dk(e)}else{if(e<0||!Number.isInteger(e))throw new hk(e);n=ao(BigInt(10),BigInt(e))}let r=t;typeof r=="number"&&(r<1e-15&&console.warn(fy),r>1e20?(console.warn(fy),r=BigInt(r)):r=r.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}));const[i,s]=String(typeof r=="string"&&!Ae(r)?r:en(r)).split(".").concat(""),a=BigInt(`${i}${s}`)*n,l=s.length;return l===0?a.toString():a.toString().slice(0,-l)},_r=t=>{if(!mn(t,!1))throw new Q_(t);const e=t.toLowerCase().replace(/^0x/i,""),n=ui(Lt(Yp(ow(e))));if(N(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const i=n.replace(/^0x/i,"");for(let s=0;s<e.length;s+=1)parseInt(i[s],16)>7?r+=e[s].toUpperCase():r+=e[s];return r},zk=t=>{if(typeof t=="boolean")return t;if(typeof t=="number"&&(t===0||t===1)||typeof t=="bigint"&&(t===BigInt(0)||t===BigInt(1)))return!!t;if(typeof t=="string"&&!Ae(t)&&(t==="1"||t==="0"||t==="false"||t==="true"))return t==="true"?!0:t==="false"?!1:!!Number(t);if(typeof t=="string"&&Ae(t)&&(t==="0x1"||t==="0x0"))return!!en(t);throw new K_(t)};var qk={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,f),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,y=new Array(p);f<p;f++)y[f]=d[f].fn;return y},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,p,y){var v=n?n+c:c;if(!this._events[v])return!1;var w=this._events[v],g=arguments.length,m,_;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),g){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,d),!0;case 4:return w.fn.call(w.context,u,d,f),!0;case 5:return w.fn.call(w.context,u,d,f,p),!0;case 6:return w.fn.call(w.context,u,d,f,p,y),!0}for(_=1,m=new Array(g-1);_<g;_++)m[_-1]=arguments[_];w.fn.apply(w.context,m)}else{var b=w.length,A;for(_=0;_<b;_++)switch(w[_].once&&this.removeListener(c,w[_].fn,void 0,!0),g){case 1:w[_].fn.call(w[_].context);break;case 2:w[_].fn.call(w[_].context,u);break;case 3:w[_].fn.call(w[_].context,u,d);break;case 4:w[_].fn.call(w[_].context,u,d,f);break;default:if(!m)for(A=1,m=new Array(g-1);A<g;A++)m[A-1]=arguments[A];w[_].fn.apply(w[_].context,m)}}return!0},a.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===u&&(!f||y.once)&&(!d||y.context===d)&&o(this,p);else{for(var v=0,w=[],g=y.length;v<g;v++)(y[v].fn!==u||f&&!y[v].once||d&&y[v].context!==d)&&w.push(y[v]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(qk);var S7=qk.exports;const Vk=wu(S7);class aw extends Vk{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}}const I7=Ae,T7=Rf,C7=Lk,k7=mn,N7=dl,P7=Jp,R7=l7,O7=c7,j7=Mf,M7=d7,D7=(t,e)=>{const n=typeof t=="string"&&gt(t),r=typeof e=="string"&&gt(e);if(t===e||(t==="earliest"||t===0)&&(e==="earliest"||e===0))return 0;if(t==="earliest")return-1;if(e==="earliest")return 1;if(n&&r){const o={[Mr.EARLIEST]:1,[Mr.FINALIZED]:2,[Mr.SAFE]:3,[Mr.LATEST]:4,[Mr.PENDING]:5};return o[t]<o[e]?-1:1}if(n&&!r||!n&&r)throw new pH("Cannot compare blocktag with provided non-blocktag input.");const i=BigInt(t),s=BigInt(e);return i<s?-1:i===s?0:1},Ri=t=>typeof t=="object"&&!N(t)&&Object.keys(t).length!==0&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some(e=>e in t),Y=N,r1=t=>typeof t=="object"&&!N(t)&&!Array.isArray(t)&&!(t instanceof V_),ys=(t,...e)=>{if(!r1(t))return t;const n=Object.assign({},t);for(const r of e)for(const i in r)r1(r[i])?(n[i]||(n[i]={}),n[i]=ys(n[i],r[i])):!N(r[i])&&Object.hasOwnProperty.call(r,i)&&(Array.isArray(r[i])||r[i]instanceof V_?n[i]=r[i].slice(0):n[i]=r[i]);return n},Ba=(t,e,n="0")=>typeof t=="string"?Ae(t)?jf(t,e,n):t.padStart(e,n):(K.validate(["int"],[t]),jf(t,e,n)),Gk=(t,e,n="0")=>{if(typeof t=="string"&&!Ae(t))return t.padEnd(e,n);const r=typeof t=="string"&&Ae(t)?t:ct(t),i=r.startsWith("-")?3:2;return K.validate([r.startsWith("-")?"int":"uint"],[t]),r.padEnd(e+i,n)},Wk=Gk,lu=Ba,Qk=(t,e=64)=>{K.validate(["int"],[t]);const n=en(t);if(n>=0)return Ba(si(n),e);const r=ao(BigInt(2),BigInt(e*4));if(-n>=r)throw new fk(`value: ${t}, nibbleWidth: ${e}`);const s=BigInt(n)+r;return Ba(ct(s),e)},L7=(t,e=64)=>{K.validate(["int"],[t]);const n=en(t);if(n<0)return n;const r=Math.ceil(Math.log(Number(n))/Math.log(2));if(r>e*4)throw new fk(`value: "${t}", nibbleWidth: "${e}"`);if(e*4!==r)return n;const i=ao(BigInt(2),BigInt(e)*BigInt(4));return en(BigInt(n)-i)},{parseBaseType:B7}=Dk,Pr=t=>typeof t=="object"&&!N(t)&&"number"in t&&"bytes"in t,F7=(t,e,n=[])=>{let r=Object.assign({},t),i;for(const s of e){if(r.oneOf&&i){const o=i,a=n.find(([l])=>l===o);a&&a[0]===i&&(r=r.oneOf[a[1]])}if(!r.properties&&!r.items)return;r.properties?r=r.properties[s]:r.items&&r.items.properties?r=r.items.properties[s]:r.items&&La(r.items)?r=r.items:r.items&&Array.isArray(r.items)&&(r=r.items[parseInt(s,10)]),r&&s&&(i=s)}return r},cu=(t,e,n)=>{try{const{baseType:r,baseTypeSize:i}=B7(e);if(r==="int"||r==="uint")switch(n.number){case Cn.NUMBER:return Number(Os(t));case Cn.HEX:return ct(Os(t));case Cn.STR:return Os(t).toString();case Cn.BIGINT:return Os(t);default:throw new iy(`Invalid format: ${String(n.number)}`)}if(r==="bytes"){let s;switch(i?typeof t=="string"?s=Ba(t,i*2):gs(t)&&(s=Vt(new Uint8Array(i-t.length),t)):s=t,n.bytes){case ni.HEX:return fe(yr(s));case ni.UINT8ARRAY:return yr(s);default:throw new iy(`Invalid format: ${String(n.bytes)}`)}}if(r==="string")return String(t)}catch{return t}return t},i1=({value:t,schemaProp:e,schema:n,object:r,key:i,dataPath:s,format:o,oneOfPath:a=[]})=>{var l,c;if(Array.isArray(t)){let u=e;if((e==null?void 0:e.oneOf)!==void 0&&e.oneOf.forEach((d,f)=>{var p,y;!Array.isArray(e==null?void 0:e.items)&&(typeof t[0]=="object"&&((p=d==null?void 0:d.items)===null||p===void 0?void 0:p.type)==="object"||typeof t[0]=="string"&&((y=d==null?void 0:d.items)===null||y===void 0?void 0:y.type)!=="object")&&(u=d,a.push([i,f]))}),N(u==null?void 0:u.items))return delete r[i],s.pop(),!0;if(La(u.items)&&!N(u.items.format)){for(let d=0;d<t.length;d+=1)r[i][d]=cu(t[d],(l=u==null?void 0:u.items)===null||l===void 0?void 0:l.format,o);return s.pop(),!0}if(!Array.isArray(u==null?void 0:u.items)&&((c=u==null?void 0:u.items)===null||c===void 0?void 0:c.type)==="object"){for(const d of t)tm(d,n,s,o,a);return s.pop(),!0}if(Array.isArray(u==null?void 0:u.items)){for(let d=0;d<t.length;d+=1)r[i][d]=cu(t[d],u.items[d].format,o);return s.pop(),!0}}return!1},tm=(t,e,n,r,i=[])=>{var s;if(!La(t)&&!Array.isArray(t))return cu(t,e==null?void 0:e.format,r);const o=t;if(Array.isArray(o)&&(e==null?void 0:e.type)==="array"&&((s=e==null?void 0:e.items)===null||s===void 0?void 0:s.type)==="object")i1({value:o,schemaProp:e,schema:e,object:o,key:"",dataPath:n,format:r,oneOfPath:i});else for(const[a,l]of Object.entries(o)){n.push(a);let c=F7(e,n,i);if(N(c)){delete o[a],n.pop();continue}if(La(l)){tm(l,e,n,r,i),n.pop();continue}if(!i1({value:l,schemaProp:c,schema:e,object:o,key:a,dataPath:n,format:r,oneOfPath:i})){if((c==null?void 0:c.format)===void 0&&(c==null?void 0:c.oneOf)!==void 0){for(const[u,d]of c.oneOf.entries())if((d==null?void 0:d.format)!==void 0){c=d;break}}o[a]=cu(l,c.format,r),n.pop()}}return o},j=(t,e,n=Ut)=>{let r;La(e)?r=ys({},e):Array.isArray(e)?r=[...e]:r=e;const i=La(t)?t:iw(t);if(!i.properties&&!i.items&&!i.format)throw new iy("Invalid json schema for formatting");return tm(r,i,[],n)},Kk="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Fa=t=>{let e;return typeof t=="bigint"||typeof t=="number"?e=Pa(t.toString()):Array.isArray(t)?e=new Uint8Array(t):typeof t=="string"&&!Ae(t)?e=Pa(t):e=yr(t),fe(Lt(Yp(e)))},Wu=t=>{let e;typeof t=="string"?t.startsWith("0x")&&Ae(t)?e=je(t):e=Pa(t):e=t;const n=Fa(e);return n===Kk?void 0:n},gn=t=>{const e=Wu(t);return N(e)?Kk:e},U7=t=>{if(Array.isArray(t))throw new Error("Autodetection of array types is not supported.");let e,n;if(typeof t=="object"&&("t"in t||"type"in t)&&("v"in t||"value"in t))e="t"in t?t.t:t.type,n="v"in t?t.v:t.value,e=e.toLowerCase()==="bigint"?"int":e;else{if(typeof t=="bigint")return["int",t];e=si(t,!0),n=si(t),!e.startsWith("int")&&!e.startsWith("uint")&&(e="bytes")}return(e.startsWith("int")||e.startsWith("uint"))&&typeof n=="string"&&!/^(-)?0x/i.test(n)&&(n=Os(n)),[e,n]},H7=t=>t.startsWith("int[")?`int256${t.slice(3)}`:t==="int"?"int256":t.startsWith("uint[")?`uint256'${t.slice(4)}`:t==="uint"?"uint256":t,lg=(t,e)=>{const n=/^(\d+).*$/.exec(t.slice(e));return n?parseInt(n[1],10):0},s1=t=>t.toString(2).length,o1=(t,e)=>{const n=e.toString();if(t==="string"){if(typeof e=="string")return Yn(e);throw new dH(e)}if(t==="bool"||t==="boolean"){if(typeof e=="boolean")return e?"01":"00";throw new K_(e)}if(t==="address"){if(!mn(n))throw new Q_(n);return n}const r=H7(t);if(t.startsWith("uint")){const i=lg(r,4);if(i%8||i<8||i>256)throw new VE(n);const s=en(n);if(s1(s)>i)throw new GE(n);if(s<BigInt(0))throw new fH(n);return i?lu(s.toString(16),i/8*2):s.toString(16)}if(t.startsWith("int")){const i=lg(r,3);if(i%8||i<8||i>256)throw new VE(t);const s=en(n);if(s1(s)>i)throw new GE(n);return s<BigInt(0)?Qk(s.toString(),i/8*2):i?lu(s.toString(16),i/4):s.toString(16)}if(r==="bytes"){if(n.replace(/^0x/i,"").length%2!==0)throw new ua(n);return n}if(t.startsWith("bytes")){if(n.replace(/^0x/i,"").length%2!==0)throw new ua(n);const i=lg(t,5);if(!i||i<1||i>64||i<n.replace(/^0x/i,"").length/2)throw new ua(n);return Wk(n,i*2)}return""},Yk=t=>{const[e,n]=U7(t);return Array.isArray(n)?n.map(s=>o1(e,s).replace("0x","")).join(""):o1(e,n).replace("0x","")},lw=(...t)=>`0x${t.map(Yk).join("").toLowerCase()}`,$7=(...t)=>Wu(lw(...t)),z7=(...t)=>gn(lw(...t)),q7=t=>Wu(`0x${(typeof t=="number"?t.toString():t).padStart(64,"0")}`);function V7(t){return vk(t)}const uu=t=>V7(t),G7=t=>fe(uu(t));var nm=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function Jk(t){return(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Zk(t,e,n){return nm(this,void 0,void 0,function*(){let r;const i=yield Promise.race([t instanceof Promise?t:t(),new Promise((s,o)=>{r=setTimeout(()=>n?o(n):s(void 0),e)})]);if(r&&clearTimeout(r),i instanceof Error)throw i;return i})}function cw(t,e){let n;return[new Promise((i,s)=>{n=setInterval(function o(){return nm(this,void 0,void 0,function*(){try{const a=yield Zk(t,e);N(a)||(clearInterval(n),i(a))}catch(a){clearInterval(n),s(a)}}),o}(),e)}),n]}function W7(t,e){return nm(this,void 0,void 0,function*(){return cw(t,e)[0]})}function uw(t,e){let n;const r=new Promise((i,s)=>{n=setTimeout(()=>{s(e)},t)});return[n,r]}function Xk(t,e){let n;const r=new Promise((i,s)=>{n=setInterval(()=>{nm(this,void 0,void 0,function*(){const o=yield t();o&&(clearInterval(n),s(o))})},e)});return[n,r]}const dw=()=>{const t=uu(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=fe(t);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")},hw=t=>{const e=t.error.code;return zt.has(e)||e>=-32099&&e<=-32e3},Yi=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"result"in t&&N(t.error)&&(typeof t.id=="number"||typeof t.id=="string"),Ji=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&N(t.result)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),rm=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&!N(t.params)&&!N(t.method),eN=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"id"in t&&"result"in t,Df=t=>Yi(t)||Ji(t),fw=t=>Array.isArray(t)?t.every(Df):Df(t),du=t=>Array.isArray(t)&&t.length>0&&fw(t);let Jd;const tN=t=>{Jd=t},co=t=>{var e,n,r,i;return typeof Jd<"u"&&(Jd+=1),{jsonrpc:(e=t.jsonrpc)!==null&&e!==void 0?e:"2.0",id:(r=(n=t.id)!==null&&n!==void 0?n:Jd)!==null&&r!==void 0?r:dw(),method:t.method,params:(i=t.params)!==null&&i!==void 0?i:void 0}},pw=t=>t.map(e=>co(e)),nr=t=>Array.isArray(t)&&t.length>0,Q7=Object.freeze(Object.defineProperty({__proto__:null,isBatchRequest:nr,isBatchResponse:du,isResponseRpcError:hw,isResponseWithError:Ji,isResponseWithNotification:rm,isResponseWithResult:Yi,isSubscriptionResult:eN,isValidResponse:fw,setRequestIdStart:tN,toBatchPayload:pw,toPayload:co,validateResponse:Df},Symbol.toStringTag,{value:"Module"}));var cg=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},nN;class Lf{constructor({timeout:e,eagerStart:n,timeoutMessage:r}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[nN]="Promise",this._state="pending",this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s}),this._timeoutMessage=r,this._timeoutInterval=e,n&&this.startTimer()}get state(){return this._state}then(e,n){return cg(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return cg(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return cg(this,void 0,void 0,function*(){return this._promise.finally(e)})}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new rk(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}nN=Symbol.toStringTag;class rN{constructor(e,n){this.eventEmitter=e,this.autoReconnect=n,this.chunkTimeout=1e3*15}clearQueues(){typeof this._clearQueues=="function"&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){const n=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(i=>{let s=i;this.lastChunk&&(s=this.lastChunk+s);let o;try{o=JSON.parse(s)}catch{this.lastChunk=s,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new Gp({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},this.chunkTimeout);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,o&&n.push(o)}),n}}var a1=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class mw extends zu{constructor(){super(...arguments),this._eventEmitter=new Vk,this._chainId="",this._accounts=[]}_getChainId(){return a1(this,void 0,void 0,function*(){var e;const n=yield this.request(co({method:"eth_chainId",params:[]}));return(e=n==null?void 0:n.result)!==null&&e!==void 0?e:""})}_getAccounts(){return a1(this,void 0,void 0,function*(){var e;const n=yield this.request(co({method:"eth_accounts",params:[]}));return(e=n==null?void 0:n.result)!==null&&e!==void 0?e:[]})}_onConnect(){Promise.all([this._getChainId().then(e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(e=>{console.error(e)}),this._getAccounts().then(e=>{this._accounts.length===e.length&&e.every(n=>e.includes(n))||(this._accounts=e,this._onAccountsChanged())}).catch(e=>{console.error(e)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(e=>{console.error(e)})}_onDisconnect(e,n){this._eventEmitter.emit("disconnect",new gH(e,n))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var ug=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const K7={autoReconnect:!0,delay:5e3,maxAttempts:5},Y7=1e3;class iN extends mw{get SocketConnection(){return this._socketConnection}constructor(e,n,r){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new sy(e);this._socketPath=e,this._socketOptions=n,this._reconnectOptions=Object.assign(Object.assign({},K7),r??{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new rN(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else throw this._connectionStatus="disconnected",e&&e.message?new qu(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`):new sy(this._socketPath)}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,n){this._eventEmitter.on(e,n)}once(e,n){this._eventEmitter.once(e,n)}removeListener(e,n){this._eventEmitter.removeListener(e,n)}_onDisconnect(e,n){this._connectionStatus="disconnected",super._onDisconnect(e,n)}disconnect(e,n){const r=e??Y7;this._removeSocketListeners(),this.getStatus()!=="disconnected"&&this._closeSocketConnection(r,n),this._onDisconnect(r,n)}safeDisconnect(e,n){return ug(this,arguments,void 0,function*(r,i,s=!1,o=1e3){let a=0;yield ug(this,void 0,void 0,function*(){return new Promise(c=>{const u=setInterval(()=>{s&&a>=5&&this.clearQueues(),this.getPendingRequestQueueSize()===0&&this.getSentRequestsQueueSize()===0&&(clearInterval(u),c(!0)),a+=1},o)})}),this.disconnect(r,i)})}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((e,n)=>{e.deferredPromise.reject(new P8),this._sentRequestsQueue.delete(n)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new N8(this._reconnectOptions.maxAttempts))))}request(e){return ug(this,void 0,void 0,function*(){if(Y(this._socketConnection))throw new Error("Connection is undefined");this.getStatus()==="disconnected"&&this.connect();const n=nr(e)?e[0].id:e.id;if(!n)throw new B8("Request Id not defined");if(this._sentRequestsQueue.has(n))throw new R8(n);const r=new Lf;r.catch(s=>{this._eventEmitter.emit("error",s)});const i={payload:e,deferredPromise:r};if(this.getStatus()==="connecting")return this._pendingRequestsQueue.set(n,i),i.deferredPromise;this._sentRequestsQueue.set(n,i);try{this._sendToSocket(i.payload)}catch(s){this._sentRequestsQueue.delete(n),this._eventEmitter.emit("error",s)}return r})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[e,n]of this._pendingRequestsQueue.entries())try{this._sendToSocket(n.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,n)}catch(r){this._pendingRequestsQueue.delete(e),this._eventEmitter.emit("error",r)}}_onMessage(e){const n=this._parseResponses(e);if(!(Y(n)||n.length===0))for(const r of n){if(rm(r)&&r.method.endsWith("_subscription")){this._eventEmitter.emit("message",r);return}const i=du(r)?r[0].id:r.id,s=this._sentRequestsQueue.get(i);if(!s)return;(du(r)||Yi(r)||Ji(r))&&(this._eventEmitter.emit("message",r),s.deferredPromise.resolve(r)),this._sentRequestsQueue.delete(i)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new ry(e)),this._pendingRequestsQueue.delete(r)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new ry(e)),this._sentRequestsQueue.delete(r)}),this._removeSocketListeners()}}const sN=Object.freeze(Object.defineProperty({__proto__:null,ChunkResponseParser:rN,Eip1193Provider:mw,EventEmitter:aw,SocketProvider:iN,Web3DeferredPromise:Lf,asciiToHex:Hk,bytesToHex:fe,bytesToUint8Array:yr,checkAddressCheckSum:C7,compareBlockNumbers:D7,convert:tm,convertScalarValue:cu,encodePacked:lw,ethUnitMap:Xp,format:j,fromAscii:x7,fromDecimal:g7,fromTwosComplement:L7,fromUtf8:Uk,fromWei:E7,getStorageSlotNumForLongString:q7,hexToAscii:$k,hexToBytes:je,hexToNumber:Gu,hexToNumberString:y7,hexToString:w7,hexToUtf8:em,isAddress:k7,isBatchRequest:nr,isBatchResponse:du,isBloom:N7,isContractAddressInBloom:O7,isContractInitOptions:Ri,isDataFormat:Pr,isHex:T7,isHexStrict:I7,isInBloom:P7,isNullish:Y,isPromise:Jk,isResponseRpcError:hw,isResponseWithError:Ji,isResponseWithNotification:rm,isResponseWithResult:Yi,isSubscriptionResult:eN,isTopic:j7,isTopicInBloom:M7,isUint8Array:gs,isUserEthereumAddressInBloom:R7,isValidResponse:fw,jsonRpc:Q7,keccak256:Fa,keccak256Wrapper:Fa,leftPad:lu,mergeDeep:ys,numberToHex:ct,padLeft:Ba,padRight:Gk,pollTillDefined:W7,pollTillDefinedAndReturnIntervalId:cw,processSolidityEncodePackedArgs:Yk,randomBytes:uu,randomHex:G7,rejectIfConditionAtInterval:Xk,rejectIfTimeout:uw,rightPad:Wk,setRequestIdStart:tN,sha3:Wu,sha3Raw:gn,soliditySha3:$7,soliditySha3Raw:z7,stringToHex:v7,toAscii:b7,toBatchPayload:pw,toBigInt:Os,toBool:zk,toChecksumAddress:_r,toDecimal:m7,toHex:si,toNumber:en,toPayload:co,toTwosComplement:Qk,toUtf8:_7,toWei:A7,uint8ArrayConcat:Vt,uint8ArrayEquals:Zp,utf8ToBytes:ow,utf8ToHex:Yn,uuidV4:dw,validateResponse:Df,waitWithTimeout:Zk},Symbol.toStringTag,{value:"Module"}));class im{constructor(){this._emitter=new aw}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,n){this._emitter.emit(e,n)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}var uo;(function(t){t.CONFIG_CHANGE="CONFIG_CHANGE"})(uo||(uo={}));class J7 extends im{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:750*1e3,transactionReceiptPollingInterval:void 0,transactionSendTimeout:750*1e3,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:si(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,customTransactionSchema:void 0,defaultReturnFormat:Ut,ignoreGasPricing:!1},this.setConfig(e??{})}setConfig(e){const n=Object.keys(e);for(const r of n)this._triggerConfigChange(r,e[r]),!Y(e[r])&&typeof e[r]=="number"&&r==="maxListenersWarningThreshold"&&this.setMaxListenerWarningThreshold(Number(e[r]));Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(e){this._triggerConfigChange("defaultReturnFormat",e),this.config.defaultReturnFormat=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!Y(this.config.defaultCommon)&&!Y(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new KE(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!Y(this.config.defaultCommon)&&!Y(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new QE(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!Y(this.config.defaultHardfork)&&!Y(e)&&!Y(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new QE(this.config.defaultHardfork,e.hardfork);if(!Y(this.config.defaultChain)&&!Y(e)&&!Y(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new KE(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get ignoreGasPricing(){return this.config.ignoreGasPricing}set ignoreGasPricing(e){this._triggerConfigChange("ignoreGasPricing",e),this.config.ignoreGasPricing=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}get customTransactionSchema(){return this.config.customTransactionSchema}set customTransactionSchema(e){this._triggerConfigChange("customTransactionSchema",e),this.config.customTransactionSchema=e}_triggerConfigChange(e,n){this.emit(uo.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:n})}}var py={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ts<"u"&&Ts,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Ts<"u"&&Ts||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(x){return x&&DataView.prototype.isPrototypeOf(x)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(x){return x&&u.indexOf(Object.prototype.toString.call(x))>-1};function f(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(x)||x==="")throw new TypeError('Invalid character in header field name: "'+x+'"');return x.toLowerCase()}function p(x){return typeof x!="string"&&(x=String(x)),x}function y(x){var I={next:function(){var D=x.shift();return{done:D===void 0,value:D}}};return l.iterable&&(I[Symbol.iterator]=function(){return I}),I}function v(x){this.map={},x instanceof v?x.forEach(function(I,D){this.append(D,I)},this):Array.isArray(x)?x.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(I){this.append(I,x[I])},this)}v.prototype.append=function(x,I){x=f(x),I=p(I);var D=this.map[x];this.map[x]=D?D+", "+I:I},v.prototype.delete=function(x){delete this.map[f(x)]},v.prototype.get=function(x){return x=f(x),this.has(x)?this.map[x]:null},v.prototype.has=function(x){return this.map.hasOwnProperty(f(x))},v.prototype.set=function(x,I){this.map[f(x)]=p(I)},v.prototype.forEach=function(x,I){for(var D in this.map)this.map.hasOwnProperty(D)&&x.call(I,this.map[D],D,this)},v.prototype.keys=function(){var x=[];return this.forEach(function(I,D){x.push(D)}),y(x)},v.prototype.values=function(){var x=[];return this.forEach(function(I){x.push(I)}),y(x)},v.prototype.entries=function(){var x=[];return this.forEach(function(I,D){x.push([D,I])}),y(x)},l.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function w(x){if(!x._noBody){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}}function g(x){return new Promise(function(I,D){x.onload=function(){I(x.result)},x.onerror=function(){D(x.error)}})}function m(x){var I=new FileReader,D=g(I);return I.readAsArrayBuffer(x),D}function _(x){var I=new FileReader,D=g(I),P=/charset=([A-Za-z0-9_-]+)/.exec(x.type),R=P?P[1]:"utf-8";return I.readAsText(x,R),D}function b(x){for(var I=new Uint8Array(x),D=new Array(I.length),P=0;P<I.length;P++)D[P]=String.fromCharCode(I[P]);return D.join("")}function A(x){if(x.slice)return x.slice(0);var I=new Uint8Array(x.byteLength);return I.set(new Uint8Array(x)),I.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(x){this.bodyUsed=this.bodyUsed,this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:l.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:l.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():l.arrayBuffer&&l.blob&&c(x)?(this._bodyArrayBuffer=A(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||d(x))?this._bodyArrayBuffer=A(x):this._bodyText=x=Object.prototype.toString.call(x):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var x=w(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var x=w(this);return x||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(m);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var x=w(this);if(x)return x;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(x){var I=x.toUpperCase();return k.indexOf(I)>-1?I:x}function U(x,I){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var D=I.body;if(x instanceof U){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,I.headers||(this.headers=new v(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!D&&x._bodyInit!=null&&(D=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new v(I.headers)),this.method=E(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in a){var O=new AbortController;return O.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&D)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(D),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var P=/([?&])_=[^&]*/;if(P.test(this.url))this.url=this.url.replace(P,"$1_="+new Date().getTime());else{var R=/\?/;this.url+=(R.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})};function C(x){var I=new FormData;return x.trim().split("&").forEach(function(D){if(D){var P=D.split("="),R=P.shift().replace(/\+/g," "),O=P.join("=").replace(/\+/g," ");I.append(decodeURIComponent(R),decodeURIComponent(O))}}),I}function B(x){var I=new v,D=x.replace(/\r?\n[\t ]+/g," ");return D.split("\r").map(function(P){return P.indexOf(`
`)===0?P.substr(1,P.length):P}).forEach(function(P){var R=P.split(":"),O=R.shift().trim();if(O){var Q=R.join(":").trim();try{I.append(O,Q)}catch(se){console.warn("Response "+se.message)}}}),I}T.call(U.prototype);function H(x,I){if(!(this instanceof H))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new v(I.headers),this.url=I.url||"",this._initBody(x)}T.call(H.prototype),H.prototype.clone=function(){return new H(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},H.error=function(){var x=new H(null,{status:200,statusText:""});return x.ok=!1,x.status=0,x.type="error",x};var W=[301,302,303,307,308];H.redirect=function(x,I){if(W.indexOf(I)===-1)throw new RangeError("Invalid status code");return new H(null,{status:I,headers:{location:x}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(I,D){this.message=I,this.name=D;var P=Error(I);this.stack=P.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function ge(x,I){return new Promise(function(D,P){var R=new U(x,I);if(R.signal&&R.signal.aborted)return P(new o.DOMException("Aborted","AbortError"));var O=new XMLHttpRequest;function Q(){O.abort()}O.onload=function(){var pe={statusText:O.statusText,headers:B(O.getAllResponseHeaders()||"")};R.url.indexOf("file://")===0&&(O.status<200||O.status>599)?pe.status=200:pe.status=O.status,pe.url="responseURL"in O?O.responseURL:pe.headers.get("X-Request-URL");var tt="response"in O?O.response:O.responseText;setTimeout(function(){D(new H(tt,pe))},0)},O.onerror=function(){setTimeout(function(){P(new TypeError("Network request failed"))},0)},O.ontimeout=function(){setTimeout(function(){P(new TypeError("Network request timed out"))},0)},O.onabort=function(){setTimeout(function(){P(new o.DOMException("Aborted","AbortError"))},0)};function se(pe){try{return pe===""&&a.location.href?a.location.href:pe}catch{return pe}}if(O.open(R.method,se(R.url),!0),R.credentials==="include"?O.withCredentials=!0:R.credentials==="omit"&&(O.withCredentials=!1),"responseType"in O&&(l.blob?O.responseType="blob":l.arrayBuffer&&(O.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof v||a.Headers&&I.headers instanceof a.Headers)){var Et=[];Object.getOwnPropertyNames(I.headers).forEach(function(pe){Et.push(f(pe)),O.setRequestHeader(pe,p(I.headers[pe]))}),R.headers.forEach(function(pe,tt){Et.indexOf(tt)===-1&&O.setRequestHeader(tt,pe)})}else R.headers.forEach(function(pe,tt){O.setRequestHeader(tt,pe)});R.signal&&(R.signal.addEventListener("abort",Q),O.onreadystatechange=function(){O.readyState===4&&R.signal.removeEventListener("abort",Q)}),O.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return ge.polyfill=!0,a.fetch||(a.fetch=ge,a.Headers=v,a.Request=U,a.Response=H),o.Headers=v,o.Request=U,o.Response=H,o.fetch=ge,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(py,py.exports);var Z7=py.exports;const X7=wu(Z7);var e$=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class sm extends zu{constructor(e,n){if(super(),!sm.validateClientUrl(e))throw new sy(e);this.clientUrl=e,this.httpProviderOptions=n}static validateClientUrl(e){return typeof e=="string"?/^http(s)?:\/\//i.test(e):!1}getStatus(){throw new xr}supportsSubscriptions(){return!1}request(e,n){var r;return e$(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},(r=this.httpProviderOptions)===null||r===void 0?void 0:r.providerOptions),n),s=yield X7(this.clientUrl,Object.assign(Object.assign({},i),{method:"POST",headers:Object.assign(Object.assign({},i.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!s.ok)throw new sr(yield s.json(),void 0,void 0,s.status);return yield s.json()})}on(){throw new xr}removeListener(){throw new xr}once(){throw new xr}removeAllListeners(){throw new xr}connect(){throw new xr}disconnect(){throw new xr}reset(){throw new xr}reconnect(){throw new xr}}var Mo=null;typeof WebSocket<"u"?Mo=WebSocket:typeof MozWebSocket<"u"?Mo=MozWebSocket:typeof global<"u"?Mo=global.WebSocket||global.MozWebSocket:typeof window<"u"?Mo=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Mo=self.WebSocket||self.MozWebSocket);const t$=Mo;class oN extends iN{constructor(e,n,r){super(e,n,r)}_validateProviderPath(e){return typeof e=="string"?/^ws(s)?:\/\//i.test(e):!1}getStatus(){if(this._socketConnection&&!Y(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new t$(this._socketPath,void 0,this._socketOptions&&Object.keys(this._socketOptions).length===0?void 0:this._socketOptions)}_closeSocketConnection(e,n){var r;(r=this._socketConnection)===null||r===void 0||r.close(e,n)}_sendToSocket(e){var n;if(this.getStatus()==="disconnected")throw new ry;(n=this._socketConnection)===null||n===void 0||n.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,n,r,i;(e=this._socketConnection)===null||e===void 0||e.addEventListener("open",this._onOpenHandler),(n=this._socketConnection)===null||n===void 0||n.addEventListener("message",this._onMessageHandler),(r=this._socketConnection)===null||r===void 0||r.addEventListener("close",s=>this._onCloseHandler(s)),(i=this._socketConnection)===null||i===void 0||i.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,n,r;(e=this._socketConnection)===null||e===void 0||e.removeEventListener("message",this._onMessageHandler),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("open",this._onOpenHandler),(r=this._socketConnection)===null||r===void 0||r.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var n;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(e.code)||!e.wasClean)){this._reconnect();return}this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("error",this._onErrorHandler)}}const aN=t=>zu.isWeb3Provider(t),lN=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="Function",cN=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="AsyncFunction",uN=t=>typeof t!="string"&&"send"in t,dN=t=>typeof t!="string"&&"sendAsync"in t,Bf=t=>t&&(aN(t)||cN(t)||lN(t)||dN(t)||uN(t)),n$=t=>t&&"supportsSubscriptions"in t?t.supportsSubscriptions():!!(t&&typeof t!="string"&&"on"in t);var dg=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},Ua;(function(t){t.PROVIDER_CHANGED="PROVIDER_CHANGED",t.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE"})(Ua||(Ua={}));const l1={HttpProvider:sm,WebsocketProvider:oN};class zs extends im{constructor(e,n,r){super(),Y(e)||this.setProvider(e),this.useRpcCallSpecification=n,Y(r)||(this.middleware=r)}static get providers(){return l1}get provider(){return this._provider}get providers(){return l1}setProvider(e){let n;if(e&&typeof e=="string"&&this.providers)if(/^http(s)?:\/\//i.test(e))n=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))n=new this.providers.WebsocketProvider(e);else throw new Wd(`Can't autodetect provider for "${e}"`);else Y(e)?n=void 0:n=e;return this.emit(Ua.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=n,this.emit(Ua.PROVIDER_CHANGED,this._provider),!0}setMiddleware(e){this.middleware=e}send(e){return dg(this,void 0,void 0,function*(){const n=Object.assign({},e);let r=yield this._sendRequest(n);if(Y(this.middleware)||(r=yield this.middleware.processResponse(r)),Yi(r))return r.result;throw new sr(r)})}sendBatch(e){return dg(this,void 0,void 0,function*(){return yield this._sendRequest(e)})}_sendRequest(e){return dg(this,void 0,void 0,function*(){const{provider:n}=this;if(Y(n))throw new Wd("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let r=nr(e)?pw(e):co(e);if(Y(this.middleware)||(r=yield this.middleware.processRequest(r)),aN(n)){let i;try{i=yield n.request(r)}catch(s){i=s}return this._processJsonRpcResponse(r,i,{legacy:!1,error:!1})}if(cN(n))return n.request(r).then(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!1})).catch(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!0}));if(lN(n))return new Promise((i,s)=>{const o=c=>{s(this._processJsonRpcResponse(r,c,{legacy:!0,error:!0}))},a=c=>i(this._processJsonRpcResponse(r,c,{legacy:!0,error:!1})),l=n.request(r,(c,u)=>c?o(c):a(u));Jk(l)&&l.then(a).catch(u=>{try{const d=this._processJsonRpcResponse(r,u,{legacy:!0,error:!0});s(d)}catch(d){s(d)}})});if(uN(n))return new Promise((i,s)=>{n.send(r,(o,a)=>{if(o)return s(this._processJsonRpcResponse(r,o,{legacy:!0,error:!0}));if(Y(a))throw new sr({},'Got a "nullish" response from provider.');return i(this._processJsonRpcResponse(r,a,{legacy:!0,error:!1}))})});if(dN(n))return n.sendAsync(r).then(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!1})).catch(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!0}));throw new Wd("Provider does not have a request or send method to use.")})}_processJsonRpcResponse(e,n,{legacy:r,error:i}){if(Y(n))return this._buildResponse(e,null,i);if(Ji(n)){if(this.useRpcCallSpecification&&hw(n)){const s=n;if(zt.get(s.error.code)){const o=zt.get(s.error.code).error;throw new o(s)}else throw new _n(s)}else if(!zs._isReverted(n))throw new Gp(n,e)}if(Yi(n))return n;if(n instanceof Error)throw zs._isReverted(n),n;if(!r&&nr(e)&&du(n)||r&&!i&&nr(e))return n;if(r&&i&&nr(e))throw n;if(r&&!Ji(n)&&!Yi(n))return this._buildResponse(e,n,i);throw nr(e)&&!Array.isArray(n)?new sr(n,"Got normal response for a batch request."):!nr(e)&&Array.isArray(n)?new sr(n,"Got batch response for a normal request."):new sr(n,"Invalid response")}static _isReverted(e){let n;if(Ji(e)?n=e.error:e instanceof Error&&(n=e),n!=null&&n.message.includes("revert"))throw new Hs(n);return!1}_buildResponse(e,n,r){const i={jsonrpc:"2.0",id:nr(e)?e[0].id:"id"in e?e.id:null};return r?Object.assign(Object.assign({},i),{error:n}):Object.assign(Object.assign({},i),{result:n})}}var Nl=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Ff{constructor(e,n,r=!1){this.requestManager=e,this.registeredSubscriptions=n,this.tolerateUnlinkedSubscription=r,this._subscriptions=new Map,this.requestManager.on(Ua.BEFORE_PROVIDER_CHANGE,()=>Nl(this,void 0,void 0,function*(){yield this.unsubscribe()})),this.requestManager.on(Ua.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents()}),this.listenToProviderEvents()}listenToProviderEvents(){const e=this.requestManager.provider;!this.requestManager.provider||typeof(e==null?void 0:e.supportsSubscriptions)=="function"&&!(e!=null&&e.supportsSubscriptions())||typeof this.requestManager.provider.on=="function"&&(typeof this.requestManager.provider.request=="function"?this.requestManager.provider.on("message",n=>this.messageListener(n)):e.on("data",n=>this.messageListener(n)))}messageListener(e){var n,r,i;if(!e)throw new Cr("Should not call messageListener with no data. Type was");const s=((n=e.params)===null||n===void 0?void 0:n.subscription)||((r=e.data)===null||r===void 0?void 0:r.subscription)||((i=e.id)===null||i===void 0?void 0:i.toString(16));if(s){const o=this._subscriptions.get(s);o==null||o.processSubscriptionData(e)}}subscribe(e,n){return Nl(this,arguments,void 0,function*(r,i,s=Ut){const o=this.registeredSubscriptions[r];if(!o)throw new Cr("Invalid subscription type");const a=new o(i??void 0,{subscriptionManager:this,returnFormat:s});return yield this.addSubscription(a),a})}get subscriptions(){return this._subscriptions}addSubscription(e){return Nl(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new Wd("Provider not available");if(!this.supportsSubscriptions())throw new Cr("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new Cr(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),Y(e.id))throw new Cr("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id})}removeSubscription(e){return Nl(this,void 0,void 0,function*(){const{id:n}=e;if(Y(n))throw new Cr("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(n)&&!this.tolerateUnlinkedSubscription)throw new Cr(`Subscription with id "${n.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(n),n})}unsubscribe(e){return Nl(this,void 0,void 0,function*(){const n=[];for(const[r,i]of this.subscriptions.entries())(!e||typeof e=="function"&&e({id:r,sub:i}))&&n.push(this.removeSubscription(i));return Promise.all(n)})}clear(){this._subscriptions.clear()}supportsSubscriptions(){return Y(this.requestManager.provider)?!1:n$(this.requestManager.provider)}}var Pl=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Qu extends im{constructor(e,n){var r;super(),this.args=e;const{requestManager:i}=n,{subscriptionManager:s}=n;i?this._subscriptionManager=new Ff(i,{},!0):this._subscriptionManager=s,this._returnFormat=(r=n==null?void 0:n.returnFormat)!==null&&r!==void 0?r:Ut}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return Pl(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this)})}processSubscriptionData(e){var n,r;e!=null&&e.data?this._processSubscriptionResult((r=(n=e==null?void 0:e.data)===null||n===void 0?void 0:n.result)!==null&&r!==void 0?r:e==null?void 0:e.data):e&&rm(e)&&this._processSubscriptionResult(e==null?void 0:e.params.result)}sendSubscriptionRequest(){return Pl(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id})}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return Pl(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe()})}unsubscribe(){return Pl(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))})}sendUnsubscribeRequest(){return Pl(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0})}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}var ko=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Uf extends B6{constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let e;try{e=window.localStorage;const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch(n){return n&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&!N(e)&&e.length!==0?e:void 0}}create(e){for(let n=0;n<e;n+=1)this.add(this._accountProvider.create());return this}add(e){var n;if(typeof e=="string")return this.add(this._accountProvider.privateKeyToAccount(e));let r=this.length;return this.get(e.address)&&(console.warn(`Account ${e.address.toLowerCase()} already exists.`),r=(n=this._addressMap.get(e.address.toLowerCase()))!==null&&n!==void 0?n:r),this._addressMap.set(e.address.toLowerCase(),r),this[r]=e,this}get(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return N(n)?void 0:this[n]}return this[e]}remove(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return N(n)?!1:(this._addressMap.delete(e.toLowerCase()),this.splice(n,1),!0)}return this[e]?(this.splice(e,1),!0):!1}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,n){return ko(this,void 0,void 0,function*(){return Promise.all(this.map(r=>ko(this,void 0,void 0,function*(){return r.encrypt(e,n)})))})}decrypt(e,n,r){return ko(this,void 0,void 0,function*(){const i=yield Promise.all(e.map(s=>ko(this,void 0,void 0,function*(){return this._accountProvider.decrypt(s,n,r)})));for(const s of i)this.add(s);return this})}save(e,n){return ko(this,void 0,void 0,function*(){const r=Uf.getStorage();if(!r)throw new Error("Local storage not available.");return r.setItem(n??this._defaultKeyName,JSON.stringify(yield this.encrypt(e))),!0})}load(e,n){return ko(this,void 0,void 0,function*(){const r=Uf.getStorage();if(!r)throw new Error("Local storage not available.");const i=r.getItem(n??this._defaultKeyName);return i&&(yield this.decrypt(JSON.parse(i)||[],e)),this})}}const lr={web:Qd};function hN(t,e,n){if(!n.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${n}`);if(e.length!==16)throw new Error("AES: wrong IV length");if(n.startsWith("aes-128")&&t.length!==16||n.startsWith("aes-256")&&t.length!==32)throw new Error("AES: wrong key length")}async function fN(t,e,n){if(!lr.web)throw new Error("Browser crypto not available.");let r;if(["aes-128-cbc","aes-256-cbc"].includes(t)&&(r="cbc"),["aes-128-ctr","aes-256-ctr"].includes(t)&&(r="ctr"),!r)throw new Error("AES: unsupported mode");return[await lr.web.subtle.importKey("raw",e,{name:`AES-${r.toUpperCase()}`,length:e.length*8},!0,["encrypt","decrypt"]),{name:`aes-${r}`,iv:n,counter:n,length:128}]}async function gw(t,e,n,r="aes-128-ctr",i=!0){if(hN(e,n,r),lr.web){const[s,o]=await fN(r,e,n),a=await lr.web.subtle.encrypt(o,s,t);let l=new Uint8Array(a);return!i&&o.name==="aes-cbc"&&!(t.length%16)&&(l=l.slice(0,-16)),l}else if(lr.node){const s=lr.node.createCipheriv(r,e,n);return s.setAutoPadding(i),Ef(s.update(t),s.final())}else throw new Error("The environment doesn't have AES module")}async function r$(t,e,n,r){const i=t.slice(-16);for(let o=0;o<16;o++)i[o]^=n[o]^16;return(await gw(i,e,n,r)).slice(0,16)}async function i$(t,e,n,r="aes-128-ctr",i=!0){if(hN(e,n,r),lr.web){const[s,o]=await fN(r,e,n);if(!i&&o.name==="aes-cbc"){const c=await r$(t,e,n,r);t=Ef(t,c)}const a=await lr.web.subtle.decrypt(o,s,t),l=new Uint8Array(a);if(o.name==="aes-cbc"){const c=await gw(l,e,n,r);if(!KH(c,t))throw new Error("AES: wrong padding")}return l}else if(lr.node){const s=lr.node.createDecipheriv(r,e,n);return s.setAutoPadding(i),Ef(s.update(t),s.final())}else throw new Error("The environment doesn't have AES module")}class pN extends Z_{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Y_(e);const r=Ra(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return ro(this),this.iHash.update(e),this}digestInto(e){ro(this),ul(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const yw=(t,e,n)=>new pN(t,e).update(n).digest();yw.create=(t,e)=>new pN(t,e);function s$(t,e,n,r){Y_(t);const i=gk({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(Yt(s),Yt(o),Yt(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=Ra(e),c=Ra(n),u=new Uint8Array(o),d=yw.create(t,l),f=d._cloneInto().update(c);return{c:s,dkLen:o,asyncTick:a,DK:u,PRF:d,PRFSalt:f}}function o$(t,e,n,r,i){return t.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),n}function vw(t,e,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:l}=s$(t,e,n,r);let c;const u=new Uint8Array(4),d=Yd(u),f=new Uint8Array(a.outputLen);for(let p=1,y=0;y<s;p++,y+=a.outputLen){const v=o.subarray(y,y+a.outputLen);d.setInt32(0,p,!1),(c=l._cloneInto(c)).update(u).digestInto(f),v.set(f.subarray(0,v.length));for(let w=1;w<i;w++){a._cloneInto(c).update(f).digestInto(f);for(let g=0;g<v.length;g++)v[g]^=f[g]}}return o$(a,l,o,c,f)}function a$(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}const l$=(t,e,n)=>t&e^~t&n,c$=(t,e,n)=>t&e^t&n^e&n;class u$ extends Z_{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Yd(this.buffer)}update(e){ro(this);const{view:n,buffer:r,blockLen:i}=this;e=Ra(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Yd(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ro(this),J_(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;a$(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Yd(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const d$=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),yi=new Uint32Array(64);class h$ extends u${constructor(){super(64,32,8,!1),this.A=gi[0]|0,this.B=gi[1]|0,this.C=gi[2]|0,this.D=gi[3]|0,this.E=gi[4]|0,this.F=gi[5]|0,this.G=gi[6]|0,this.H=gi[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)yi[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=yi[d-15],p=yi[d-2],y=Zn(f,7)^Zn(f,18)^f>>>3,v=Zn(p,17)^Zn(p,19)^p>>>10;yi[d]=v+yi[d-7]+y+yi[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=Zn(a,6)^Zn(a,11)^Zn(a,25),p=u+f+l$(a,l,c)+d$[d]+yi[d]|0,v=(Zn(r,2)^Zn(r,13)^Zn(r,22))+c$(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){yi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const om=yk(()=>new h$);function mN(t,e,n,r,i){if(!["sha256","sha512"].includes(i))throw new Error("Only sha256 and sha512 are supported");return Af(t),Af(e),vw(om,t,e,{c:n,dkLen:r})}function c1(t,e,n,r,i,s){let o=t[e++]^n[r++],a=t[e++]^n[r++],l=t[e++]^n[r++],c=t[e++]^n[r++],u=t[e++]^n[r++],d=t[e++]^n[r++],f=t[e++]^n[r++],p=t[e++]^n[r++],y=t[e++]^n[r++],v=t[e++]^n[r++],w=t[e++]^n[r++],g=t[e++]^n[r++],m=t[e++]^n[r++],_=t[e++]^n[r++],b=t[e++]^n[r++],A=t[e++]^n[r++],T=o,k=a,E=l,U=c,C=u,B=d,H=f,W=p,ge=y,x=v,I=w,D=g,P=m,R=_,O=b,Q=A;for(let se=0;se<8;se+=2)C^=xe(T+P|0,7),ge^=xe(C+T|0,9),P^=xe(ge+C|0,13),T^=xe(P+ge|0,18),x^=xe(B+k|0,7),R^=xe(x+B|0,9),k^=xe(R+x|0,13),B^=xe(k+R|0,18),O^=xe(I+H|0,7),E^=xe(O+I|0,9),H^=xe(E+O|0,13),I^=xe(H+E|0,18),U^=xe(Q+D|0,7),W^=xe(U+Q|0,9),D^=xe(W+U|0,13),Q^=xe(D+W|0,18),k^=xe(T+U|0,7),E^=xe(k+T|0,9),U^=xe(E+k|0,13),T^=xe(U+E|0,18),H^=xe(B+C|0,7),W^=xe(H+B|0,9),C^=xe(W+H|0,13),B^=xe(C+W|0,18),D^=xe(I+x|0,7),ge^=xe(D+I|0,9),x^=xe(ge+D|0,13),I^=xe(x+ge|0,18),P^=xe(Q+O|0,7),R^=xe(P+Q|0,9),O^=xe(R+P|0,13),Q^=xe(O+R|0,18);i[s++]=o+T|0,i[s++]=a+k|0,i[s++]=l+E|0,i[s++]=c+U|0,i[s++]=u+C|0,i[s++]=d+B|0,i[s++]=f+H|0,i[s++]=p+W|0,i[s++]=y+ge|0,i[s++]=v+x|0,i[s++]=w+I|0,i[s++]=g+D|0,i[s++]=m+P|0,i[s++]=_+R|0,i[s++]=b+O|0,i[s++]=A+Q|0}function hg(t,e,n,r,i){let s=r+0,o=r+16*i;for(let a=0;a<16;a++)n[o+a]=t[e+(2*i-1)*16+a];for(let a=0;a<i;a++,s+=16,e+=16)c1(n,o,t,e,n,s),a>0&&(o+=16),c1(n,s,t,e+=16,n,o)}function f$(t,e,n){const r=gk({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:i,r:s,p:o,dkLen:a,asyncTick:l,maxmem:c,onProgress:u}=r;if(Yt(i),Yt(s),Yt(o),Yt(a),Yt(l),Yt(c),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");const d=128*s,f=d/4;if(i<=1||i&i-1||i>=2**(d/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const p=d*(i+o);if(p>c)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${c} (maxmem)`);const y=vw(om,t,e,{c:1,dkLen:d*o}),v=Kd(y),w=Kd(new Uint8Array(d*i)),g=Kd(new Uint8Array(d));let m=()=>{};if(u){const _=2*i*o,b=Math.max(Math.floor(_/1e4),1);let A=0;m=()=>{A++,u&&(!(A%b)||A===_)&&u(A/_)}}return{N:i,r:s,p:o,dkLen:a,blockSize32:f,V:w,B32:v,B:y,tmp:g,blockMixCb:m,asyncTick:l}}function p$(t,e,n,r,i){const s=vw(om,t,n,{c:1,dkLen:e});return n.fill(0),r.fill(0),i.fill(0),s}function m$(t,e,n){const{N:r,r:i,p:s,dkLen:o,blockSize32:a,V:l,B32:c,B:u,tmp:d,blockMixCb:f}=f$(t,e,n);xf||bf(c);for(let p=0;p<s;p++){const y=a*p;for(let v=0;v<a;v++)l[v]=c[y+v];for(let v=0,w=0;v<r-1;v++)hg(l,w,l,w+=a,i),f();hg(l,(r-1)*a,c,y,i),f();for(let v=0;v<r;v++){const w=c[y+a-16]%r;for(let g=0;g<a;g++)d[g]=c[y+g]^l[w*a+g];hg(d,0,c,y,i),f()}}return xf||bf(c),p$(t,o,u,l,d)}function gN(t,e,n,r,i,s,o){return Af(t),Af(e),m$(t,e,{N:n,r:i,p:r,dkLen:s,onProgress:o})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yN=BigInt(0),am=BigInt(1),g$=BigInt(2);function ho(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Ku(t){if(!ho(t))throw new Error("Uint8Array expected")}const y$=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ha(t){Ku(t);let e="";for(let n=0;n<t.length;n++)e+=y$[t[n]];return e}function vN(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function _w(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Er={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function u1(t){if(t>=Er._0&&t<=Er._9)return t-Er._0;if(t>=Er._A&&t<=Er._F)return t-(Er._A-10);if(t>=Er._a&&t<=Er._f)return t-(Er._a-10)}function $a(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=u1(t.charCodeAt(s)),a=u1(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function qs(t){return _w(Ha(t))}function ww(t){return Ku(t),_w(Ha(Uint8Array.from(t).reverse()))}function za(t,e){return $a(t.toString(16).padStart(e*2,"0"))}function xw(t,e){return za(t,e).reverse()}function v$(t){return $a(vN(t))}function Dn(t,e,n){let r;if(typeof e=="string")try{r=$a(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(ho(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function hu(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Ku(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function _$(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function w$(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function x$(t){let e;for(e=0;t>yN;t>>=am,e+=1);return e}function b$(t,e){return t>>BigInt(e)&am}function E$(t,e,n){return t|(n?am:yN)<<BigInt(e)}const bw=t=>(g$<<BigInt(t-1))-am,fg=t=>new Uint8Array(t),d1=t=>Uint8Array.from(t);function _N(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=fg(t),i=fg(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),l=(d=fg())=>{i=a(d1([0]),d),r=a(),d.length!==0&&(i=a(d1([1]),d),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){r=a();const p=r.slice();f.push(p),d+=r.length}return hu(...f)};return(d,f)=>{o(),l(d);let p;for(;!(p=f(c()));)l();return o(),p}}const A$={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||ho(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Yu(t,e,n={}){const r=(i,s,o)=>{const a=A$[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const S$=Object.freeze(Object.defineProperty({__proto__:null,abytes:Ku,bitGet:b$,bitLen:x$,bitMask:bw,bitSet:E$,bytesToHex:Ha,bytesToNumberBE:qs,bytesToNumberLE:ww,concatBytes:hu,createHmacDrbg:_N,ensureBytes:Dn,equalBytes:_$,hexToBytes:$a,hexToNumber:_w,isBytes:ho,numberToBytesBE:za,numberToBytesLE:xw,numberToHexUnpadded:vN,numberToVarBytesBE:v$,utf8ToBytes:w$,validateObject:Yu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pt=BigInt(0),et=BigInt(1),Is=BigInt(2),I$=BigInt(3),my=BigInt(4),h1=BigInt(5),f1=BigInt(8);BigInt(9);BigInt(16);function Qt(t,e){const n=t%e;return n>=pt?n:e+n}function T$(t,e,n){if(n<=pt||e<pt)throw new Error("Expected power/modulo > 0");if(n===et)return pt;let r=et;for(;e>pt;)e&et&&(r=r*t%n),t=t*t%n,e>>=et;return r}function wn(t,e,n){let r=t;for(;e-- >pt;)r*=r,r%=n;return r}function gy(t,e){if(t===pt||e<=pt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Qt(t,e),r=e,i=pt,s=et;for(;n!==pt;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==et)throw new Error("invert: does not exist");return Qt(i,e)}function C$(t){const e=(t-et)/Is;let n,r,i;for(n=t-et,r=0;n%Is===pt;n/=Is,r++);for(i=Is;i<t&&T$(i,e,t)!==t-et;i++);if(r===1){const o=(t+et)/my;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+et)/Is;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),d=a.pow(l,s),f=a.pow(l,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let v=a.sqr(f);p<c&&!a.eql(v,a.ONE);p++)v=a.sqr(v);const y=a.pow(u,et<<BigInt(c-p-1));u=a.sqr(y),d=a.mul(d,y),f=a.mul(f,u),c=p}return d}}function k$(t){if(t%my===I$){const e=(t+et)/my;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%f1===h1){const e=(t-h1)/f1;return function(r,i){const s=r.mul(i,Is),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,Is),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return C$(t)}const N$=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function P$(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=N$.reduce((r,i)=>(r[i]="function",r),e);return Yu(t,n)}function R$(t,e,n){if(n<pt)throw new Error("Expected power > 0");if(n===pt)return t.ONE;if(n===et)return e;let r=t.ONE,i=e;for(;n>pt;)n&et&&(r=t.mul(r,i)),i=t.sqr(i),n>>=et;return r}function O$(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function wN(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function j$(t,e,n=!1,r={}){if(t<=pt)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=wN(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=k$(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:bw(i),ZERO:pt,ONE:et,create:l=>Qt(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return pt<=l&&l<t},is0:l=>l===pt,isOdd:l=>(l&et)===et,neg:l=>Qt(-l,t),eql:(l,c)=>l===c,sqr:l=>Qt(l*l,t),add:(l,c)=>Qt(l+c,t),sub:(l,c)=>Qt(l-c,t),mul:(l,c)=>Qt(l*c,t),pow:(l,c)=>R$(a,l,c),div:(l,c)=>Qt(l*gy(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>gy(l,t),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>O$(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?xw(l,s):za(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?ww(l):qs(l)}});return Object.freeze(a)}function xN(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function bN(t){const e=xN(t);return e+Math.ceil(e/2)}function M$(t,e,n=!1){const r=t.length,i=xN(e),s=bN(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?qs(t):ww(t),a=Qt(o,e-et)+et;return n?xw(a,i):za(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const D$=BigInt(0),pg=BigInt(1);function L$(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>D$;)s&pg&&(o=o.add(a)),a=a.double(),s>>=pg;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let c=i,u=c;for(let d=0;d<o;d++){u=c,l.push(u);for(let f=1;f<a;f++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let c=t.ZERO,u=t.BASE;const d=BigInt(2**i-1),f=2**i,p=BigInt(i);for(let y=0;y<a;y++){const v=y*l;let w=Number(o&d);o>>=p,w>l&&(w-=f,o+=pg);const g=v,m=v+Math.abs(w)-1,_=y%2!==0,b=w<0;w===0?u=u.add(n(_,s[g])):c=c.add(n(b,s[m]))}return{p:c,f:u}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&s.set(i,a(c))),this.wNAF(l,c,o)}}}function EN(t){return P$(t.Fp),Yu(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...wN(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function B$(t){const e=EN(t);Yu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:F$,hexToBytes:U$}=S$,js={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=js;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:F$(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=js,n=typeof t=="string"?U$(t):t;Ku(n);let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=js._parseInt(n.subarray(2)),{d:o,l:a}=js._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${i}02${a}${r}`}},Dr=BigInt(0),bn=BigInt(1);BigInt(2);const p1=BigInt(3);BigInt(4);function H$(t){const e=B$(t),{Fp:n}=e,r=e.toBytes||((y,v,w)=>{const g=v.toAffine();return hu(Uint8Array.from([4]),n.toBytes(g.x),n.toBytes(g.y))}),i=e.fromBytes||(y=>{const v=y.subarray(1),w=n.fromBytes(v.subarray(0,n.BYTES)),g=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:w,y:g}});function s(y){const{a:v,b:w}=e,g=n.sqr(y),m=n.mul(g,y);return n.add(n.add(m,n.mul(y,v)),w)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&Dr<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(y){const{allowedPrivateKeyLengths:v,nByteLength:w,wrapPrivateKey:g,n:m}=e;if(v&&typeof y!="bigint"){if(ho(y)&&(y=Ha(y)),typeof y!="string"||!v.includes(y.length))throw new Error("Invalid key");y=y.padStart(w*2,"0")}let _;try{_=typeof y=="bigint"?y:qs(Dn("private key",y,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof y}`)}return g&&(_=Qt(_,m)),a(_),_}const c=new Map;function u(y){if(!(y instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(v,w,g){if(this.px=v,this.py=w,this.pz=g,v==null||!n.isValid(v))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(g==null||!n.isValid(g))throw new Error("z required")}static fromAffine(v){const{x:w,y:g}=v||{};if(!v||!n.isValid(w)||!n.isValid(g))throw new Error("invalid affine point");if(v instanceof d)throw new Error("projective point not allowed");const m=_=>n.eql(_,n.ZERO);return m(w)&&m(g)?d.ZERO:new d(w,g,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const w=n.invertBatch(v.map(g=>g.pz));return v.map((g,m)=>g.toAffine(w[m])).map(d.fromAffine)}static fromHex(v){const w=d.fromAffine(i(Dn("pointHex",v)));return w.assertValidity(),w}static fromPrivateKey(v){return d.BASE.multiply(l(v))}_setWindowSize(v){this._WINDOW_SIZE=v,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:w}=this.toAffine();if(!n.isValid(v)||!n.isValid(w))throw new Error("bad point: x or y not FE");const g=n.sqr(w),m=s(v);if(!n.eql(g,m))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){u(v);const{px:w,py:g,pz:m}=this,{px:_,py:b,pz:A}=v,T=n.eql(n.mul(w,A),n.mul(_,m)),k=n.eql(n.mul(g,A),n.mul(b,m));return T&&k}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:w}=e,g=n.mul(w,p1),{px:m,py:_,pz:b}=this;let A=n.ZERO,T=n.ZERO,k=n.ZERO,E=n.mul(m,m),U=n.mul(_,_),C=n.mul(b,b),B=n.mul(m,_);return B=n.add(B,B),k=n.mul(m,b),k=n.add(k,k),A=n.mul(v,k),T=n.mul(g,C),T=n.add(A,T),A=n.sub(U,T),T=n.add(U,T),T=n.mul(A,T),A=n.mul(B,A),k=n.mul(g,k),C=n.mul(v,C),B=n.sub(E,C),B=n.mul(v,B),B=n.add(B,k),k=n.add(E,E),E=n.add(k,E),E=n.add(E,C),E=n.mul(E,B),T=n.add(T,E),C=n.mul(_,b),C=n.add(C,C),E=n.mul(C,B),A=n.sub(A,E),k=n.mul(C,U),k=n.add(k,k),k=n.add(k,k),new d(A,T,k)}add(v){u(v);const{px:w,py:g,pz:m}=this,{px:_,py:b,pz:A}=v;let T=n.ZERO,k=n.ZERO,E=n.ZERO;const U=e.a,C=n.mul(e.b,p1);let B=n.mul(w,_),H=n.mul(g,b),W=n.mul(m,A),ge=n.add(w,g),x=n.add(_,b);ge=n.mul(ge,x),x=n.add(B,H),ge=n.sub(ge,x),x=n.add(w,m);let I=n.add(_,A);return x=n.mul(x,I),I=n.add(B,W),x=n.sub(x,I),I=n.add(g,m),T=n.add(b,A),I=n.mul(I,T),T=n.add(H,W),I=n.sub(I,T),E=n.mul(U,x),T=n.mul(C,W),E=n.add(T,E),T=n.sub(H,E),E=n.add(H,E),k=n.mul(T,E),H=n.add(B,B),H=n.add(H,B),W=n.mul(U,W),x=n.mul(C,x),H=n.add(H,W),W=n.sub(B,W),W=n.mul(U,W),x=n.add(x,W),B=n.mul(H,x),k=n.add(k,B),B=n.mul(I,x),T=n.mul(ge,T),T=n.sub(T,B),B=n.mul(ge,H),E=n.mul(I,E),E=n.add(E,B),new d(T,k,E)}subtract(v){return this.add(v.negate())}is0(){return this.equals(d.ZERO)}wNAF(v){return p.wNAFCached(this,c,v,w=>{const g=n.invertBatch(w.map(m=>m.pz));return w.map((m,_)=>m.toAffine(g[_])).map(d.fromAffine)})}multiplyUnsafe(v){const w=d.ZERO;if(v===Dr)return w;if(a(v),v===bn)return this;const{endo:g}=e;if(!g)return p.unsafeLadder(this,v);let{k1neg:m,k1:_,k2neg:b,k2:A}=g.splitScalar(v),T=w,k=w,E=this;for(;_>Dr||A>Dr;)_&bn&&(T=T.add(E)),A&bn&&(k=k.add(E)),E=E.double(),_>>=bn,A>>=bn;return m&&(T=T.negate()),b&&(k=k.negate()),k=new d(n.mul(k.px,g.beta),k.py,k.pz),T.add(k)}multiply(v){a(v);let w=v,g,m;const{endo:_}=e;if(_){const{k1neg:b,k1:A,k2neg:T,k2:k}=_.splitScalar(w);let{p:E,f:U}=this.wNAF(A),{p:C,f:B}=this.wNAF(k);E=p.constTimeNegate(b,E),C=p.constTimeNegate(T,C),C=new d(n.mul(C.px,_.beta),C.py,C.pz),g=E.add(C),m=U.add(B)}else{const{p:b,f:A}=this.wNAF(w);g=b,m=A}return d.normalizeZ([g,m])[0]}multiplyAndAddUnsafe(v,w,g){const m=d.BASE,_=(A,T)=>T===Dr||T===bn||!A.equals(m)?A.multiplyUnsafe(T):A.multiply(T),b=_(this,w).add(_(v,g));return b.is0()?void 0:b}toAffine(v){const{px:w,py:g,pz:m}=this,_=this.is0();v==null&&(v=_?n.ONE:n.inv(m));const b=n.mul(w,v),A=n.mul(g,v),T=n.mul(m,v);if(_)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:b,y:A}}isTorsionFree(){const{h:v,isTorsionFree:w}=e;if(v===bn)return!0;if(w)return w(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:w}=e;return v===bn?this:w?w(d,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return this.assertValidity(),r(d,this,v)}toHex(v=!0){return Ha(this.toRawBytes(v))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,p=L$(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function $$(t){const e=EN(t);return Yu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function z$(t){const e=$$(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(x){return Dr<x&&x<n.ORDER}function a(x){return Qt(x,r)}function l(x){return gy(x,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=H$({...e,toBytes(x,I,D){const P=I.toAffine(),R=n.toBytes(P.x),O=hu;return D?O(Uint8Array.from([I.hasEvenY()?2:3]),R):O(Uint8Array.from([4]),R,n.toBytes(P.y))},fromBytes(x){const I=x.length,D=x[0],P=x.subarray(1);if(I===i&&(D===2||D===3)){const R=qs(P);if(!o(R))throw new Error("Point is not on curve");const O=d(R);let Q;try{Q=n.sqrt(O)}catch(pe){const tt=pe instanceof Error?": "+pe.message:"";throw new Error("Point is not on curve"+tt)}const se=(Q&bn)===bn;return(D&1)===1!==se&&(Q=n.neg(Q)),{x:R,y:Q}}else if(I===s&&D===4){const R=n.fromBytes(P.subarray(0,n.BYTES)),O=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:R,y:O}}else throw new Error(`Point of length ${I} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=x=>Ha(za(x,e.nByteLength));function y(x){const I=r>>bn;return x>I}function v(x){return y(x)?a(-x):x}const w=(x,I,D)=>qs(x.slice(I,D));class g{constructor(I,D,P){this.r=I,this.s=D,this.recovery=P,this.assertValidity()}static fromCompact(I){const D=e.nByteLength;return I=Dn("compactSignature",I,D*2),new g(w(I,0,D),w(I,D,2*D))}static fromDER(I){const{r:D,s:P}=js.toSig(Dn("DER",I));return new g(D,P)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(I){return new g(this.r,this.s,I)}recoverPublicKey(I){const{r:D,s:P,recovery:R}=this,O=k(Dn("msgHash",I));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const Q=R===2||R===3?D+e.n:D;if(Q>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const se=R&1?"03":"02",Et=c.fromHex(se+p(Q)),pe=l(Q),tt=a(-O*pe),an=a(P*pe),ln=c.BASE.multiplyAndAddUnsafe(Et,tt,an);if(!ln)throw new Error("point at infinify");return ln.assertValidity(),ln}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return $a(this.toDERHex())}toDERHex(){return js.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return $a(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const m={isValidPrivateKey(x){try{return u(x),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const x=bN(e.n);return M$(e.randomBytes(x),e.n)},precompute(x=8,I=c.BASE){return I._setWindowSize(x),I.multiply(BigInt(3)),I}};function _(x,I=!0){return c.fromPrivateKey(x).toRawBytes(I)}function b(x){const I=ho(x),D=typeof x=="string",P=(I||D)&&x.length;return I?P===i||P===s:D?P===2*i||P===2*s:x instanceof c}function A(x,I,D=!0){if(b(x))throw new Error("first arg must be private key");if(!b(I))throw new Error("second arg must be public key");return c.fromHex(I).multiply(u(x)).toRawBytes(D)}const T=e.bits2int||function(x){const I=qs(x),D=x.length*8-e.nBitLength;return D>0?I>>BigInt(D):I},k=e.bits2int_modN||function(x){return a(T(x))},E=bw(e.nBitLength);function U(x){if(typeof x!="bigint")throw new Error("bigint expected");if(!(Dr<=x&&x<E))throw new Error(`bigint expected < 2^${e.nBitLength}`);return za(x,e.nByteLength)}function C(x,I,D=B){if(["recovered","canonical"].some(vs=>vs in D))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:R}=e;let{lowS:O,prehash:Q,extraEntropy:se}=D;O==null&&(O=!0),x=Dn("msgHash",x),Q&&(x=Dn("prehashed msgHash",P(x)));const Et=k(x),pe=u(I),tt=[U(pe),U(Et)];if(se!=null&&se!==!1){const vs=se===!0?R(n.BYTES):se;tt.push(Dn("extraEntropy",vs))}const an=hu(...tt),ln=Et;function ym(vs){const Ao=T(vs);if(!f(Ao))return;const Yw=l(Ao),So=c.BASE.multiply(Ao).toAffine(),On=a(So.x);if(On===Dr)return;const Io=a(Yw*a(ln+On*pe));if(Io===Dr)return;let Jw=(So.x===On?0:2)|Number(So.y&bn),Zw=Io;return O&&y(Io)&&(Zw=v(Io),Jw^=1),new g(On,Zw,Jw)}return{seed:an,k2sig:ym}}const B={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function W(x,I,D=B){const{seed:P,k2sig:R}=C(x,I,D),O=e;return _N(O.hash.outputLen,O.nByteLength,O.hmac)(P,R)}c.BASE._setWindowSize(8);function ge(x,I,D,P=H){var So;const R=x;if(I=Dn("msgHash",I),D=Dn("publicKey",D),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:O,prehash:Q}=P;let se,Et;try{if(typeof R=="string"||ho(R))try{se=g.fromDER(R)}catch(On){if(!(On instanceof js.Err))throw On;se=g.fromCompact(R)}else if(typeof R=="object"&&typeof R.r=="bigint"&&typeof R.s=="bigint"){const{r:On,s:Io}=R;se=new g(On,Io)}else throw new Error("PARSE");Et=c.fromHex(D)}catch(On){if(On.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(O&&se.hasHighS())return!1;Q&&(I=e.hash(I));const{r:pe,s:tt}=se,an=k(I),ln=l(tt),ym=a(an*ln),vs=a(pe*ln),Ao=(So=c.BASE.multiplyAndAddUnsafe(Et,ym,vs))==null?void 0:So.toAffine();return Ao?a(Ao.x)===pe:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:A,sign:W,verify:ge,ProjectivePoint:c,Signature:g,utils:m}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function q$(t){return{hash:t,hmac:(e,...n)=>yw(t,e,Ef(...n)),randomBytes:vk}}function V$(t,e){const n=r=>z$({...t,...q$(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const AN=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),m1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),G$=BigInt(1),yy=BigInt(2),g1=(t,e)=>(t+e/yy)/e;function W$(t){const e=AN,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,d=wn(u,n,e)*u%e,f=wn(d,n,e)*u%e,p=wn(f,yy,e)*c%e,y=wn(p,i,e)*p%e,v=wn(y,s,e)*y%e,w=wn(v,a,e)*v%e,g=wn(w,l,e)*w%e,m=wn(g,a,e)*v%e,_=wn(m,n,e)*u%e,b=wn(_,o,e)*y%e,A=wn(b,r,e)*c%e,T=wn(A,yy,e);if(!vy.eql(vy.sqr(T),t))throw new Error("Cannot find square root");return T}const vy=j$(AN,void 0,void 0,{sqrt:W$}),Ew=V$({a:BigInt(0),b:BigInt(7),Fp:vy,n:m1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=m1,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-G$*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=g1(s*t,e),l=g1(-r*t,e);let c=Qt(t-a*n-l*i,e),u=Qt(-a*r-l*s,e);const d=c>o,f=u>o;if(d&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:f,k2:u}}}},om);BigInt(0);Ew.ProjectivePoint;const Q$=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Ew},Symbol.toStringTag,{value:"Module"}));var mg;const di=(mg=Ew)!==null&&mg!==void 0?mg:Q$,y1=BigInt("0xffffffffffffffff"),fu=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),K$=di.CURVE.n,Y$=K$/BigInt(2),J$={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var Hf;(function(t){t[t.Mainnet=1]="Mainnet",t[t.Goerli=5]="Goerli",t[t.Sepolia=11155111]="Sepolia"})(Hf||(Hf={}));var Pe;(function(t){t.Chainstart="chainstart",t.Homestead="homestead",t.Dao="dao",t.TangerineWhistle="tangerineWhistle",t.SpuriousDragon="spuriousDragon",t.Byzantium="byzantium",t.Constantinople="constantinople",t.Petersburg="petersburg",t.Istanbul="istanbul",t.MuirGlacier="muirGlacier",t.Berlin="berlin",t.London="london",t.ArrowGlacier="arrowGlacier",t.GrayGlacier="grayGlacier",t.MergeForkIdTransition="mergeForkIdTransition",t.Merge="merge",t.Shanghai="shanghai",t.ShardingForkDev="shardingFork"})(Pe||(Pe={}));var v1;(function(t){t.ProofOfStake="pos",t.ProofOfWork="pow",t.ProofOfAuthority="poa"})(v1||(v1={}));var _1;(function(t){t.Ethash="ethash",t.Clique="clique",t.Casper="casper"})(_1||(_1={}));var It;(function(t){t.PolygonMainnet="polygon-mainnet",t.PolygonMumbai="polygon-mumbai",t.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",t.ArbitrumOne="arbitrum-one",t.xDaiChain="x-dai-chain",t.OptimisticKovan="optimistic-kovan",t.OptimisticEthereum="optimistic-ethereum"})(It||(It={}));var Sn;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(Sn||(Sn={}));const SN=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return nw(t)?t.slice(2):t};function Z$(t){return!t||t==="0x0"?"0x0000000000000000":nw(t)?`0x${SN(t).padStart(16,"0")}`:`0x${t.padStart(16,"0")}`}const IN=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`};function X$(t,e=!0){var n,r;const{name:i,config:s,difficulty:o,mixHash:a,gasLimit:l,coinbase:c,baseFeePerGas:u}=t;let{extraData:d,timestamp:f,nonce:p}=t;const y=Number(f),{chainId:v}=s;if(d===""&&(d="0x"),nw(f)||(f=IN(parseInt(f))),p.length!==18&&(p=Z$(p)),s.eip155Block!==s.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const w={name:i,chainId:v,networkId:v,genesis:{timestamp:f,gasLimit:parseInt(l),difficulty:parseInt(o),nonce:p,extraData:d,mixHash:a,coinbase:c,baseFeePerGas:u},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:s.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:(n=s.clique.period)!==null&&n!==void 0?n:s.clique.blockperiodseconds,epoch:(r=s.clique.epoch)!==null&&r!==void 0?r:s.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},g={[Pe.Homestead]:{name:"homesteadBlock"},[Pe.Dao]:{name:"daoForkBlock"},[Pe.TangerineWhistle]:{name:"eip150Block"},[Pe.SpuriousDragon]:{name:"eip155Block"},[Pe.Byzantium]:{name:"byzantiumBlock"},[Pe.Constantinople]:{name:"constantinopleBlock"},[Pe.Petersburg]:{name:"petersburgBlock"},[Pe.Istanbul]:{name:"istanbulBlock"},[Pe.MuirGlacier]:{name:"muirGlacierBlock"},[Pe.Berlin]:{name:"berlinBlock"},[Pe.London]:{name:"londonBlock"},[Pe.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[Pe.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[Pe.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},m=Object.keys(g).reduce((A,T)=>(A[g[T].name]=T,A),{}),_=Object.keys(s).filter(A=>m[A]!==void 0&&s[A]!==void 0&&s[A]!==null);if(w.hardforks=_.map(A=>({name:m[A],block:g[m[A]].isTimestamp===!0||typeof s[A]!="number"?null:s[A],timestamp:g[m[A]].isTimestamp===!0&&typeof s[A]=="number"?s[A]:void 0})).filter(A=>A.block!==null||A.timestamp!==void 0),w.hardforks.sort((A,T)=>{var k,E;return((k=A.block)!==null&&k!==void 0?k:1/0)-((E=T.block)!==null&&E!==void 0?E:1/0)}),w.hardforks.sort((A,T)=>{var k,E;return((k=A.timestamp)!==null&&k!==void 0?k:y)-((E=T.timestamp)!==null&&E!==void 0?E:y)}),s.terminalTotalDifficulty!==void 0){const A={name:Pe.Merge,ttd:s.terminalTotalDifficulty,block:null},T=w.hardforks.findIndex(k=>{var E;return((E=g[k.name])===null||E===void 0?void 0:E.postMerge)===!0});T!==-1?w.hardforks.splice(T,0,A):w.hardforks.push(A)}const b=w.hardforks.length>0?w.hardforks.slice(-1)[0]:void 0;return w.hardfork=b==null?void 0:b.name,w.hardforks.unshift({name:Pe.Chainstart,block:0}),w}function ez(t,e,n){try{if(["config","difficulty","gasLimit","alloc"].some(r=>!(r in t)))throw new Error("Invalid format, expected geth genesis fields missing");return e!==void 0&&(t.name=e),X$(t,n)}catch(r){throw new Error(`Error parsing parameters file: ${r.message}`)}}function TN(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}const tz=function(t){const e=IN(t);return je(`0x${TN(e.slice(2))}`)},Be=function(t){var e;if(t==null)return new Uint8Array;if(t instanceof Uint8Array)return t;if(((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||Array.isArray(t))return Uint8Array.from(t);if(typeof t=="string"){if(!jk(t))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${t}`);return je(TN(SN(t)))}if(typeof t=="number")return Be(ct(t));if(typeof t=="bigint"){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${t}`);let n=t.toString(16);return n.length%2&&(n=`0${n}`),Be(`0x${n}`)}if(t.toArray)return Uint8Array.from(t.toArray());throw new Error("invalid type")};function Ne(t){const e=fe(t);return BigInt(e==="0x"?0:e)}function nz(t){return Be(`0x${t.toString(16)}`)}const CN=function(t){return new Uint8Array(t).fill(0)},rz=function(t,e,n){const r=CN(e);return t.length<e?(r.set(t,e-t.length),r):t.subarray(-e)};function Aw(t){if(!gs(t)){const e=`This method only supports Uint8Array but input was: ${t}`;throw new Error(e)}}const w1=function(t,e){return Aw(t),rz(t,e)};function iz(t){let e=t[0];for(;t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t}const $f=function(t){return Aw(t),iz(t)},Fe=t=>`0x${t.toString(16)}`;function ve(t){return $f(nz(t))}function sz(t,e){return t===BigInt(0)||t===BigInt(1)?t:e===void 0?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function oz(t){return t===BigInt(0)||t===BigInt(1)}const Sw=function(t,e,n,r,i){const s=sz(e,i);if(!oz(s))throw new Error("Invalid signature v value");return new di.Signature(Ne(n),Ne(r)).addRecoveryBit(Number(s)).recoverPublicKey(t).toRawBytes(!1).slice(1)};function No(t,e){if(t===null)return null;if(t===void 0)return;if(typeof t=="string"&&!jk(t))throw new Error(`A string must be provided with a 0x-prefix, given: ${t}`);if(typeof t=="number"&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=Be(t);switch(e){case Sn.Uint8Array:return n;case Sn.BigInt:return Ne(n);case Sn.Number:{const r=Ne(n);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(r)}case Sn.PrefixedHexString:return fe(n);default:throw new Error("unknown outputType")}}var qr={};Object.defineProperty(qr,"__esModule",{value:!0});var un=qr.RLP=qr.utils=qr.decode=qr.encode=void 0;function Iw(t){if(Array.isArray(t)){const n=[];let r=0;for(let i=0;i<t.length;i++){const s=Iw(t[i]);n.push(s),r+=s.length}return wy(b1(r,192),...n)}const e=jN(t);return e.length===1&&e[0]<128?e:wy(b1(e.length,128),e)}qr.encode=Iw;function Po(t,e,n){if(n>t.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return t.slice(e,n)}function x1(t){if(t[0]===0)throw new Error("invalid RLP: extra zeros");return PN(NN(t))}function b1(t,e){if(t<56)return Uint8Array.from([t+e]);const n=xy(t),r=n.length/2,i=xy(e+55+r);return Uint8Array.from(zf(i+n))}function kN(t,e=!1){if(typeof t>"u"||t===null||t.length===0)return Uint8Array.from([]);const n=jN(t),r=_y(n);if(e)return r;if(r.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return r.data}qr.decode=kN;function _y(t){let e,n,r,i,s;const o=[],a=t[0];if(a<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(a<=183){if(e=a-127,a===128?r=Uint8Array.from([]):r=Po(t,1,e),e===2&&r[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:r,remainder:t.slice(e)}}else if(a<=191){if(n=a-182,t.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if(e=x1(Po(t,1,n)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return r=Po(t,n,e+n),{data:r,remainder:t.slice(e+n)}}else if(a<=247){for(e=a-191,i=Po(t,1,e);i.length;)s=_y(i),o.push(s.data),i=s.remainder;return{data:o,remainder:t.slice(e)}}else{if(n=a-246,e=x1(Po(t,1,n)),e<56)throw new Error("invalid RLP: encoded list too short");const l=n+e;if(l>t.length)throw new Error("invalid RLP: total length is larger than the data");for(i=Po(t,n,l);i.length;)s=_y(i),o.push(s.data),i=s.remainder;return{data:o,remainder:t.slice(l)}}}const az=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function NN(t){let e="";for(let n=0;n<t.length;n++)e+=az[t[n]];return e}function PN(t){const e=Number.parseInt(t,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function zf(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2;e[n]=PN(t.slice(r,r+2))}return e}function wy(...t){if(t.length===1)return t[0];const e=t.reduce((r,i)=>r+i.length,0),n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function RN(t){return new TextEncoder().encode(t)}function xy(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=t.toString(16);return e.length%2?`0${e}`:e}function lz(t){return t.length%2?`0${t}`:t}function ON(t){return t.length>=2&&t[0]==="0"&&t[1]==="x"}function cz(t){return typeof t!="string"?t:ON(t)?t.slice(2):t}function jN(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return ON(t)?zf(lz(cz(t))):RN(t);if(typeof t=="number"||typeof t=="bigint")return t?zf(xy(t)):Uint8Array.from([]);if(t==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof t)}qr.utils={bytesToHex:NN,concatBytes:wy,hexToBytes:zf,utf8ToBytes:RN};un=qr.RLP={encode:Iw,decode:kN};var MN={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(t){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?t:{})})(function(e){e.version="1.2.2";function n(){for(var E=0,U=new Array(256),C=0;C!=256;++C)E=C,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,U[C]=E;return typeof Int32Array<"u"?new Int32Array(U):U}var r=n();function i(E){var U=0,C=0,B=0,H=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)H[B]=E[B];for(B=0;B!=256;++B)for(C=E[B],U=256+B;U<4096;U+=256)C=H[U]=C>>>8^E[C&255];var W=[];for(B=1;B!=16;++B)W[B-1]=typeof Int32Array<"u"?H.subarray(B*256,B*256+256):H.slice(B*256,B*256+256);return W}var s=i(r),o=s[0],a=s[1],l=s[2],c=s[3],u=s[4],d=s[5],f=s[6],p=s[7],y=s[8],v=s[9],w=s[10],g=s[11],m=s[12],_=s[13],b=s[14];function A(E,U){for(var C=U^-1,B=0,H=E.length;B<H;)C=C>>>8^r[(C^E.charCodeAt(B++))&255];return~C}function T(E,U){for(var C=U^-1,B=E.length-15,H=0;H<B;)C=b[E[H++]^C&255]^_[E[H++]^C>>8&255]^m[E[H++]^C>>16&255]^g[E[H++]^C>>>24]^w[E[H++]]^v[E[H++]]^y[E[H++]]^p[E[H++]]^f[E[H++]]^d[E[H++]]^u[E[H++]]^c[E[H++]]^l[E[H++]]^a[E[H++]]^o[E[H++]]^r[E[H++]];for(B+=15;H<B;)C=C>>>8^r[(C^E[H++])&255];return~C}function k(E,U){for(var C=U^-1,B=0,H=E.length,W=0,ge=0;B<H;)W=E.charCodeAt(B++),W<128?C=C>>>8^r[(C^W)&255]:W<2048?(C=C>>>8^r[(C^(192|W>>6&31))&255],C=C>>>8^r[(C^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,ge=E.charCodeAt(B++)&1023,C=C>>>8^r[(C^(240|W>>8&7))&255],C=C>>>8^r[(C^(128|W>>2&63))&255],C=C>>>8^r[(C^(128|ge>>6&15|(W&3)<<4))&255],C=C>>>8^r[(C^(128|ge&63))&255]):(C=C>>>8^r[(C^(224|W>>12&15))&255],C=C>>>8^r[(C^(128|W>>6&63))&255],C=C>>>8^r[(C^(128|W&63))&255]);return~C}e.table=r,e.bstr=A,e.buf=T,e.str=k})})(MN);const uz=wu(MN),dz={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},hz={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},fz={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},pz={name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},mz={name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},gz={name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},yz={name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},vz={name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},_z={name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},wz={name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},xz={name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},bz={name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},Ez={name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},Az={name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},Sz={name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},Iz={name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},Tz={name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},Cz={name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},kz={name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},Nz={name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},Pz={name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},Rz={name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},Oz={name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},jz={name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},Mz={name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},Ro={1153:pz,1559:mz,2315:gz,2537:yz,2565:vz,2718:_z,2929:wz,2930:xz,3198:bz,3529:Ez,3540:Az,3541:Sz,3554:Iz,3607:Tz,3651:Cz,3670:kz,3675:Nz,3855:Pz,3860:Rz,4345:Oz,4399:jz,5133:Mz},Dz={name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},Lz={name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},Bz={name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},Fz={name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},Uz={name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},Hz={name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},$z={name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},zz={name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},qz={name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},Vz={name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},Gz={name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},Wz={name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},Qz={name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},Kz={name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},Yz={name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},Jz={name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},Zz={name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},Xz={chainstart:Dz,homestead:Bz,dao:Lz,tangerineWhistle:Fz,spuriousDragon:Uz,byzantium:Hz,constantinople:$z,petersburg:zz,istanbul:qz,muirGlacier:Vz,berlin:Gz,london:Wz,shanghai:Qz,arrowGlacier:Kz,grayGlacier:Yz,mergeForkIdTransition:Jz,merge:Zz},{buf:eq}=uz;class it extends aw{static custom(e,n={}){var r;const i=(r=n.baseChain)!==null&&r!==void 0?r:"mainnet",s=Object.assign({},it._getChainParams(i));if(s.name="custom-chain",typeof e!="string")return new it(Object.assign({chain:Object.assign(Object.assign({},s),e)},n));if(e===It.PolygonMainnet)return it.custom({name:It.PolygonMainnet,chainId:137,networkId:137},n);if(e===It.PolygonMumbai)return it.custom({name:It.PolygonMumbai,chainId:80001,networkId:80001},n);if(e===It.ArbitrumRinkebyTestnet)return it.custom({name:It.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},n);if(e===It.ArbitrumOne)return it.custom({name:It.ArbitrumOne,chainId:42161,networkId:42161},n);if(e===It.xDaiChain)return it.custom({name:It.xDaiChain,chainId:100,networkId:100},n);if(e===It.OptimisticKovan)return it.custom({name:It.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:Pe.Berlin},n));if(e===It.OptimisticEthereum)return it.custom({name:It.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:Pe.Berlin},n));throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:n,eips:r,genesisHash:i,hardfork:s,mergeForkIdPostMerge:o}){var a;const l=ez(e,n,o),c=new it({chain:(a=l.name)!==null&&a!==void 0?a:"custom",customChains:[l],eips:r,hardfork:s??l.hardfork});return i!==void 0&&c.setForkHashes(i),c}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,n){let r=e;const i=this._getInitializedChains(n);if(typeof r=="number"||typeof r=="bigint"){if(r=r.toString(),i.names[r]){const s=i.names[r];return i[s]}throw new Error(`Chain with ID ${r} not supported`)}if(i[r]!==void 0)return i[r];throw new Error(`Chain with name ${r} not supported`)}constructor(e){var n,r;super(),this._eips=[],this._customChains=(n=e.customChains)!==null&&n!==void 0?n:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=(r=this._chainParams.defaultHardfork)!==null&&r!==void 0?r:Pe.Merge,this.HARDFORK_CHANGES=this.hardforks().map(i=>[i.name,Xz[i.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=it._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const n=["networkId","genesis","hardforks","bootstrapNodes"];for(const r of n)if(!(r in e))throw new Error(`Missing required chain parameter: ${r}`);this._chainParams=e}else throw new Error("Wrong input format");for(const n of this.hardforks())if(n.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let n=!1;for(const r of this.HARDFORK_CHANGES)r[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),n=!0);if(!n)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,n,r){const i=No(e,Sn.BigInt),s=No(n,Sn.BigInt),o=No(r,Sn.Number),a=this.hardforks().filter(p=>p.block!==null||p.ttd!==null&&p.ttd!==void 0||p.timestamp!==void 0),l=a.findIndex(p=>p.ttd!==null&&p.ttd!==void 0);if(a.slice(l+1).findIndex(p=>p.ttd!==null&&p.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let u=a.findIndex(p=>p.block!==null&&p.block>i||o!==void 0&&Number(p.timestamp)>o);if(u===-1)u=a.length;else if(u===0)throw Error("Must have at least one hardfork at block 0");if(o===void 0){const p=a.slice(0,u).reverse().findIndex(y=>y.block!==null||y.ttd!==void 0);u-=p}if(u-=1,a[u].block===null&&a[u].timestamp===void 0)(s==null||BigInt(a[u].ttd)>s)&&(u-=1);else if(l>=0&&s!==void 0&&s!==null){if(u>=l&&BigInt(a[l].ttd)>s)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(u<l&&BigInt(a[l].ttd)<=s)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const d=u;for(;u<a.length-1&&!(a[u].block!==a[u+1].block||a[u].timestamp!==a[u+1].timestamp);u+=1);if(o){if(a.slice(0,d).reduce((v,w)=>{var g;return Math.max(Number((g=w.timestamp)!==null&&g!==void 0?g:"0"),v)},0)>o)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(a.slice(u+1).reduce((v,w)=>{var g;return Math.min(Number((g=w.timestamp)!==null&&g!==void 0?g:o),v)},o)<o)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return a[u].name}setHardforkByBlockNumber(e,n,r){const i=this.getHardforkByBlockNumber(e,n,r);return this.setHardfork(i),i}_getHardfork(e){const n=this.hardforks();for(const r of n)if(r.name===e)return r;return null}setEIPs(e=[]){for(const n of e){if(!(n in Ro))throw new Error(`${n} not supported`);const r=this.gteHardfork(Ro[n].minimumHardfork);if(!r)throw new Error(`${n} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`);if(Ro[n].requiredEIPs!==void 0){for(const i of Ro[n].requiredEIPs)if(!(e.includes(i)||this.isActivatedEIP(i)))throw new Error(`${n} requires EIP ${i}, but is not included in the EIP list`)}}this._eips=e}param(e,n){let r;for(const i of this._eips)if(r=this.paramByEIP(e,n,i),r!==void 0)return r;return this.paramByHardfork(e,n,this._hardfork)}paramByHardfork(e,n,r){let i=null;for(const s of this.HARDFORK_CHANGES){if("eips"in s[1]){const o=s[1].eips;for(const a of o){const l=this.paramByEIP(e,n,a);i=typeof l=="bigint"?l:i}}else{if(s[1][e]===void 0)throw new Error(`Topic ${e} not defined`);s[1][e][n]!==void 0&&(i=s[1][e][n].v)}if(s[0]===r)break}return BigInt(i??0)}paramByEIP(e,n,r){if(!(r in Ro))throw new Error(`${r} not supported`);const i=Ro[r];if(!(e in i))throw new Error(`Topic ${e} not defined`);if(i[e][n]===void 0)return;const s=i[e][n].v;return BigInt(s)}paramByBlock(e,n,r,i,s){const o=this.getHardforkByBlockNumber(r,i,s);return this.paramByHardfork(e,n,o)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const n of this.HARDFORK_CHANGES){const r=n[1];if(this.gteHardfork(r.name)&&"eips"in r&&r.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,n){const r=No(n,Sn.BigInt),i=e??this._hardfork,s=this.hardforkBlock(i);return typeof s=="bigint"&&s!==BigInt(0)&&r>=s}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,n){const r=e??this._hardfork,i=this.hardforks();let s=-1,o=-1,a=0;for(const l of i)l.name===r&&(s=a),l.name===n&&(o=a),a+=1;return s>=o&&o!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var n;const r=e??this._hardfork,i=(n=this._getHardfork(r))===null||n===void 0?void 0:n.block;return i==null?null:BigInt(i)}hardforkTimestamp(e){var n;const r=e??this._hardfork,i=(n=this._getHardfork(r))===null||n===void 0?void 0:n.timestamp;return i==null?null:BigInt(i)}eipBlock(e){for(const n of this.HARDFORK_CHANGES){const r=n[1];if("eips"in r&&r.eips.includes(e))return this.hardforkBlock(typeof n[0]=="number"?String(n[0]):n[0])}return null}hardforkTTD(e){var n;const r=e??this._hardfork,i=(n=this._getHardfork(r))===null||n===void 0?void 0:n.ttd;return i==null?null:BigInt(i)}isHardforkBlock(e,n){const r=No(e,Sn.BigInt),i=n??this._hardfork,s=this.hardforkBlock(i);return typeof s=="bigint"&&s!==BigInt(0)?s===r:!1}nextHardforkBlockOrTimestamp(e){var n,r,i;const s=(n=e)!==null&&n!==void 0?n:this._hardfork,o=this.hardforks();let a=o.findIndex(d=>d.name===s);if(s===Pe.Merge&&(a-=1),a<0)return null;let l=(r=o[a].timestamp)!==null&&r!==void 0?r:o[a].block;l=l!=null?Number(l):null;const c=o.slice(a+1).find(d=>{var f;let p=(f=d.timestamp)!==null&&f!==void 0?f:d.block;return p=p!=null?Number(p):null,d.name!==Pe.Merge&&p!==null&&p!==void 0&&p!==l});if(c===void 0)return null;const u=(i=c.timestamp)!==null&&i!==void 0?i:c.block;return u==null?null:BigInt(u)}nextHardforkBlock(e){var n;const r=(n=e)!==null&&n!==void 0?n:this._hardfork;let i=this.hardforkBlock(r);if(i===null&&r===Pe.Merge){const o=this.hardforks(),a=o.findIndex(l=>l.ttd!==null&&l.ttd!==void 0);if(a<0)throw Error("Merge hardfork should have been found");i=this.hardforkBlock(o[a-1].name)}return i===null?null:this.hardforks().reduce((o,a)=>{const l=BigInt(a.block===null||a.ttd!==void 0&&a.ttd!==null?0:a.block);return l>i&&o===null?l:o},null)}isNextHardforkBlock(e,n){const r=No(e,Sn.BigInt),i=n??this._hardfork,s=this.nextHardforkBlock(i);return s===null?!1:s===r}_calcForkHash(e,n){let r=new Uint8Array,i=0;for(const a of this.hardforks()){const{block:l,timestamp:c,name:u}=a;let d=c??l;if(d=d!==null?Number(d):null,typeof d=="number"&&d!==0&&d!==i&&u!==Pe.Merge){const f=je(d.toString(16).padStart(16,"0"));r=Vt(r,f),i=d}if(a.name===e)break}const s=Vt(n,r);return fe(tz(eq(s)>>>0))}forkHash(e,n){const r=e??this._hardfork,i=this._getHardfork(r);if(i===null||(i==null?void 0:i.block)===null&&(i==null?void 0:i.timestamp)===void 0&&(i==null?void 0:i.ttd)===void 0){const s="No fork hash calculation possible for future hardfork";throw new Error(s)}if((i==null?void 0:i.forkHash)!==null&&(i==null?void 0:i.forkHash)!==void 0)return i.forkHash;if(!n)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(r,n)}hardforkForForkHash(e){const n=this.hardforks().filter(r=>r.forkHash===e);return n.length>=1?n[n.length-1]:null}setForkHashes(e){var n;for(const r of this.hardforks()){const i=(n=r.timestamp)!==null&&n!==void 0?n:r.block;(r.forkHash===null||r.forkHash===void 0)&&(i!=null||typeof r.ttd<"u")&&(r.forkHash=this.forkHash(r.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.type),r[0]===e)break;return n??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.algorithm),r[0]===e)break;return n??this._chainParams.consensus.algorithm}consensusConfig(){var e;const n=this.hardfork();let r;for(const i of this.HARDFORK_CHANGES)if("consensus"in i[1]&&(r=i[1].consensus[i[1].consensus.algorithm]),i[0]===n)break;return(e=r??this._chainParams.consensus[this.consensusAlgorithm()])!==null&&e!==void 0?e:{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const n={};for(const[i,s]of Object.entries(Hf))n[s]=i.toLowerCase();const r={mainnet:hz,goerli:dz,sepolia:fz};if(e)for(const i of e){const{name:s}=i;n[i.chainId.toString()]=s,r[s]=i}return r.names=n,r}}var or;(function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"})(or||(or={}));function tq(t){if(t.length===0)return!0;const e=t[0];return!!Array.isArray(e)}function nq(t){return!tq(t)}class ha{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new ha(CN(20))}equals(e){return Zp(this.buf,e.buf)}isZero(){return this.equals(ha.zero())}toString(){return fe(this.buf)}toArray(){return this.buf}static publicToAddress(e,n=!1){let r=e;if(Aw(r),n&&r.length!==64&&(r=di.ProjectivePoint.fromHex(r).toRawBytes(!1).slice(1)),r.length!==64)throw new Error("Expected pubKey to be of length 64");return Lt(r).slice(-20)}}const rq=(t,e)=>{const n=t.param("vm","maxInitCodeSize");if(n&&BigInt(e)>n)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${t.param("vm","maxInitCodeSize")}`)},DN=t=>{let e,n;if(nq(t)){e=t;const r=[];for(let i=0;i<t.length;i+=1){const s=t[i],o=Be(s.address),a=[];for(let l=0;l<s.storageKeys.length;l+=1)a.push(Be(s.storageKeys[l]));r.push([o,a])}n=r}else{n=t??[];const r=[];for(let i=0;i<n.length;i+=1){const s=n[i],o=fe(s[0]),a=[];for(let c=0;c<s[1].length;c+=1)a.push(fe(s[1][c]));const l={address:o,storageKeys:a};r.push(l)}e=r}return{AccessListJSON:e,accessList:n}},LN=t=>{for(let e=0;e<t.length;e+=1){const n=t[e],r=n[0],i=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(r.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let s=0;s<i.length;s+=1)if(i[s].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},BN=t=>{const e=[];for(let n=0;n<t.length;n+=1){const r=t[n],i={address:fe(w1(r[0],20)),storageKeys:[]},s=r&&r[1];for(let o=0;o<s.length;o+=1){const a=s[o];i.storageKeys.push(fe(w1(a,32)))}e.push(i)}return e},FN=(t,e)=>{const n=e.param("gasPrices","accessListStorageKeyCost"),r=e.param("gasPrices","accessListAddressCost");let i=0;for(let o=0;o<t.length;o+=1){const l=t[o][1];i+=l.length}return t.length*Number(r)+i*Number(n)};class qa{constructor(e,n){var r,i;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=Hf.Mainnet,this.DEFAULT_HARDFORK=Pe.Merge;const{nonce:s,gasLimit:o,to:a,value:l,data:c,v:u,r:d,s:f,type:p}=e;this._type=Number(Ne(Be(p))),this.txOptions=n;const y=Be(a===""?"0x":a),v=Be(u===""?"0x":u),w=Be(d===""?"0x":d),g=Be(f===""?"0x":f);this.nonce=Ne(Be(s===""?"0x":s)),this.gasLimit=Ne(Be(o===""?"0x":o)),this.to=y.length>0?new ha(y):void 0,this.value=Ne(Be(l===""?"0x":l)),this.data=Be(c===""?"0x":c),this.v=v.length>0?Ne(v):void 0,this.r=w.length>0?Ne(w):void 0,this.s=g.length>0?Ne(g):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const m=this.to===void 0||this.to===null,_=(r=n.allowUnlimitedInitCodeSize)!==null&&r!==void 0?r:!1,b=(i=n.common)!==null&&i!==void 0?i:this._getCommon();m&&b.isActivatedEIP(3860)&&!_&&rq(b,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){const n=[];return this.getBaseFee()>this.gasLimit&&n.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&n.push("Invalid Signature"),e?n:n.length===0}_validateYParity(){const{v:e}=this;if(e!==void 0&&e!==BigInt(0)&&e!==BigInt(1)){const n=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(n)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==void 0&&e>Y$){const n=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(n)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let n=this.getDataFee();if(e&&(n+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const r=this.common.param("gasPrices","txCreation");r&&(n+=r)}return n}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),n=this.common.param("gasPrices","txDataNonZero");let r=BigInt(0);for(let i=0;i<this.data.length;i+=1)this.data[i]===0?r+=e:r+=n;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const i=BigInt(Math.ceil(this.data.length/32)),s=this.common.param("gasPrices","initCodeWordCost")*i;r+=s}return r}toCreationAddress(){return this.to===void 0||this.to.buf.length===0}isSigned(){const{v:e,r:n,s:r}=this;return!(e===void 0||n===void 0||r===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return $f(e).length!==0}catch{return!1}}getSenderAddress(){return new ha(ha.publicToAddress(this.getSenderPublicKey()))}sign(e){if(e.length!==32){const l=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(l)}let n=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(or.EIP155ReplayProtection)&&(this.activeCapabilities.push(or.EIP155ReplayProtection),n=!0);const r=this.getMessageToSign(!0),{v:i,r:s,s:o}=this._ecsign(r,e),a=this._processSignature(i,s,o);if(n){const l=this.activeCapabilities.indexOf(or.EIP155ReplayProtection);l>-1&&this.activeCapabilities.splice(l,1)}return a}_getCommon(e,n){var r,i,s,o;if(n!==void 0){const a=Ne(Be(n));if(e){if(e.chainId()!==a){const l=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(l)}return e.copy()}return it.isSupportedChainId(a)?new it({chain:a,hardfork:this.DEFAULT_HARDFORK}):it.custom({name:"custom-chain",networkId:a,chainId:a},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}if(e!=null&&e.copy&&typeof(e==null?void 0:e.copy)=="function")return e.copy();if(e){const a=typeof e.hardfork=="function"?e.hardfork():e.hardfork;return it.custom({name:"custom-chain",networkId:e.networkId?e.networkId():(i=BigInt((r=e.customChain)===null||r===void 0?void 0:r.networkId))!==null&&i!==void 0?i:void 0,chainId:e.chainId?e.chainId():(o=BigInt((s=e.customChain)===null||s===void 0?void 0:s.chainId))!==null&&o!==void 0?o:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:a||this.DEFAULT_HARDFORK})}return new it({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,n=256,r=!1){for(const[i,s]of Object.entries(e))switch(n){case 64:if(r){if(s!==void 0&&s>=y1){const o=this._errorMsg(`${i} cannot equal or exceed MAX_UINT64 (2^64-1), given ${s}`);throw new Error(o)}}else if(s!==void 0&&s>y1){const o=this._errorMsg(`${i} cannot exceed MAX_UINT64 (2^64-1), given ${s}`);throw new Error(o)}break;case 256:if(r){if(s!==void 0&&s>=fu){const o=this._errorMsg(`${i} cannot equal or exceed MAX_INTEGER (2^256-1), given ${s}`);throw new Error(o)}}else if(s!==void 0&&s>fu){const o=this._errorMsg(`${i} cannot exceed MAX_INTEGER (2^256-1), given ${s}`);throw new Error(o)}break;default:{const o=this._errorMsg("unimplemented bits value");throw new Error(o)}}}static _validateNotArray(e){const n=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[r,i]of Object.entries(e))if(n.includes(r)&&Array.isArray(i))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?fe(this.hash()):"not available (unsigned)"}catch{e="error"}let n="";try{n=this.isSigned().toString()}catch{e="error"}let r="";try{r=this.common.hardfork()}catch{r="error"}let i=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return i+=`signed=${n} hf=${r}`,i}_ecsign(e,n,r){const i=di.sign(e,n),s=i.toCompactRawBytes(),o=s.subarray(0,32),a=s.subarray(32,64),l=r===void 0?BigInt(i.recovery+27):BigInt(i.recovery+35)+BigInt(r)*BigInt(2);return{r:o,s:a,v:l}}static fromSerializedTx(e,n={}){}static fromTxData(e,n={}){}}const by=2,gg=je(by.toString(16).padStart(2,"0"));class Ms extends qa{static fromTxData(e,n={}){return new Ms(e,n)}static fromSerializedTx(e,n={}){if(!Zp(e.subarray(0,1),gg))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${by}, received: ${fe(e.subarray(0,1))}`);const r=un.decode(e.subarray(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Ms.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[r,i,s,o,a,l,c,u,d,f,p,y]=e;return this._validateNotArray({chainId:r,v:f}),rw({nonce:i,maxPriorityFeePerGas:s,maxFeePerGas:o,gasLimit:a,value:c,v:f,r:p,s:y}),new Ms({chainId:Ne(r),nonce:i,maxPriorityFeePerGas:s,maxFeePerGas:o,gasLimit:a,to:l,value:c,data:u,accessList:d??[],v:f!==void 0?Ne(f):void 0,r:p,s:y},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:by}),n),this.DEFAULT_HARDFORK="london";const{chainId:i,accessList:s,maxFeePerGas:o,maxPriorityFeePerGas:a}=e;if(this.common=this._getCommon(n.common,i),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const l=DN(s??[]);if(this.accessList=l.accessList,this.AccessListJSON=l.AccessListJSON,LN(this.accessList),this.maxFeePerGas=Ne(Be(o===""?"0x":o)),this.maxPriorityFeePerGas=Ne(Be(a===""?"0x":a)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),qa._validateNotArray(e),this.gasLimit*this.maxFeePerGas>fu){const u=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(u)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const u=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(u)}this._validateYParity(),this._validateHighS(),((r=n==null?void 0:n.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(FN(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const n=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e,s=(n<r?n:r)+e;return this.gasLimit*s+this.value}raw(){return[ve(this.chainId),ve(this.nonce),ve(this.maxPriorityFeePerGas),ve(this.maxFeePerGas),ve(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),ve(this.value),this.data,this.accessList,this.v!==void 0?ve(this.v):Uint8Array.from([]),this.r!==void 0?ve(this.r):Uint8Array.from([]),this.s!==void 0?ve(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return Vt(gg,un.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,9),r=Vt(gg,un.encode(n));return e?Lt(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Lt(this.serialize())),this.cache.hash):Lt(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const s=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(s)}const e=this.getMessageToVerifySignature(),{v:n,r,s:i}=this;this._validateHighS();try{return Sw(e,n+BigInt(27),ve(r),ve(i))}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(e,n,r){const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Ms.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:Ne(n),s:Ne(r)},i)}toJSON(){const e=BN(this.accessList);return{chainId:Fe(this.chainId),nonce:Fe(this.nonce),maxPriorityFeePerGas:Fe(this.maxPriorityFeePerGas),maxFeePerGas:Fe(this.maxFeePerGas),gasLimit:Fe(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:Fe(this.value),data:fe(this.data),accessList:e,v:this.v!==void 0?Fe(this.v):void 0,r:this.r!==void 0?Fe(this.r):void 0,s:this.s!==void 0?Fe(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const Ey=1,yg=je(Ey.toString(16).padStart(2,"0"));class Ds extends qa{static fromTxData(e,n={}){return new Ds(e,n)}static fromSerializedTx(e,n={}){if(!Zp(e.subarray(0,1),yg))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${Ey}, received: ${fe(e.subarray(0,1))}`);const r=un.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Ds.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[r,i,s,o,a,l,c,u,d,f,p]=e;this._validateNotArray({chainId:r,v:d}),rw({nonce:i,gasPrice:s,gasLimit:o,value:l,v:d,r:f,s:p});const y=[];return new Ds({chainId:Ne(r),nonce:i,gasPrice:s,gasLimit:o,to:a,value:l,data:c,accessList:u??y,v:d!==void 0?Ne(d):void 0,r:f,s:p},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:Ey}),n),this.DEFAULT_HARDFORK="berlin";const{chainId:i,accessList:s,gasPrice:o}=e;if(this.common=this._getCommon(n.common,i),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const a=DN(s??[]);if(this.accessList=a.accessList,this.AccessListJSON=a.AccessListJSON,LN(this.accessList),this.gasPrice=Ne(Be(o===""?"0x":o)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),qa._validateNotArray(e),this.gasPrice*this.gasLimit>fu){const c=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(c)}this._validateYParity(),this._validateHighS(),((r=n==null?void 0:n.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(FN(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[ve(this.chainId),ve(this.nonce),ve(this.gasPrice),ve(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),ve(this.value),this.data,this.accessList,this.v!==void 0?ve(this.v):Uint8Array.from([]),this.r!==void 0?ve(this.r):Uint8Array.from([]),this.s!==void 0?ve(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return Vt(yg,un.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,8),r=Vt(yg,un.encode(n));return e?Lt(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Lt(this.serialize())),this.cache.hash):Lt(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const s=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(s)}const e=this.getMessageToVerifySignature(),{v:n,r,s:i}=this;this._validateHighS();try{return Sw(e,n+BigInt(27),ve(r),ve(i))}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(e,n,r){const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Ds.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:Ne(n),s:Ne(r)},i)}toJSON(){const e=BN(this.accessList);return{chainId:Fe(this.chainId),nonce:Fe(this.nonce),gasPrice:Fe(this.gasPrice),gasLimit:Fe(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:Fe(this.value),data:fe(this.data),accessList:e,v:this.v!==void 0?Fe(this.v):void 0,r:this.r!==void 0?Fe(this.r):void 0,s:this.s!==void 0?Fe(this.s):void 0}}errorStr(){var e,n;let r=this._getSharedErrorPostfix();return r+=` gasPrice=${this.gasPrice} accessListCount=${(n=(e=this.accessList)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}`,r}_errorMsg(e){return`${e} (${this.errorStr()})`}}const iq=0;function E1(t,e){const n=Number(t),r=Number(e)*2;return n===r+35||n===r+36}class Oi extends qa{static fromTxData(e,n={}){return new Oi(e,n)}static fromSerializedTx(e,n={}){const r=un.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[r,i,s,o,a,l,c,u,d]=e;return rw({nonce:r,gasPrice:i,gasLimit:s,value:a,v:c,r:u,s:d}),new Oi({nonce:r,gasPrice:i,gasLimit:s,to:o,value:a,data:l,v:c,r:u,s:d},n)}constructor(e,n={}){var r;if(super(Object.assign(Object.assign({},e),{type:iq}),n),this.common=this._validateTxV(this.v,n.common),this.gasPrice=Ne(Be(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>fu){const s=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(s)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),qa._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?E1(this.v,this.common.chainId())&&this.activeCapabilities.push(or.EIP155ReplayProtection):this.activeCapabilities.push(or.EIP155ReplayProtection)),((r=n==null?void 0:n.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}raw(){return[ve(this.nonce),ve(this.gasPrice),ve(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),ve(this.value),this.data,this.v!==void 0?ve(this.v):Uint8Array.from([]),this.r!==void 0?ve(this.r):Uint8Array.from([]),this.s!==void 0?ve(this.s):Uint8Array.from([])]}serialize(){return un.encode(this.raw())}_getMessageToSign(){const e=[ve(this.nonce),ve(this.gasPrice),ve(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),ve(this.value),this.data];return this.supports(or.EIP155ReplayProtection)&&(e.push(Be(this.common.chainId())),e.push($f(Be(0))),e.push($f(Be(0)))),e}getMessageToSign(e=!0){const n=this._getMessageToSign();return e?Lt(un.encode(n)):n}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Lt(un.encode(this.raw()))),this.cache.hash):Lt(un.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){const n=this._errorMsg("This transaction is not signed");throw new Error(n)}const e=this._getMessageToSign();return Lt(un.encode(e))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:n,r,s:i}=this;this._validateHighS();try{return Sw(e,n,ve(r),ve(i),this.supports(or.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(e,n,r){let i=e;this.supports(or.EIP155ReplayProtection)&&(i+=this.common.chainId()*BigInt(2)+BigInt(8));const s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Oi.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:i,r:Ne(n),s:Ne(r)},s)}toJSON(){return{nonce:Fe(this.nonce),gasPrice:Fe(this.gasPrice),gasLimit:Fe(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:Fe(this.value),data:fe(this.data),v:this.v!==void 0?Fe(this.v):void 0,r:this.r!==void 0?Fe(this.r):void 0,s:this.s!==void 0?Fe(this.s):void 0}}_validateTxV(e,n){let r;const i=e!==void 0?Number(e):void 0;if(i!==void 0&&i<37&&i!==27&&i!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${i}`);if(i!==void 0&&i!==0&&(!n||n.gteHardfork("spuriousDragon"))&&i!==27&&i!==28)if(n){if(!E1(BigInt(i),n.chainId()))throw new Error(`Incompatible EIP155-based V ${i} and chain id ${n.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let s;(i-35)%2===0?s=35:s=36,r=BigInt(i-s)/BigInt(2)}return this._getCommon(n,r)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const vg=new Map;class fo{constructor(){}static typeToInt(e){return Number(Ne(Be(e)))}static registerTransactionType(e,n){const r=fo.typeToInt(e);vg.set(r,n)}static fromTxData(e,n={}){if(!("type"in e)||e.type===void 0)return Oi.fromTxData(e,n);const r=fo.typeToInt(e.type);if(r===0)return Oi.fromTxData(e,n);if(r===1)return Ds.fromTxData(e,n);if(r===2)return Ms.fromTxData(e,n);const i=vg.get(r);if(i!=null&&i.fromTxData)return i.fromTxData(e,n);throw new Error(`Tx instantiation with type ${r} not supported`)}static fromSerializedData(e,n={}){if(e[0]<=127)switch(e[0]){case 1:return Ds.fromSerializedTx(e,n);case 2:return Ms.fromSerializedTx(e,n);default:{const r=vg.get(Number(e[0]));if(r!=null&&r.fromSerializedTx)return r.fromSerializedTx(e,n);throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}}else return Oi.fromSerializedTx(e,n)}static fromBlockBodyData(e,n={}){if(gs(e))return this.fromSerializedData(e,n);if(Array.isArray(e))return Oi.fromValuesArray(e,n);throw new Error("Cannot decode transaction: unknown type input")}}var lm=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const hl=(t,e)=>{let n;if(!e&&typeof t=="string"&&Ae(t)&&t.length!==66)throw new FE;try{n=gs(t)?t:yr(t)}catch{throw new E8}if(!e&&n.byteLength!==32)throw new FE;return n},Tw=(t,e=!1)=>{const n=Ae(t)?t:Yn(t),r=je(n),i=je(Uk(`Ethereum Signed Message:
${r.byteLength}`)),s=e?r:Vt(i,r);return gn(s)},sq=(t,e)=>{const n=hl(e),r=di.sign(t.substring(2),n),i=r.toCompactRawBytes(),s=r.r.toString(16).padStart(64,"0"),o=r.s.toString(16).padStart(64,"0"),a=r.recovery+27;return{messageHash:t,v:ct(a),r:`0x${s}`,s:`0x${o}`,signature:`${fe(i)}${a.toString(16)}`}},UN=(t,e)=>{const n=Tw(t),{messageHash:r,v:i,r:s,s:o,signature:a}=sq(n,e);return{message:t,messageHash:r,v:i,r:s,s:o,signature:a}},oq=(t,e)=>lm(void 0,void 0,void 0,function*(){const n=t.sign(je(e));if(N(n.v)||N(n.r)||N(n.s))throw new oy("Signer Error");const r=n.validate(!0);if(r.length>0){let o="Signer Error ";for(const a of r)o+=`${o} ${a}.`;throw new oy(o)}const i=fe(n.serialize()),s=gn(i);return{messageHash:fe(n.getMessageToSign(!0)),v:`0x${n.v.toString(16)}`,r:`0x${n.r.toString(16).padStart(64,"0")}`,s:`0x${n.s.toString(16).padStart(64,"0")}`,rawTransaction:i,transactionHash:fe(s)}}),aq=t=>{if(N(t))throw new U8;const e=fo.fromSerializedData(je(t));return _r(e.getSenderAddress().toString())},Ay=(t,e,n,r,i)=>{if(typeof t=="object"){const d=`${t.r}${t.s.slice(2)}${t.v.slice(2)}`;return Ay(t.messageHash,d,n)}if(typeof e=="string"&&typeof n=="string"&&!N(r)){const d=`${n}${r.slice(2)}${e.slice(2)}`;return Ay(t,d,i)}if(N(e))throw new A8("signature string undefined");const s=130,o=n?t:Tw(t);let a=parseInt(e.substring(s),16);a>26&&(a-=27);const l=di.Signature.fromCompact(e.slice(2,s)).addRecoveryBit(a).recoverPublicKey(o.replace("0x","")).toRawBytes(!1),c=gn(l.subarray(1));return _r(`0x${c.slice(-40)}`)},cm=t=>{const e=hl(t),n=di.getPublicKey(e,!1),i=gn(n.slice(1)).slice(-40);return _r(`0x${i}`)},lq=(t,e)=>{const n=hl(t);return`0x${fe(di.getPublicKey(n,e)).slice(4)}`},HN=(t,e,n)=>lm(void 0,void 0,void 0,function*(){var r,i,s,o,a,l,c;const u=hl(t);let d;if(n!=null&&n.salt?d=typeof n.salt=="string"?je(n.salt):n.salt:d=uu(32),!(tw(e)||gs(e)))throw new T8;const f=typeof e=="string"?je(Yn(e)):e;let p;if(n!=null&&n.iv){if(p=typeof n.iv=="string"?je(n.iv):n.iv,p.length!==16)throw new C8}else p=uu(16);const y=(r=n==null?void 0:n.kdf)!==null&&r!==void 0?r:"scrypt";let v,w;if(y==="pbkdf2"){if(w={dklen:(i=n==null?void 0:n.dklen)!==null&&i!==void 0?i:32,salt:fe(d).replace("0x",""),c:(s=n==null?void 0:n.c)!==null&&s!==void 0?s:262144,prf:"hmac-sha256"},w.c<1e3)throw new k8;v=mN(f,d,w.c,w.dklen,"sha256")}else if(y==="scrypt")w={n:(o=n==null?void 0:n.n)!==null&&o!==void 0?o:8192,r:(a=n==null?void 0:n.r)!==null&&a!==void 0?a:8,p:(l=n==null?void 0:n.p)!==null&&l!==void 0?l:1,dklen:(c=n==null?void 0:n.dklen)!==null&&c!==void 0?c:32,salt:fe(d).replace("0x","")},v=gN(f,d,w.n,w.p,w.r,w.dklen);else throw new nk;const g=yield gw(u,v.slice(0,16),p,"aes-128-ctr"),m=fe(g).slice(2),_=gn(Vt(v.slice(16,32),g)).replace("0x","");return{version:3,id:dw(),address:cm(u).toLowerCase().replace("0x",""),crypto:{ciphertext:m,cipherparams:{iv:fe(p).replace("0x","")},cipher:"aes-128-ctr",kdf:y,kdfparams:w,mac:_}}}),Cw=(t,e)=>{const n=hl(t,e);return{address:cm(n),privateKey:fe(n),signTransaction:r=>{throw new oy("Do not have network access to sign the transaction")},sign:r=>UN(typeof r=="string"?r:JSON.stringify(r),n),encrypt:(r,i)=>lm(void 0,void 0,void 0,function*(){return HN(n,r,i)})}},cq=()=>{const t=di.utils.randomPrivateKey();return Cw(`${fe(t)}`)},uq=(t,e,n)=>lm(void 0,void 0,void 0,function*(){const r=typeof t=="object"?t:JSON.parse(n?t.toLowerCase():t);if(K.validateJSONSchema(J$,r),r.version!==3)throw new I8;const i=typeof e=="string"?je(Yn(e)):e;K.validate(["bytes"],[i]);let s;if(r.crypto.kdf==="scrypt"){const c=r.crypto.kdfparams,u=typeof c.salt=="string"?je(c.salt):c.salt;s=gN(i,u,c.n,c.p,c.r,c.dklen)}else if(r.crypto.kdf==="pbkdf2"){const c=r.crypto.kdfparams,u=typeof c.salt=="string"?je(c.salt):c.salt;s=mN(i,u,c.c,c.dklen,"sha256")}else throw new nk;const o=je(r.crypto.ciphertext);if(gn(Vt(s.slice(16,32),o)).replace("0x","")!==r.crypto.mac)throw new S8;const l=yield i$(je(r.crypto.ciphertext),s.slice(0,16),je(r.crypto.cipherparams.iv));return Cw(l)});var A1=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const dq=1e3;class hq{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map(e=>e.payload)}add(e){const n=co(e),r=new Lf;return this._requests.set(n.id,{payload:n,promise:r}),r}execute(e){return A1(this,void 0,void 0,function*(){var n;if(this.requests.length===0)return Promise.resolve([]);const r=new Lf({timeout:(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:dq,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(r).catch(i=>r.reject(i)),r.catch(i=>{i instanceof rk&&this._abortAllRequests("Batch request timeout"),r.reject(i)}),r})}_processBatchRequest(e){return A1(this,void 0,void 0,function*(){var n,r;const i=yield this._requestManager.sendBatch([...this._requests.values()].map(a=>a.payload));if(i.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new sr(i,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${i.length}`);const s=this.requests.map(a=>a.id).map(Number).sort((a,l)=>a-l),o=i.map(a=>a.id).map(Number).sort((a,l)=>a-l);if(JSON.stringify(s)!==JSON.stringify(o))throw this._abortAllRequests("Invalid batch response"),new sr(i,`Batch request mismatch the results. Requests: [${s.join()}], Responses: [${o.join()}]`);for(const a of i)Yi(a)?(n=this._requests.get(a.id))===null||n===void 0||n.promise.resolve(a.result):Ji(a)&&((r=this._requests.get(a.id))===null||r===void 0||r.promise.reject(a.error));e.resolve(i)})}_abortAllRequests(e){for(const{promise:n}of this._requests.values())n.reject(new D8(e))}}var fq=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class tn extends J7{constructor(e){var n;if(super(),this.providers=zs.providers,Y(e)||typeof e=="string"&&e.trim()!==""||Bf(e)){this._requestManager=new zs(e),this._subscriptionManager=new Ff(this._requestManager,{});return}const{config:r,provider:i,requestManager:s,subscriptionManager:o,registeredSubscriptions:a,accountProvider:l,wallet:c,requestManagerMiddleware:u}=e;this.setConfig(r??{}),this._requestManager=s??new zs(i,(n=r==null?void 0:r.enableExperimentalFeatures)===null||n===void 0?void 0:n.useSubscriptionWhenCheckingBlockTimeout,u),o?this._subscriptionManager=o:this._subscriptionManager=new Ff(this.requestManager,a??{}),l&&(this._accountProvider=l),c&&(this._wallet=c)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...e){return new this(...e.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:(e=this.subscriptionManager)===null||e===void 0?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e,...n){const r=new e(...n,this.getContextObject());return this.on(uo.CONFIG_CHANGE,i=>{r.setConfig({[i.name]:i.newValue})}),this[e.name]=r,r}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(uo.CONFIG_CHANGE,n=>{this.setConfig({[n.name]:n.newValue})})}registerPlugin(e){if(this[e.pluginNamespace]!==void 0)throw new L8(e.pluginNamespace);const n={[e.pluginNamespace]:e};n[e.pluginNamespace].link(this),Object.assign(this,n)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return tn.givenProvider}setProvider(e){return this.provider=e,!0}setRequestManagerMiddleware(e){this.requestManager.setMiddleware(e)}get BatchRequest(){return hq.bind(void 0,this._requestManager)}extend(e){var n;return e.property&&!this[e.property]&&(this[e.property]={}),(n=e.methods)===null||n===void 0||n.forEach(r=>{const i=(...s)=>fq(this,void 0,void 0,function*(){return this.requestManager.send({method:r.call,params:s})});e.property?this[e.property][r.name]=i:this[r.name]=i}),this}}tn.providers=zs.providers;class nt{constructor(e){if(this.toAddress=()=>{if(this.isDirect()){const n=this._iban.slice(4),r=nt._parseInt(n,36),i=lu(r,40);return _r(i)}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},nt.isIndirect(e)||nt.isDirect(e))this._iban=e;else throw new Error("Invalid IBAN was provided")}static isDirect(e){return e.length===34||e.length===35}isDirect(){return nt.isDirect(this._iban)}static isIndirect(e){return e.length===20}isIndirect(){return nt.isIndirect(this._iban)}static isValid(e){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(e)&&nt._mod9710(nt._iso13616Prepare(e))===1}isValid(){return nt.isValid(this._iban)}static fromBban(e){const n="XE",i=`0${(98-this._mod9710(this._iso13616Prepare(`${n}00${e}`))).toString()}`.slice(-2);return new nt(`${n}${i}${e}`)}static createIndirect(e){return nt.fromBban(`ETH${e.institution}${e.identifier}`)}static fromAddress(e){if(!mn(e))throw new Q_(e);const r=BigInt(Gu(e)).toString(36),i=lu(r,15);return nt.fromBban(i.toUpperCase())}static toIban(e){return nt.fromAddress(e).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}nt._iso13616Prepare=t=>{const r=t.toUpperCase();return`${r.slice(4)}${r.slice(0,4)}`.split("").map(s=>{const o=s.charCodeAt(0);return o>=65&&o<=90?o-65+10:s}).join("")};nt._parseInt=(t,e)=>[...t].reduce((n,r)=>BigInt(parseInt(r,e))+BigInt(e)*n,BigInt(0));nt._mod9710=t=>{let e=t,n;for(;e.length>2;)n=e.slice(0,9),e=`${(parseInt(n,10)%97).toString()}${e.slice(n.length)}`;return parseInt(e,10)%97};nt.toAddress=t=>new nt(t).toAddress();var _g=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},$N;class zN extends im{constructor(e){super(),this[$N]="Promise",this._promise=new Promise(e)}then(e,n){return _g(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return _g(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return _g(this,void 0,void 0,function*(){return this._promise.finally(e)})}on(e,n){return super.on(e,n),this}once(e,n){return super.once(e,n),this}}$N=Symbol.toStringTag;(function(t,e){if(t.setImmediate)return;var n=1,r={},i=!1,s=t.document,o;function a(m){typeof m!="function"&&(m=new Function(""+m));for(var _=new Array(arguments.length-1),b=0;b<_.length;b++)_[b]=arguments[b+1];var A={callback:m,args:_};return r[n]=A,o(n),n++}function l(m){delete r[m]}function c(m){var _=m.callback,b=m.args;switch(b.length){case 0:_();break;case 1:_(b[0]);break;case 2:_(b[0],b[1]);break;case 3:_(b[0],b[1],b[2]);break;default:_.apply(e,b);break}}function u(m){if(i)setTimeout(u,0,m);else{var _=r[m];if(_){i=!0;try{c(_)}finally{l(m),i=!1}}}}function d(){o=function(m){process.nextTick(function(){u(m)})}}function f(){if(t.postMessage&&!t.importScripts){var m=!0,_=t.onmessage;return t.onmessage=function(){m=!1},t.postMessage("","*"),t.onmessage=_,m}}function p(){var m="setImmediate$"+Math.random()+"$",_=function(b){b.source===t&&typeof b.data=="string"&&b.data.indexOf(m)===0&&u(+b.data.slice(m.length))};t.addEventListener?t.addEventListener("message",_,!1):t.attachEvent("onmessage",_),o=function(b){t.postMessage(m+b,"*")}}function y(){var m=new MessageChannel;m.port1.onmessage=function(_){var b=_.data;u(b)},o=function(_){m.port2.postMessage(_)}}function v(){var m=s.documentElement;o=function(_){var b=s.createElement("script");b.onreadystatechange=function(){u(_),b.onreadystatechange=null,m.removeChild(b),b=null},m.appendChild(b)}}function w(){o=function(m){setTimeout(u,0,m)}}var g=Object.getPrototypeOf&&Object.getPrototypeOf(t);g=g&&g.setTimeout?g:t,{}.toString.call(t.process)==="[object process]"?d():f()?p():t.MessageChannel?y():s&&"onreadystatechange"in s.createElement("script")?v():w(),g.setImmediate=a,g.clearImmediate=l})(typeof self>"u"?Ts:self);var ne=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function pq(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_protocolVersion",params:[]})})}function qN(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_syncing",params:[]})})}function mq(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_coinbase",params:[]})})}function gq(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_mining",params:[]})})}function yq(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_hashrate",params:[]})})}function vq(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_gasPrice",params:[]})})}function _q(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_maxPriorityFeePerGas",params:[]})})}function wq(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_accounts",params:[]})})}function xq(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_blockNumber",params:[]})})}function bq(t,e,n){return ne(this,void 0,void 0,function*(){return K.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getBalance",params:[e,n]})})}function Eq(t,e,n,r){return ne(this,void 0,void 0,function*(){return K.validate(["address","hex","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getStorageAt",params:[e,n,r]})})}function Aq(t,e,n){return ne(this,void 0,void 0,function*(){return K.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getTransactionCount",params:[e,n]})})}function Sq(t,e){return ne(this,void 0,void 0,function*(){return K.validate(["bytes32"],[e]),t.send({method:"eth_getBlockTransactionCountByHash",params:[e]})})}function Iq(t,e){return ne(this,void 0,void 0,function*(){return K.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getBlockTransactionCountByNumber",params:[e]})})}function Tq(t,e){return ne(this,void 0,void 0,function*(){return K.validate(["bytes32"],[e]),t.send({method:"eth_getUncleCountByBlockHash",params:[e]})})}function Cq(t,e){return ne(this,void 0,void 0,function*(){return K.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getUncleCountByBlockNumber",params:[e]})})}function kq(t,e,n){return ne(this,void 0,void 0,function*(){return K.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getCode",params:[e,n]})})}function Nq(t,e,n){return ne(this,void 0,void 0,function*(){return K.validate(["address","hex"],[e,n]),t.send({method:"eth_sign",params:[e,n]})})}function Pq(t,e){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_signTransaction",params:[e]})})}function Rq(t,e){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_sendTransaction",params:[e]})})}function VN(t,e){return ne(this,void 0,void 0,function*(){return K.validate(["hex"],[e]),t.send({method:"eth_sendRawTransaction",params:[e]})})}function Oq(t,e,n){return ne(this,void 0,void 0,function*(){return K.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_call",params:[e,n]})})}function jq(t,e,n){return ne(this,void 0,void 0,function*(){return K.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_estimateGas",params:[e,n]})})}function Mq(t,e,n){return ne(this,void 0,void 0,function*(){return K.validate(["bytes32","bool"],[e,n]),t.send({method:"eth_getBlockByHash",params:[e,n]})})}function GN(t,e,n){return ne(this,void 0,void 0,function*(){return K.validate(["blockNumberOrTag","bool"],[e,n]),t.send({method:"eth_getBlockByNumber",params:[e,n]})})}function Dq(t,e){return ne(this,void 0,void 0,function*(){return K.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionByHash",params:[e]})})}function Lq(t,e,n){return ne(this,void 0,void 0,function*(){return K.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockHashAndIndex",params:[e,n]})})}function Bq(t,e,n){return ne(this,void 0,void 0,function*(){return K.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[e,n]})})}function Fq(t,e){return ne(this,void 0,void 0,function*(){return K.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionReceipt",params:[e]})})}function Uq(t,e,n){return ne(this,void 0,void 0,function*(){return K.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getUncleByBlockHashAndIndex",params:[e,n]})})}function Hq(t,e,n){return ne(this,void 0,void 0,function*(){return K.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getUncleByBlockNumberAndIndex",params:[e,n]})})}function $q(t,e){return ne(this,void 0,void 0,function*(){return K.validate(["filter"],[e]),t.send({method:"eth_newFilter",params:[e]})})}function zq(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_newBlockFilter",params:[]})})}function qq(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_newPendingTransactionFilter",params:[]})})}function Vq(t,e){return ne(this,void 0,void 0,function*(){return K.validate(["hex"],[e]),t.send({method:"eth_uninstallFilter",params:[e]})})}function Gq(t,e){return ne(this,void 0,void 0,function*(){return K.validate(["hex"],[e]),t.send({method:"eth_getFilterChanges",params:[e]})})}function Wq(t,e){return ne(this,void 0,void 0,function*(){return K.validate(["hex"],[e]),t.send({method:"eth_getFilterLogs",params:[e]})})}function Qq(t,e){return ne(this,void 0,void 0,function*(){return K.validate(["filter"],[e]),t.send({method:"eth_getLogs",params:[e]})})}function Kq(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_getWork",params:[]})})}function Yq(t,e,n,r){return ne(this,void 0,void 0,function*(){return K.validate(["bytes8","bytes32","bytes32"],[e,n,r]),t.send({method:"eth_submitWork",params:[e,n,r]})})}function Jq(t,e,n,r){return ne(this,void 0,void 0,function*(){K.validate(["hex","blockNumberOrTag"],[e,n]);for(const i of r)K.validate(["number"],[i]);return t.send({method:"eth_feeHistory",params:[e,n,r]})})}function Zq(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_pendingTransactions",params:[]})})}function Xq(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_requestAccounts",params:[]})})}function eV(t){return ne(this,void 0,void 0,function*(){return t.send({method:"eth_chainId",params:[]})})}function tV(t,e,n,r){return ne(this,void 0,void 0,function*(){return K.validate(["address","bytes32[]","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getProof",params:[e,n,r]})})}function nV(t){return ne(this,void 0,void 0,function*(){return t.send({method:"web3_clientVersion",params:[]})})}function rV(t,e,n){return ne(this,void 0,void 0,function*(){return K.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_createAccessList",params:[e,n]})})}function iV(t,e,n,r=!1){return ne(this,void 0,void 0,function*(){return K.validate(["address"],[e]),t.send({method:`eth_signTypedData${r?"":"_v4"}`,params:[e,n]})})}var kw=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function sV(t){return kw(this,void 0,void 0,function*(){return t.send({method:"net_version",params:[]})})}function oV(t){return kw(this,void 0,void 0,function*(){return t.send({method:"net_peerCount",params:[]})})}function aV(t){return kw(this,void 0,void 0,function*(){return t.send({method:"net_listening",params:[]})})}var hi=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const lV=t=>hi(void 0,void 0,void 0,function*(){return t.send({method:"personal_listAccounts",params:[]})}),cV=(t,e)=>hi(void 0,void 0,void 0,function*(){return t.send({method:"personal_newAccount",params:[e]})}),uV=(t,e,n,r)=>hi(void 0,void 0,void 0,function*(){return t.send({method:"personal_unlockAccount",params:[e,n,r]})}),dV=(t,e)=>hi(void 0,void 0,void 0,function*(){return t.send({method:"personal_lockAccount",params:[e]})}),hV=(t,e,n)=>hi(void 0,void 0,void 0,function*(){return t.send({method:"personal_importRawKey",params:[e,n]})}),fV=(t,e,n)=>hi(void 0,void 0,void 0,function*(){return t.send({method:"personal_sendTransaction",params:[e,n]})}),pV=(t,e,n)=>hi(void 0,void 0,void 0,function*(){return t.send({method:"personal_signTransaction",params:[e,n]})}),mV=(t,e,n,r)=>hi(void 0,void 0,void 0,function*(){return t.send({method:"personal_sign",params:[e,n,r]})}),gV=(t,e,n)=>hi(void 0,void 0,void 0,function*(){return t.send({method:"personal_ecRecover",params:[e,n]})}),S1={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},I1={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},T1={type:"object",properties:{gasPrice:{type:"null"}}},xd=(t,e,n)=>{try{K.validateJSONSchema(t,e)}catch(r){throw r instanceof Da?new uH(r.errors,n):r}},yV=t=>{var e,n;const r=t;if(!N(r.type)){let s;switch(r.type){case"0x0":s=S1;break;case"0x1":s=I1;break;case"0x2":s=T1;break;default:return j({format:"uint"},r.type,re)}return xd(s,r,r.type),j({format:"uint"},r.type,re)}if(!N(r.maxFeePerGas)||!N(r.maxPriorityFeePerGas))return xd(T1,r,"0x2"),"0x2";if(!N(r.accessList))return xd(I1,r,"0x1"),"0x1";const i=(e=r.hardfork)!==null&&e!==void 0?e:(n=r.common)===null||n===void 0?void 0:n.hardfork;if(!N(i)){const s=Object.keys(uc).indexOf(i);if(s>=Object.keys(uc).indexOf("london"))return N(r.gasPrice)?"0x2":"0x0";if(s===Object.keys(uc).indexOf("berlin"))return"0x0"}if(!N(r.gasPrice))return xd(S1,r,"0x0"),"0x0"},vV=(t,e)=>{var n;return((n=e==null?void 0:e.transactionTypeParser)!==null&&n!==void 0?n:yV)(t)},_V=t=>t[0]>127?"0x0":si(t[0]),wV={type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}},Nw={type:"array",items:Object.assign({},wV)},xV={type:"object",properties:{accessList:Object.assign({},Nw),gasUsed:{type:"string"}}},C1={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},k1={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},bV={type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}},WN={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},Nw),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},C1),hardfork:Object.assign({},k1),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},bV),baseChain:Object.assign({},C1),hardfork:Object.assign({},k1)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},Sy={type:"object",properties:Object.assign(Object.assign({},WN.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},Nw),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},QN={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},qf={type:"object",properties:{baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},Sy)},{type:"array",items:{format:"bytes32"}}]},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},QN)},withdrawalsRoot:{format:"bytes32"}}},EV={type:"object",properties:{author:{format:"bytes32"},excessDataGas:{format:"uint"},baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{type:"array",items:{format:"bytes32"}},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},QN)},withdrawalsRoot:{format:"bytes32"}}},fl={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},AV={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},pl={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},fl)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},SV={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},IV={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},TV={type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}},CV={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},TV)}}};function on(t,e=Ut,n={transactionSchema:Sy,fillInputAndData:!1}){var r,i;let s=ys({},t);if(N(t==null?void 0:t.common)||(s.common=Object.assign({},t.common),N((r=t.common)===null||r===void 0?void 0:r.customChain)||(s.common.customChain=Object.assign({},t.common.customChain))),s=j((i=n.transactionSchema)!==null&&i!==void 0?i:Sy,s,e),!N(s.data)&&!N(s.input)&&si(s.data)!==si(s.input))throw new ak({data:fe(s.data),input:fe(s.input)});return n.fillInputAndData&&(N(s.data)?N(s.input)||(s.data=s.input):s.input=s.data),N(s.gasLimit)||(s.gas=s.gasLimit,delete s.gasLimit),s}function kV(t,e,n={fillInputAndData:!1}){return{raw:j({format:"bytes"},t,e),tx:on(Object.assign(Object.assign({},fo.fromSerializedData(je(t)).toJSON()),{hash:fe(Fa(je(t))),type:_V(je(t))}),e,{fillInputAndData:n.fillInputAndData,transactionSchema:n.transactionSchema})}}var Pw=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function Rw(t,e){return Pw(this,void 0,void 0,function*(){const n=yield sV(t.requestManager);return j({format:"uint"},n,e)})}function NV(t,e){return Pw(this,void 0,void 0,function*(){const n=yield oV(t.requestManager);return j({format:"uint"},n,e)})}const PV=t=>Pw(void 0,void 0,void 0,function*(){return aV(t.requestManager)});var wg=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class KN extends tn{getId(e=this.defaultReturnFormat){return wg(this,void 0,void 0,function*(){return Rw(this,e)})}getPeerCount(e=this.defaultReturnFormat){return wg(this,void 0,void 0,function*(){return NV(this,e)})}isListening(){return wg(this,void 0,void 0,function*(){return PV(this)})}}const Va="ALLEVENTS",Iy={name:Va,signature:"",type:"event",inputs:[]},um={bytes:ni.HEX,number:Cn.NUMBER};var YN=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function RV(t,e,n){return YN(this,void 0,void 0,function*(){var r,i,s,o;const a=yield SP(e,e.defaultBlock,!1,re);if(N(a.baseFeePerGas))throw new oH;let l;if(N(t.gasPrice)&&BigInt(a.baseFeePerGas)===BigInt(0)&&(l=yield Hw(e,n)),!N(t.gasPrice)||!N(l)){const c=j({format:"uint"},(r=t.gasPrice)!==null&&r!==void 0?r:l,n);return{maxPriorityFeePerGas:c,maxFeePerGas:c}}return{maxPriorityFeePerGas:j({format:"uint"},(i=t.maxPriorityFeePerGas)!==null&&i!==void 0?i:e.defaultMaxPriorityFeePerGas,n),maxFeePerGas:j({format:"uint"},(s=t.maxFeePerGas)!==null&&s!==void 0?s:BigInt(a.baseFeePerGas)*BigInt(2)+BigInt((o=t.maxPriorityFeePerGas)!==null&&o!==void 0?o:e.defaultMaxPriorityFeePerGas),n)}})}function JN(t,e,n){return YN(this,void 0,void 0,function*(){const r=ZN(t,e);if(!N(r)){if(r.startsWith("-"))throw new zE(r);if(Number(r)<0||Number(r)>127)throw new zE(r);if(N(t.gasPrice)&&(r==="0x0"||r==="0x1"))return{gasPrice:yield Hw(e,n),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if(r==="0x2")return Object.assign({gasPrice:void 0},yield RV(t,e,n))}})}var Ow=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Ty=(t,e,n,r)=>{if(n!==void 0&&t in n&&n[t]!==void 0){if(typeof n[t]=="string"&&mn(n[t]))return n[t];if(!Ae(n[t])&&Bk(n[t])){if(e.wallet){const i=e.wallet.get(j({format:"uint"},n[t],um));if(!N(i))return i.address;throw new qE}throw new qE}else throw t==="from"?new H8(n.from):new $8(n.to)}if(t==="from"){if(!N(r))return cm(r);if(!N(e.defaultAccount))return e.defaultAccount}},OV=(t,e,...n)=>Ow(void 0,[t,e,...n],void 0,function*(r,i,s=r.defaultReturnFormat){if(N(i))throw new sH;return TP(r,i,r.defaultBlock,s)}),ZN=(t,e)=>{const n=vV(t,e);if(!N(n))return n;if(!N(e.defaultTransactionType))return j({format:"uint"},e.defaultTransactionType,re)};function jV(t){return Ow(this,void 0,void 0,function*(){var e,n;let r=j(WN,t.transaction,t.web3Context.defaultReturnFormat);if(N(r.from)&&(r.from=Ty("from",t.web3Context,void 0,t.privateKey)),N(r.nonce)&&(r.nonce=yield OV(t.web3Context,r.from,re)),N(r.value)&&(r.value="0x0"),N(r.data))N(r.input)?r.input="0x":r.input.startsWith("0x")||(r.input=`0x${r.input}`);else{if(!N(r.input)&&r.data!==r.input)throw new ak({data:fe(r.data),input:fe(r.input)});r.data.startsWith("0x")||(r.data=`0x${r.data}`)}if(N(r.common)){if(t.web3Context.defaultCommon){const i=t.web3Context.defaultCommon,s=i.customChain.chainId,o=i.customChain.networkId,a=i.customChain.name;r.common=Object.assign(Object.assign({},i),{customChain:{chainId:s,networkId:o,name:a}})}N(r.chain)&&(r.chain=t.web3Context.defaultChain),N(r.hardfork)&&(r.hardfork=t.web3Context.defaultHardfork)}if(N(r.chainId)&&N((e=r.common)===null||e===void 0?void 0:e.customChain.chainId)&&(r.chainId=yield kP(t.web3Context,re)),N(r.networkId)&&(r.networkId=(n=t.web3Context.defaultNetworkId)!==null&&n!==void 0?n:yield Rw(t.web3Context,re)),N(r.gasLimit)&&!N(r.gas)&&(r.gasLimit=r.gas),r.type=ZN(r,t.web3Context),N(r.accessList)&&(r.type==="0x1"||r.type==="0x2")&&(r.accessList=[]),t.fillGasPrice&&(r=Object.assign(Object.assign({},r),yield JN(r,t.web3Context,re))),N(r.gas)&&N(r.gasLimit)&&t.fillGasLimit){const i=yield qw(t.web3Context,r,"latest",re);r=Object.assign(Object.assign({},r),{gas:j({format:"uint"},i,re)})}return r})}const MV=t=>Ow(void 0,void 0,void 0,function*(){var e;return((e=t.web3Context.transactionBuilder)!==null&&e!==void 0?e:jV)(Object.assign(Object.assign({},t),{transaction:t.transaction}))});var jw=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function Cy(t,e,n){const r=t.transactionPollingInterval,[i,s]=Xk(()=>jw(this,void 0,void 0,function*(){let a;try{a=yield $w(t,um)}catch(c){console.warn("An error happen while trying to get the block number",c);return}const l=a-e;if(l>=t.transactionBlockTimeout)return new uk({starterBlockNumber:e,numberOfBlocks:l,transactionHash:n})}),r);return[s,{clean:()=>{clearInterval(i)}}]}function DV(t,e,n){return jw(this,void 0,void 0,function*(){var r;let i=!0,s,o;function a(c,u){u&&console.warn("error happened at subscription. So revert to polling...",u),o.clean(),i=!1;const[d,f]=Cy(t,e,n);o.clean=f.clean,d.catch(p=>c(p))}try{s=yield(r=t.subscriptionManager)===null||r===void 0?void 0:r.subscribe("newHeads"),o={clean:()=>{var c;s.id&&((c=t.subscriptionManager)===null||c===void 0||c.removeSubscription(s).then(()=>{}).catch(()=>{}))}}}catch{return Cy(t,e,n)}return[new Promise((c,u)=>{try{s.on("data",d=>{if(i=!1,!(d!=null&&d.number))return;const f=Number(BigInt(d.number)-BigInt(e));f>=t.transactionBlockTimeout&&u(new uk({starterBlockNumber:e,numberOfBlocks:f,transactionHash:n}))}),s.on("error",d=>{a(u,d)})}catch(d){a(u,d)}setTimeout(()=>{i&&a(u)},t.blockHeaderTimeout*1e3)}),o]})}function XN(t,e){return jw(this,void 0,void 0,function*(){var n,r;const{provider:i}=t.requestManager;let s;const o=yield $w(t,um);return!((r=(n=i).supportsSubscriptions)===null||r===void 0)&&r.call(n)&&t.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?s=yield DV(t,o,e):s=Cy(t,o,e),s})}var LV=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function ky(t,e,n){return LV(this,void 0,void 0,function*(){const[r,i]=uw(t.transactionSendTimeout,new aH({numberOfSeconds:t.transactionSendTimeout/1e3,transactionHash:n})),[s,o]=yield XN(t,n);try{return yield Promise.race([e(),i,s])}finally{clearTimeout(r),o.clean()}})}var N1=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function eP(t,e,n,r){return N1(this,void 0,void 0,function*(){var i;const s=(i=t.transactionReceiptPollingInterval)!==null&&i!==void 0?i:t.transactionPollingInterval,[o,a]=cw(()=>N1(this,void 0,void 0,function*(){try{return(r??IP)(t,e,n)}catch(f){console.warn("An error happen while trying to get the transaction receipt",f);return}}),s),[l,c]=uw(t.transactionPollingTimeout,new ck({numberOfSeconds:t.transactionPollingTimeout/1e3,transactionHash:e})),[u,d]=yield XN(t,e);try{return yield Promise.race([o,c,u])}finally{l&&clearTimeout(l),a&&clearInterval(a),d.clean()}})}var BV=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Zd=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:i})=>{var s;let o=1;const a=setInterval(()=>{BV(void 0,void 0,void 0,function*(){if(o>=t.transactionConfirmationBlocks){clearInterval(a);return}const l=yield GN(t.requestManager,ct(BigInt(e.blockNumber)+BigInt(o)),!1);l!=null&&l.hash&&(o+=1,n.emit("confirmation",{confirmations:j({format:"uint"},o,i),receipt:j(r??pl,e,i),latestBlockHash:j({format:"bytes32"},l.hash,i)}))})},(s=t.transactionReceiptPollingInterval)!==null&&s!==void 0?s:t.transactionPollingInterval)};var P1=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const FV=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:i})=>{let s=!0,o;setImmediate(()=>{var a;(a=t.subscriptionManager)===null||a===void 0||a.subscribe("newHeads").then(l=>{l.on("data",c=>P1(void 0,void 0,void 0,function*(){var u;if(s=!1,!(c!=null&&c.number)||o===(c==null?void 0:c.parentHash))return;o=c==null?void 0:c.parentHash;const d=BigInt(c.number)-BigInt(e.blockNumber)+BigInt(1);n.emit("confirmation",{confirmations:j({format:"uint"},d,i),receipt:j(r??pl,e,i),latestBlockHash:j({format:"bytes32"},c.parentHash,i)}),d>=t.transactionConfirmationBlocks&&(yield(u=t.subscriptionManager)===null||u===void 0?void 0:u.removeSubscription(l))})),l.on("error",()=>P1(void 0,void 0,void 0,function*(){var c;yield(c=t.subscriptionManager)===null||c===void 0?void 0:c.removeSubscription(l),s=!1,Zd({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:i})}))}).catch(()=>{s=!1,Zd({web3Context:t,transactionReceipt:e,customTransactionReceiptSchema:r,transactionPromiEvent:n,returnFormat:i})})}),setTimeout(()=>{s&&Zd({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,returnFormat:i})},t.blockHeaderTimeout*1e3)};function UV(t,e,n,r,i,s){if(N(n)||N(n.blockHash))throw new lH({receipt:n,blockHash:j({format:"bytes32"},n==null?void 0:n.blockHash,i),transactionHash:j({format:"bytes32"},r,i)});if(!n.blockNumber)throw new cH({receipt:n});e.emit("confirmation",{confirmations:j({format:"uint"},1,i),receipt:j(s??pl,n,i),latestBlockHash:j({format:"bytes32"},n.blockHash,i)});const o=t.requestManager.provider;o&&"supportsSubscriptions"in o&&o.supportsSubscriptions()?FV({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:s,returnFormat:i}):Zd({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:s,returnFormat:i})}const dm=t=>!Y(t)&&typeof t=="object"&&!Y(t.type)&&t.type==="error",Mw=t=>!Y(t)&&typeof t=="object"&&!Y(t.type)&&t.type==="event",hm=t=>!Y(t)&&typeof t=="object"&&!Y(t.type)&&t.type==="function",HV=t=>!Y(t)&&typeof t=="object"&&!Y(t.type)&&t.type==="constructor",$V=t=>typeof t=="object"&&typeof t.components>"u"&&typeof t.name>"u",tP=t=>t.includes("[]")?{type:"tuple[]",name:t.slice(0,-2)}:{type:"tuple",name:t},nP=t=>{const e=[];for(const n of Object.keys(t)){const r=t[n];typeof r=="object"?e.push(Object.assign(Object.assign({},tP(n)),{components:nP(r)})):e.push({name:n,type:t[n]})}return e},Ny=(t,e)=>{const n=[];return e.forEach(r=>{if(typeof r.components=="object"){if(!r.type.startsWith("tuple"))throw new ye(`Invalid value given "${r.type}". Error: components found but type is not tuple.`);const i=r.type.indexOf("["),s=i>=0?r.type.substring(i):"",o=Ny(t,r.components);Array.isArray(o)&&t?n.push(`tuple(${o.join(",")})${s}`):n.push(`(${o.join(",")})${s}`)}else n.push(r.type)}),n},Wr=t=>{var e,n,r,i;return dm(t)||Mw(t)||hm(t)?!((e=t.name)===null||e===void 0)&&e.includes("(")?t.name:`${(n=t.name)!==null&&n!==void 0?n:""}(${Ny(!1,(r=t.inputs)!==null&&r!==void 0?r:[]).join(",")})`:`(${Ny(!1,(i=t.inputs)!==null&&i!==void 0?i:[]).join(",")})`},zV=t=>{if(typeof t!="string"&&!dm(t))throw new ye("Invalid parameter value in encodeErrorSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Wr(t):e=t,gn(e)},Dw=t=>{if(typeof t!="string"&&!Mw(t))throw new ye("Invalid parameter value in encodeEventSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Wr(t):e=t,gn(e)};function Lw(t,e){const n=t.exec(e);return n==null?void 0:n.groups}var rP=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,iP=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,sP=/^\(.+?\).*?$/,qV=Object.defineProperty,VV=(t,e,n)=>e in t?qV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rl=(t,e,n)=>(VV(t,typeof e!="symbol"?e+"":e,n),n),GV="abitype",WV="0.7.1",Jt=class extends Error{constructor(t,e={}){var s;const n=e.cause instanceof Jt?e.cause.details:(s=e.cause)!=null&&s.message?e.cause.message:e.details,r=e.cause instanceof Jt&&e.cause.docsPath||e.docsPath,i=[t||"An error occurred.","",...e.metaMessages?[...e.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...n?[`Details: ${n}`]:[],`Version: ${GV}@${WV}`].join(`
`);super(i),Rl(this,"details"),Rl(this,"docsPath"),Rl(this,"metaMessages"),Rl(this,"shortMessage"),Rl(this,"name","AbiTypeError"),e.cause&&(this.cause=e.cause),this.details=n,this.docsPath=r,this.metaMessages=e.metaMessages,this.shortMessage=t}},oP=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function aP(t){return oP.test(t)}function QV(t){return Lw(oP,t)}var R1=new Set(["memory","indexed","storage","calldata"]),KV=new Set(["calldata","memory","storage"]);function YV(t,e){return e?`${e}:${t}`:t}var xg=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),JV=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,ZV=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,XV=/^u?int$/;function Vf(t,e){var d,f;const n=YV(t,e==null?void 0:e.type);if(xg.has(n))return xg.get(n);const r=sP.test(t),i=Lw(r?ZV:JV,t);if(!i)throw new Jt("Invalid ABI parameter.",{details:t});if(i.name&&tG(i.name))throw new Jt("Invalid ABI parameter.",{details:t,metaMessages:[`"${i.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let l,c={};if(r){l="tuple";const p=Do(i.type),y=[],v=p.length;for(let w=0;w<v;w++)y.push(Vf(p[w],{structs:a}));c={components:y}}else if(i.type in a)l="tuple",c={components:a[i.type]};else if(XV.test(i.type))l=`${i.type}256`;else if(l=i.type,(e==null?void 0:e.type)!=="struct"&&!lP(l))throw new Jt("Unknown type.",{metaMessages:[`Type "${l}" is not a valid ABI type.`]});if(i.modifier){if(!((f=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&f.call(d,i.modifier)))throw new Jt("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${i.modifier}" not allowed${e!=null&&e.type?` in "${e.type}" type`:""}.`]});if(KV.has(i.modifier)&&!nG(l,!!i.array))throw new Jt("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${i.modifier}" not allowed${e!=null&&e.type?` in "${e.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${i.modifier}" was given.`]})}const u={type:`${l}${i.array??""}`,...s,...o,...c};return xg.set(n,u),u}function Do(t,e=[],n="",r=0){if(t===""){if(n==="")return e;if(r!==0)throw new Jt("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`});return[...e,n.trim()]}const i=t.length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?Do(a,[...e,n.trim()]):Do(a,e,`${n}${o}`,r);case"(":return Do(a,e,`${n}${o}`,r+1);case")":return Do(a,e,`${n}${o}`,r-1);default:return Do(a,e,`${n}${o}`,r)}}return[]}function lP(t){return t==="address"||t==="bool"||t==="function"||t==="string"||rP.test(t)||iP.test(t)}var eG=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function tG(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||rP.test(t)||iP.test(t)||eG.test(t)}function nG(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function rG(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!aP(a))continue;const l=QV(a);if(!l)throw new Jt("Invalid struct signature.",{details:a});const c=l.properties.split(";"),u=[],d=c.length;for(let f=0;f<d;f++){const y=c[f].trim();if(!y)continue;const v=Vf(y,{type:"struct"});u.push(v)}if(!u.length)throw new Jt("Invalid struct signature.",{details:a,metaMessages:["No properties exist."]});e[l.name]=u}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];r[a]=cP(l,e)}return r}var iG=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function cP(t,e,n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(sP.test(o.type))r.push(o);else{const l=Lw(iG,o.type);if(!(l!=null&&l.type))throw new Jt("Invalid ABI parameter.",{details:JSON.stringify(o,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:c,type:u}=l;if(u in e){if(n.has(u))throw new Jt("Circular reference detected.",{metaMessages:[`Struct "${u}" is a circular reference.`]});r.push({...o,type:`tuple${c??""}`,components:cP(e[u]??[],e,new Set([...n,u]))})}else if(lP(u))r.push(o);else throw new Jt("Unknown type.",{metaMessages:[`Type "${u}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]})}}return r}function sG(t){let e;if(typeof t=="string")e=Vf(t,{modifiers:R1});else{const n=rG(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!aP(s)){e=Vf(s,{modifiers:R1,structs:n});break}}}if(!e)throw new Jt("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return e}const Ye=32;function Py(t=0){var e;if(((e=globalThis.Buffer)===null||e===void 0?void 0:e.alloc)!==void 0){const n=globalThis.Buffer.alloc(t);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}return new Uint8Array(t)}function uP(t){var e,n;return Object.assign(Object.assign({},t),{name:(e=t.name)!==null&&e!==void 0?e:"",components:(n=t.components)===null||n===void 0?void 0:n.map(r=>uP(r))})}function oG(t){return!Y(t)&&typeof t=="object"&&!Y(t.type)&&typeof t.type=="string"}function dP(t){return t.map(e=>{var n;if(oG(e))return e;if(typeof e=="string")return uP(sG(e.replace(/tuple/,"")));if($V(e)){const r=Object.keys(e)[0],i=tP(r);return i.name=(n=i.name)!==null&&n!==void 0?n:"",Object.assign(Object.assign({},i),{components:nP(e[r])})}throw new ye("Invalid abi")})}function Bw(t){const e=t.type.lastIndexOf("["),n=t.type.substring(0,e),r=t.type.substring(e);let i=-1;if(r!=="[]"&&(i=Number(r.slice(1,-1)),isNaN(i)))throw new ye("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:t.components},size:i}}function Gf(t){var e,n;return t.type==="string"||t.type==="bytes"||t.type.endsWith("[]")?!0:t.type==="tuple"?(n=(e=t.components)===null||e===void 0?void 0:e.some(Gf))!==null&&n!==void 0?n:!1:t.type.endsWith("]")?Gf(Bw(t).param):!1}const hP=20,fP=Ye-hP;function aG(t,e){if(typeof e!="string")throw new ye("address type expects string as input type",{value:e,name:t.name,type:t.type});let n=e.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!mn(n))throw new ye("provided input is not valid address",{value:e,name:t.name,type:t.type});const r=bo(n),i=Py(Ye);return i.set(r,fP),{dynamic:!1,encoded:i}}function lG(t,e){const n=e.subarray(fP,Ye);if(n.length!==hP)throw new ye("Invalid decoding input, not enough bytes to decode address",{bytes:e});const r=ui(n);return{result:_r(r),encoded:e.subarray(Ye),consumed:Ye}}const ls=new Map;let bd=BigInt(256);for(let t=8;t<=256;t+=8)ls.set(`uint${t}`,{min:BigInt(0),max:bd-BigInt(1)}),ls.set(`int${t}`,{min:-bd/BigInt(2),max:bd/BigInt(2)-BigInt(1)}),bd*=BigInt(256);ls.set("int",ls.get("int256"));ls.set("uint",ls.get("uint256"));const pP=BigInt(1)<<BigInt(256);function cG(t,e=Ye){let n;return t<0?n=(pP+t).toString(16):n=t.toString(16),n=Ba(n,e*2),bo(n)}function uG(t,e){const n=ui(t),r=BigInt(n);return r<=e?r:r-pP}function Ju(t,e){let n;try{n=Os(e)}catch{throw new ye("provided input is not number value",{type:t.type,value:e,name:t.name})}const r=ls.get(t.type);if(!r)throw new ye("provided abi contains invalid number datatype",{type:t.type});if(n<r.min)throw new ye("provided input is less then minimum for given type",{type:t.type,value:e,name:t.name,minimum:r.min.toString()});if(n>r.max)throw new ye("provided input is greater then maximum for given type",{type:t.type,value:e,name:t.name,maximum:r.max.toString()});return{dynamic:!1,encoded:cG(n)}}function Ga(t,e){if(e.length<Ye)throw new ye("Not enough bytes left to decode",{param:t,bytesLeft:e.length});const n=e.subarray(0,Ye),r=ls.get(t.type);if(!r)throw new ye("provided abi contains invalid number datatype",{type:t.type});const i=uG(n,r.max);if(i<r.min)throw new ye("decoded value is less then minimum for given type",{type:t.type,value:i,name:t.name,minimum:r.min.toString()});if(i>r.max)throw new ye("decoded value is greater then maximum for given type",{type:t.type,value:i,name:t.name,maximum:r.max.toString()});return{result:i,encoded:e.subarray(Ye),consumed:Ye}}function dG(t,e){let n;try{n=zk(e)}catch(r){if(r instanceof K_)throw new ye("provided input is not valid boolean value",{type:t.type,value:e,name:t.name})}return Ju({type:"uint8",name:""},Number(n))}function hG(t,e){const n=Ga({type:"uint8",name:""},e);if(n.result>1||n.result<0)throw new ye("Invalid boolean value encoded",{boolBytes:e.subarray(0,Ye),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:Ye}}const fG=32;function mP(t,e){if(typeof e=="string"&&e.length%2!==0&&(e+="0"),!ms(e))throw new ye("provided input is not valid bytes value",{type:t.type,value:e,name:t.name});const n=yr(e),[,r]=t.type.split("bytes");if(r){if(Number(r)>fG||Number(r)<1)throw new ye("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:t.type});if(Number(r)<n.length)throw new ye("provided input size is different than type size",{type:t.type,value:e,name:t.name});const o=Py(Ye);return o.set(n),{dynamic:!1,encoded:o}}const i=Math.ceil(n.length/Ye),s=Py(Ye+i*Ye);return s.set(Ju({type:"uint32",name:""},n.length).encoded),s.set(n,Ye),{dynamic:!0,encoded:s}}function gP(t,e){const[,n]=t.type.split("bytes");let r=Number(n),i=e,s=1,o=0;if(!r){const a=Ga({type:"uint32",name:""},i);r=Number(a.result),o+=a.consumed,i=a.encoded,s=Math.ceil(r/Ye)}if(r>e.length)throw new ye("there is not enough data to decode",{type:t.type,encoded:e,size:r});return{result:fe(i.subarray(0,r)),encoded:i.subarray(s*Ye),consumed:o+s*Ye}}function pG(t,e){if(typeof e!="string")throw new ye("invalid input, should be string",{input:e});const n=ow(e);return mP({type:"bytes",name:""},n)}function mG(t,e){const n=gP({type:"bytes",name:""},e);return{result:em(n.result),encoded:n.encoded,consumed:n.consumed}}function yP(t){let e=0,n=0;const r=[],i=[];for(const s of t)s.dynamic?e+=Ye:e+=s.encoded.length;for(const s of t)s.dynamic?(r.push(Ju({type:"uint256",name:""},e+n)),i.push(s),n+=s.encoded.length):r.push(s);return Vt(...r.map(s=>s.encoded),...i.map(s=>s.encoded))}function gG(t,e){if(!Array.isArray(e))throw new ye("Expected value to be array",{abi:t,values:e});const{size:n,param:r}=Bw(t),i=e.map(a=>Ry(r,a)),s=n===-1,o=i.length>0&&i[0].dynamic;if(!s&&e.length!==n)throw new ye("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:e.length});if(s||o){const a=yP(i);if(s){const l=Ju({type:"uint256",name:""},i.length).encoded;return{dynamic:!0,encoded:i.length>0?Vt(l,a):l}}return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:Vt(...i.map(a=>a.encoded))}}function yG(t,e){let{size:n,param:r}=Bw(t);const i=n===-1;let s=0;const o=[];let a=e;if(i){const c=Ga({type:"uint32",name:""},e);n=Number(c.result),s=c.consumed,a=c.encoded}if(Gf(r)){for(let c=0;c<n;c+=1){const u=Ga({type:"uint32",name:""},a.subarray(c*Ye));s+=u.consumed;const d=Wf(r,a.subarray(Number(u.result)));s+=d.consumed,o.push(d.result)}return{result:o,encoded:a.subarray(s),consumed:s}}for(let c=0;c<n;c+=1){const u=Wf(r,e.subarray(s));s+=u.consumed,o.push(u.result)}return{result:o,encoded:e.subarray(s),consumed:s}}function Ry(t,e){if(t.type==="string")return pG(t,e);if(t.type==="bool")return dG(t,e);if(t.type==="address")return aG(t,e);if(t.type==="tuple")return Fw(t,e);if(t.type.endsWith("]"))return gG(t,e);if(t.type.startsWith("bytes"))return mP(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return Ju(t,e);throw new ye("Unsupported",{param:t,value:e})}function Wf(t,e){if(t.type==="string")return mG(t,e);if(t.type==="bool")return hG(t,e);if(t.type==="address")return lG(t,e);if(t.type==="tuple")return vP(t,e);if(t.type.endsWith("]"))return yG(t,e);if(t.type.startsWith("bytes"))return gP(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return Ga(t,e);throw new ye("Unsupported",{param:t,bytes:e})}function Fw(t,e){var n,r,i;let s=!1;if(!Array.isArray(e)&&typeof e!="object")throw new ye("param must be either Array or Object",{param:t,input:e});const o=e,a=[];for(let l=0;l<((r=(n=t.components)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);l+=1){const c=t.components[l];let u;if(Array.isArray(o)){if(l>=o.length)throw new ye("input param length missmatch",{param:t,input:e});u=Ry(c,o[l])}else{const d=o[(i=c.name)!==null&&i!==void 0?i:""];if(d==null)throw new ye("missing input defined in abi",{param:t,input:e,paramName:c.name});u=Ry(c,d)}u.dynamic&&(s=!0),a.push(u)}return s?{dynamic:!0,encoded:yP(a)}:{dynamic:!1,encoded:Vt(...a.map(l=>l.encoded))}}function vP(t,e){const n={__length__:0};let r=0;if(!t.components)return{result:n,encoded:e,consumed:r};let i=0;for(const[s,o]of t.components.entries()){let a;if(Gf(o)){const l=Ga({type:"uint32",name:""},e.subarray(r));a=Wf(o,e.subarray(Number(l.result))),r+=l.consumed,i+=a.consumed}else a=Wf(o,e.subarray(r)),r+=a.consumed;n.__length__+=1,n[s]=a.result,o.name&&o.name!==""&&(n[o.name]=a.result)}return{encoded:e.subarray(r+i),result:n,consumed:r+i}}function vG(t,e,n){const r=dP(t),i=bo(e);return vP({type:"tuple",name:"",components:r},i).result}function _P(t){const e=[];return t.forEach(n=>{if(Array.isArray(n)){const r=_P(n);e.push({type:"tuple",components:r,name:""})}else e.push({type:si(n,!0)})}),e}function fm(t,e){if((t==null?void 0:t.length)!==e.length)throw new ye("Invalid number of values received for given ABI",{expected:t==null?void 0:t.length,received:e.length});const n=dP(t);return ui(Fw({type:"tuple",name:"",components:n},e).encoded)}function _G(t){try{const e=_P(t);return ui(Fw({type:"tuple",name:"",components:e},t).encoded)}catch{throw new ye("Could not infer types from given params",{params:t})}}const Oy=(t,e)=>fm([t],[e]),wP=(t,e,n)=>{try{if(t.length>0&&(!e||e==="0x"||e==="0X"))throw new ye("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return vG(t,`0x${e.replace(/0x/i,"")}`,n)}catch(r){throw new ye(`Parameter decoding error: ${r.message}`,{internalErr:r})}},Vs=(t,e)=>wP(t,e,!1),xP=(t,e)=>Vs([t],e)[0],pu=t=>{if(typeof t!="string"&&!hm(t))throw new ye("Invalid parameter value in encodeFunctionSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Wr(t):e=t,gn(e).slice(0,10)},wG=(t,e)=>{var n;if(!hm(t))throw new ye("Invalid parameter value in encodeFunctionCall");return`${pu(t)}${fm((n=t.inputs)!==null&&n!==void 0?n:[],e??[]).replace("0x","")}`},jy=(t,e,n=!0)=>{const r=n&&e&&e.length>=10&&e.startsWith("0x")?e.slice(10):e;if(!t.inputs)throw new Ht("No inputs found in the ABI");const i=Vs([...t.inputs],r);return Object.assign(Object.assign({},i),{__method__:Wr(t)})},xG=(t,e)=>{if(t.type==="constructor")return e;if(!e)return null;const n=e.length>=2?e.slice(2):e;if(!t.outputs)return null;const r=Vs([...t.outputs],n);return r.__length__===1?r[0]:r},bG=["bool","string","int","uint","address","fixed","ufixed"],EG=(t,e)=>t==="string"?e:xP(t,e),bP=(t,e,n)=>{const r=Array.isArray(n)?n:[n],i={},s={};for(const[f,p]of t.entries())p.indexed?i[f]=p:s[f]=p;const o=e?wP(Object.values(s),e,!0):{__length__:0},a=r.length-Object.keys(i).length,l=Object.values(i).map((f,p)=>bG.some(y=>f.type.startsWith(y))?EG(f.type,r[p+a]):r[p+a]),c={__length__:0};let u=0,d=0;for(const[f,p]of t.entries())c[f]=p.type==="string"?"":void 0,i[f]&&(c[f]=l[u],u+=1),s[f]&&(c[f]=o[String(d)],d+=1),p.name&&(c[p.name]=c[f]),c.__length__+=1;return c},Xd=(t,e)=>{if(e!=null&&e.data){let n,r,i;try{const s=e.data.slice(0,10),o=t.find(a=>zV(a).startsWith(s));o!=null&&o.inputs?(n=o.name,r=Wr(o),i=Vs([...o.inputs],e.data.substring(10))):e.data.startsWith("0x08c379a0")?(n="Error",r="Error(string)",i=Vs([{name:"message",type:"string"}],e.data.substring(10))):e.data.startsWith("0x4e487b71")?(n="Panic",r="Panic(uint256)",i=Vs([{name:"code",type:"uint256"}],e.data.substring(10))):console.error("No matching error abi found for error data",e.data)}catch(s){console.error(s)}n&&e.setDecodedProperties(n,r,i)}};var AG=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const SG=(t,e)=>{var n,r,i,s,o;if(t instanceof Hs&&t.cause instanceof Vp){if(e!==void 0){const a=e.filter(l=>dm(l));return Xd(a,t.cause),{reason:t.cause.message,signature:(n=t.cause.data)===null||n===void 0?void 0:n.slice(0,10),data:(r=t.cause.data)===null||r===void 0?void 0:r.substring(10),customErrorName:t.cause.errorName,customErrorDecodedSignature:t.cause.errorSignature,customErrorArguments:t.cause.errorArgs}}return{reason:t.cause.message,signature:(i=t.cause.data)===null||i===void 0?void 0:i.slice(0,10),data:(s=t.cause.data)===null||s===void 0?void 0:s.substring(10)}}if(t instanceof Gp&&!Array.isArray((o=t.cause)===null||o===void 0?void 0:o.errors)&&t.cause!==void 0)return t.cause.message;throw t};function EP(t,e,n){return AG(this,arguments,void 0,function*(r,i,s,o=r.defaultReturnFormat){try{yield zw(r,i,r.defaultBlock,o);return}catch(a){return SG(a,s)}})}var IG=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function bg(t,e,n,r,i,s){return IG(this,void 0,void 0,function*(){let o=s;o===void 0&&t.handleRevert&&e!==void 0&&(o=yield EP(t,e,i));let a;if(o===void 0)a=new sk(n);else if(typeof o=="string")a=new wf(o,void 0,n);else if(o.customErrorName!==void 0&&o.customErrorDecodedSignature!==void 0&&o.customErrorArguments!==void 0){const l=o;a=new ik(l.reason,l.customErrorName,l.customErrorDecodedSignature,l.customErrorArguments,l.signature,n,l.data)}else a=new wf(o.reason,o.signature,n,o.data);return a})}const Uw=(t,e,n,r=Ut)=>{var i,s,o,a,l,c;let u=Object.assign({},t);const d=j(fl,e,r);if([Va,"allEvents"].includes(u.name)){const p=n.find(y=>y.signature===e.topics[0]);p?u=p:u={anonymous:!0}}if(u.inputs=(s=(i=u.inputs)!==null&&i!==void 0?i:t.inputs)!==null&&s!==void 0?s:[],!u.anonymous){let p=0;((o=u.inputs)!==null&&o!==void 0?o:[]).forEach(y=>{y.indexed&&(p+=1)}),p>0&&(e!=null&&e.topics)&&(e==null?void 0:e.topics.length)!==p+1&&(u=Object.assign(Object.assign({},u),{anonymous:!0,inputs:[]}))}const f=u.anonymous?e.topics:((a=e.topics)!==null&&a!==void 0?a:[]).slice(1);return Object.assign(Object.assign({},d),{returnValues:bP([...(l=u.inputs)!==null&&l!==void 0?l:[]],e.data,f),event:u.name,signature:!u.anonymous&&((c=e.topics)===null||c===void 0?void 0:c.length)>0&&e.topics[0]?e.topics[0]:void 0,raw:{data:e.data,topics:e.topics}})};var _s=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class AP{constructor({options:e,web3Context:n,promiEvent:r,returnFormat:i}){this.options={checkRevertBeforeSending:!0},this.options=e,this.web3Context=n,this.promiEvent=r,this.returnFormat=i}getReceiptWithEvents(e){var n,r;const i=Object.assign({},e??{});if(!((n=this.options)===null||n===void 0)&&n.contractAbi&&i.logs&&i.logs.length>0){i.events={};for(const s of i.logs){const o=Uw(Iy,s,(r=this.options)===null||r===void 0?void 0:r.contractAbi,this.returnFormat);o.event&&(i.events[o.event]=o)}}return i}checkRevertBeforeSending(e){return _s(this,void 0,void 0,function*(){if(this.options.checkRevertBeforeSending!==!1){let n=e;N(e.data)&&N(e.input)&&N(e.gas)&&(n=Object.assign(Object.assign({},e),{gas:21e3}));const r=yield EP(this.web3Context,n,this.options.contractAbi);if(r!==void 0)throw yield bg(this.web3Context,e,void 0,void 0,this.options.contractAbi,r)}})}emitSending(e){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",e)}populateGasPrice(e){return _s(this,arguments,void 0,function*({transactionFormatted:n,transaction:r}){var i;let s=n;return!this.web3Context.config.ignoreGasPricing&&!(!((i=this.options)===null||i===void 0)&&i.ignoreGasPricing)&&N(n.gasPrice)&&(N(r.maxPriorityFeePerGas)||N(r.maxFeePerGas))&&(s=Object.assign(Object.assign({},n),yield JN(n,this.web3Context,re))),s})}signAndSend(e){return _s(this,arguments,void 0,function*({wallet:n,tx:r}){if(n){const i=yield n.signTransaction(r);return ky(this.web3Context,()=>_s(this,void 0,void 0,function*(){return VN(this.web3Context.requestManager,i.rawTransaction)}),i.transactionHash)}return ky(this.web3Context,()=>_s(this,void 0,void 0,function*(){return Rq(this.web3Context.requestManager,r)}))})}emitSent(e){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",e)}emitTransactionHash(e){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",e)}emitReceipt(e){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",e)}handleError(e){return _s(this,arguments,void 0,function*({error:n,tx:r}){var i;let s=n;return s instanceof Hs&&this.web3Context.handleRevert&&(s=yield bg(this.web3Context,r,void 0,void 0,(i=this.options)===null||i===void 0?void 0:i.contractAbi)),(s instanceof Gp||s instanceof Hs||s instanceof ik||s instanceof sk||s instanceof wf||s instanceof ck)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",s),s})}emitConfirmation({receipt:e,transactionHash:n,customTransactionReceiptSchema:r}){this.promiEvent.listenerCount("confirmation")>0&&UV(this.web3Context,this.promiEvent,e,n,this.returnFormat,r)}handleResolve(e){return _s(this,arguments,void 0,function*({receipt:n,tx:r}){var i,s,o;if(!((i=this.options)===null||i===void 0)&&i.transactionResolver)return(s=this.options)===null||s===void 0?void 0:s.transactionResolver(n);if(n.status===BigInt(0)){const a=yield bg(this.web3Context,r,n,void 0,(o=this.options)===null||o===void 0?void 0:o.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",a),a}else return n})}}var Ie=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},TG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const CG=t=>Ie(void 0,void 0,void 0,function*(){return qN(t.requestManager)});function kG(t,e){return Ie(this,void 0,void 0,function*(){const n=yield yq(t.requestManager);return j({format:"uint"},n,e??t.defaultReturnFormat)})}function Hw(t,e){return Ie(this,void 0,void 0,function*(){const n=yield vq(t.requestManager);return j({format:"uint"},n,e??t.defaultReturnFormat)})}function NG(t,e){return Ie(this,void 0,void 0,function*(){const n=yield _q(t.requestManager);return j({format:"uint"},n,e??t.defaultReturnFormat)})}function $w(t,e){return Ie(this,void 0,void 0,function*(){const n=yield xq(t.requestManager);return j({format:"uint"},n,e??t.defaultReturnFormat)})}function PG(t,e){return Ie(this,arguments,void 0,function*(n,r,i=n.defaultBlock,s){const o=gt(i)?i:j({format:"uint"},i,re),a=yield bq(n.requestManager,r,o);return j({format:"uint"},a,s??n.defaultReturnFormat)})}function RG(t,e,n){return Ie(this,arguments,void 0,function*(r,i,s,o=r.defaultBlock,a){const l=j({format:"uint"},s,re),c=gt(o)?o:j({format:"uint"},o,re),u=yield Eq(r.requestManager,i,l,c);return j({format:"bytes"},u,a??r.defaultReturnFormat)})}function OG(t,e){return Ie(this,arguments,void 0,function*(n,r,i=n.defaultBlock,s){const o=gt(i)?i:j({format:"uint"},i,re),a=yield kq(n.requestManager,r,o);return j({format:"bytes"},a,s??n.defaultReturnFormat)})}function SP(t){return Ie(this,arguments,void 0,function*(e,n=e.defaultBlock,r=!1,i){var s;let o;if(ms(n)){const l=j({format:"bytes32"},n,re);o=yield Mq(e.requestManager,l,r)}else{const l=gt(n)?n:j({format:"uint"},n,re);o=yield GN(e.requestManager,l,r)}const a=j(qf,o,i??e.defaultReturnFormat);return N(a)?a:Object.assign(Object.assign({},a),{transactions:(s=a.transactions)!==null&&s!==void 0?s:[]})})}function jG(t){return Ie(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let i;if(ms(n)){const s=j({format:"bytes32"},n,re);i=yield Sq(e.requestManager,s)}else{const s=gt(n)?n:j({format:"uint"},n,re);i=yield Iq(e.requestManager,s)}return j({format:"uint"},i,r??e.defaultReturnFormat)})}function MG(t){return Ie(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let i;if(ms(n)){const s=j({format:"bytes32"},n,re);i=yield Tq(e.requestManager,s)}else{const s=gt(n)?n:j({format:"uint"},n,re);i=yield Cq(e.requestManager,s)}return j({format:"uint"},i,r??e.defaultReturnFormat)})}function DG(t){return Ie(this,arguments,void 0,function*(e,n=e.defaultBlock,r,i){const s=j({format:"uint"},r,re);let o;if(ms(n)){const a=j({format:"bytes32"},n,re);o=yield Uq(e.requestManager,a,s)}else{const a=gt(n)?n:j({format:"uint"},n,re);o=yield Hq(e.requestManager,a,s)}return j(qf,o,i??e.defaultReturnFormat)})}function LG(t,e){return Ie(this,arguments,void 0,function*(n,r,i=n.defaultReturnFormat){const s=j({format:"bytes32"},r,Ut),o=yield Dq(n.requestManager,s);return N(o)?o:on(o,i,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})})}function BG(t,e){return Ie(this,void 0,void 0,function*(){return(yield Zq(t.requestManager)).map(r=>on(r,e??t.defaultReturnFormat,{transactionSchema:t.config.customTransactionSchema,fillInputAndData:!0}))})}function FG(t){return Ie(this,arguments,void 0,function*(e,n=e.defaultBlock,r,i){const s=j({format:"uint"},r,re);let o;if(ms(n)){const a=j({format:"bytes32"},n,re);o=yield Lq(e.requestManager,a,s)}else{const a=gt(n)?n:j({format:"uint"},n,re);o=yield Bq(e.requestManager,a,s)}return N(o)?o:on(o,i??e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})})}function IP(t,e,n){return Ie(this,void 0,void 0,function*(){const r=j({format:"bytes32"},e,Ut);let i;try{i=yield Fq(t.requestManager,r)}catch(s){if(typeof s=="object"&&!N(s)&&"message"in s&&s.message==="transaction indexing is in progress")console.warn("Transaction indexing is in progress.");else throw s}return N(i)?i:j(pl,i,n??t.defaultReturnFormat)})}function TP(t,e){return Ie(this,arguments,void 0,function*(n,r,i=n.defaultBlock,s){const o=gt(i)?i:j({format:"uint"},i,re),a=yield Aq(n.requestManager,r,o);return j({format:"uint"},a,s??n.defaultReturnFormat)})}function mu(t,e,n,r={checkRevertBeforeSending:!0},i){const s=new zN((o,a)=>{setImmediate(()=>{Ie(this,void 0,void 0,function*(){const l=new AP({web3Context:t,promiEvent:s,options:r,returnFormat:n});let c=Object.assign({},e);N(i)||(c=yield i.processTransaction(c));let u=on(Object.assign(Object.assign({},c),{from:Ty("from",t,c),to:Ty("to",t,c)}),re,{transactionSchema:t.config.customTransactionSchema});try{u=yield l.populateGasPrice({transaction:c,transactionFormatted:u}),yield l.checkRevertBeforeSending(u),l.emitSending(u);let d;t.wallet&&!N(u.from)&&(d=t.wallet.get(u.from));const f=yield l.signAndSend({wallet:d,tx:u}),p=j({format:"bytes32"},f,n??t.defaultReturnFormat);l.emitSent(u),l.emitTransactionHash(p);const y=yield eP(t,f,n??t.defaultReturnFormat),v=l.getReceiptWithEvents(j(pl,y,n??t.defaultReturnFormat));l.emitReceipt(v),o(yield l.handleResolve({receipt:v,tx:u})),l.emitConfirmation({receipt:v,transactionHash:f})}catch(d){a(yield l.handleError({error:d,tx:u}))}})})});return s}function UG(t,e,n,r={checkRevertBeforeSending:!0}){const i=new zN((s,o)=>{setImmediate(()=>{Ie(this,void 0,void 0,function*(){const a=new AP({web3Context:t,promiEvent:i,options:r,returnFormat:n}),l=j({format:"bytes"},e,re),c=fo.fromSerializedData(yr(je(l))),u=Object.assign(Object.assign({},c.toJSON()),{from:c.getSenderAddress().toString()});try{const{v:d,r:f,s:p}=u,y=TG(u,["v","r","s"]);yield a.checkRevertBeforeSending(y),a.emitSending(l);const v=yield ky(t,()=>Ie(this,void 0,void 0,function*(){return VN(t.requestManager,l)}));a.emitSent(l);const w=j({format:"bytes32"},v,n??t.defaultReturnFormat);a.emitTransactionHash(w);const g=yield eP(t,v,n??t.defaultReturnFormat),m=a.getReceiptWithEvents(j(pl,g,n??t.defaultReturnFormat));a.emitReceipt(m),s(yield a.handleResolve({receipt:m,tx:u})),a.emitConfirmation({receipt:m,transactionHash:v})}catch(d){o(yield a.handleError({error:d,tx:u}))}})})});return i}function HG(t,e,n){return Ie(this,arguments,void 0,function*(r,i,s,o=r.defaultReturnFormat){var a;const l=j({format:"bytes"},i,Ut);if(!((a=r.wallet)===null||a===void 0)&&a.get(s)){const d=r.wallet.get(s).sign(l);return j(SV,d,o)}if(typeof s=="number")throw new F8(i,'RPC method "eth_sign" does not support index signatures');const c=yield Nq(r.requestManager,s,l);return j({format:"bytes"},c,o)})}function $G(t,e){return Ie(this,arguments,void 0,function*(n,r,i=n.defaultReturnFormat){const s=yield Pq(n.requestManager,on(r,re,{transactionSchema:n.config.customTransactionSchema}));return tw(s)?kV(s,i,{fillInputAndData:!0}):{raw:j({format:"bytes"},s.raw,i),tx:on(s.tx,i,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})}})}function zw(t,e){return Ie(this,arguments,void 0,function*(n,r,i=n.defaultBlock,s=n.defaultReturnFormat){const o=gt(i)?i:j({format:"uint"},i,re),a=yield Oq(n.requestManager,on(r,re,{transactionSchema:n.config.customTransactionSchema}),o);return j({format:"bytes"},a,s)})}function qw(t,e){return Ie(this,arguments,void 0,function*(n,r,i=n.defaultBlock,s){const o=on(r,re,{transactionSchema:n.config.customTransactionSchema}),a=gt(i)?i:j({format:"uint"},i,re),l=yield jq(n.requestManager,o,a);return j({format:"uint"},l,s??n.defaultReturnFormat)})}function CP(t,e,n){return Ie(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:i}=e;N(r)||(typeof r=="number"||typeof r=="bigint")&&(r=ct(r)),N(i)||(typeof i=="number"||typeof i=="bigint")&&(i=ct(i));const s=Object.assign(Object.assign({},e),{fromBlock:i,toBlock:r});return(yield Qq(t.requestManager,s)).map(l=>typeof l=="string"?l:j(fl,l,n??t.defaultReturnFormat))})}function kP(t,e){return Ie(this,void 0,void 0,function*(){const n=yield eV(t.requestManager);return j({format:"uint"},n,e??t.defaultReturnFormat)})}function zG(t,e,n){return Ie(this,arguments,void 0,function*(r,i,s,o=r.defaultBlock,a){const l=s.map(d=>j({format:"bytes"},d,re)),c=gt(o)?o:j({format:"uint"},o,re),u=yield tV(r.requestManager,i,l,c);return j(CV,u,a??r.defaultReturnFormat)})}function qG(t,e){return Ie(this,arguments,void 0,function*(n,r,i=n.defaultBlock,s,o){const a=j({format:"uint"},r,re),l=gt(i)?i:j({format:"uint"},i,re),c=j({type:"array",items:{format:"uint"}},s,um),u=yield Jq(n.requestManager,a,l,c);return j(IV,u,o??n.defaultReturnFormat)})}function NP(t,e){return Ie(this,arguments,void 0,function*(n,r,i=n.defaultBlock,s){const o=gt(i)?i:j({format:"uint"},i,re),a=yield rV(n.requestManager,on(r,re,{transactionSchema:n.config.customTransactionSchema}),o);return j(xV,a,s??n.defaultReturnFormat)})}function VG(t,e,n,r,i){return Ie(this,void 0,void 0,function*(){const s=yield iV(t.requestManager,e,n,r);return j({format:"bytes"},s,i??t.defaultReturnFormat)})}var ml=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function GG(t,e){return ml(this,void 0,void 0,function*(){const n=yield qq(t.requestManager);return j({format:"uint"},n,e??t.defaultReturnFormat)})}function WG(t,e,n){return ml(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:i}=e;N(r)||(typeof r=="number"||typeof r=="bigint")&&(r=ct(r)),N(i)||(typeof i=="number"||typeof i=="bigint")&&(i=ct(i));const s=Object.assign(Object.assign({},e),{fromBlock:i,toBlock:r}),o=yield $q(t.requestManager,s);return j({format:"uint"},o,n??t.defaultReturnFormat)})}function QG(t,e){return ml(this,void 0,void 0,function*(){const n=yield zq(t.requestManager);return j({format:"uint"},n,e??t.defaultReturnFormat)})}function KG(t,e){return ml(this,void 0,void 0,function*(){return yield Vq(t.requestManager,ct(e))})}function YG(t,e,n){return ml(this,void 0,void 0,function*(){return(yield Gq(t.requestManager,ct(e))).map(s=>typeof s=="string"?s:j(fl,s,n??t.defaultReturnFormat))})}function JG(t,e,n){return ml(this,void 0,void 0,function*(){return(yield Wq(t.requestManager,ct(e))).map(s=>typeof s=="string"?s:j(fl,s,n??t.defaultReturnFormat))})}class PP extends Qu{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return j(fl,e,super.returnFormat)}}class O1 extends Qu{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(e){return j({format:"string"},e,super.returnFormat)}}class Qf extends Qu{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(e){return j(EV,e,super.returnFormat)}}class RP extends Qu{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if(typeof e=="boolean")this.emit("changed",e);else{const n=Object.fromEntries(Object.entries((e==null?void 0:e.status)||e).map(([r,i])=>[r.charAt(0).toLowerCase()+r.substring(1),i]));this.emit("changed",e.syncing),this.emit("data",j(AV,n,super.returnFormat))}}}var ie=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const My={logs:PP,newPendingTransactions:O1,newHeads:Qf,syncing:RP,pendingTransactions:O1,newBlockHeaders:Qf};class pm extends tn{constructor(e){if(typeof e=="string"||Bf(e)){super({provider:e,registeredSubscriptions:My});return}if(e.registeredSubscriptions){super(e);return}super(Object.assign(Object.assign({},e),{registeredSubscriptions:My})),this.getFeeData=this.calculateFeeData}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}getProtocolVersion(){return ie(this,void 0,void 0,function*(){return pq(this.requestManager)})}isSyncing(){return ie(this,void 0,void 0,function*(){return qN(this.requestManager)})}getCoinbase(){return ie(this,void 0,void 0,function*(){return mq(this.requestManager)})}isMining(){return ie(this,void 0,void 0,function*(){return gq(this.requestManager)})}getHashrate(e){return ie(this,void 0,void 0,function*(){var n;return e===void 0&&(e=(n=this.defaultReturnFormat)!==null&&n!==void 0?n:Ut),this.getHashRate(e)})}getHashRate(){return ie(this,arguments,void 0,function*(e=this.defaultReturnFormat){return kG(this,e)})}getGasPrice(){return ie(this,arguments,void 0,function*(e=this.defaultReturnFormat){return Hw(this,e)})}getMaxPriorityFeePerGas(){return ie(this,arguments,void 0,function*(e=this.defaultReturnFormat){return NG(this,e)})}calculateFeeData(){return ie(this,arguments,void 0,function*(e=BigInt(2),n=Xp.Gwei){var r;const i=yield this.getBlock(void 0,!1),s=(r=i==null?void 0:i.baseFeePerGas)!==null&&r!==void 0?r:void 0;let o;try{o=yield this.getGasPrice()}catch{}let a;try{a=yield this.getMaxPriorityFeePerGas()}catch{}let l;if(s){a=a??n;let c;typeof e=="number"?c=BigInt(Math.floor(e*1e3))/BigInt(1e3):c=e,l=s*c+a}return{gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:a,baseFeePerGas:s}})}getAccounts(){return ie(this,void 0,void 0,function*(){var e;return((e=yield wq(this.requestManager))!==null&&e!==void 0?e:[]).map(r=>_r(r))})}getBlockNumber(){return ie(this,arguments,void 0,function*(e=this.defaultReturnFormat){return $w(this,e)})}getBalance(e){return ie(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return PG(this,n,r,i)})}getStorageAt(e,n){return ie(this,arguments,void 0,function*(r,i,s=this.defaultBlock,o=this.defaultReturnFormat){return RG(this,r,i,s,o)})}getCode(e){return ie(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return OG(this,n,r,i)})}getBlock(){return ie(this,arguments,void 0,function*(e=this.defaultBlock,n=!1,r=this.defaultReturnFormat){return SP(this,e,n,r)})}getBlockTransactionCount(){return ie(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return jG(this,e,n)})}getBlockUncleCount(){return ie(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return MG(this,e,n)})}getUncle(){return ie(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return DG(this,e,n,r)})}getTransaction(e){return ie(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const i=yield LG(this,n,r);if(!i)throw new $E;return i})}getPendingTransactions(){return ie(this,arguments,void 0,function*(e=this.defaultReturnFormat){return BG(this,e)})}getTransactionFromBlock(){return ie(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return FG(this,e,n,r)})}getTransactionReceipt(e){return ie(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const i=yield IP(this,n,r);if(!i)throw new $E;return i})}getTransactionCount(e){return ie(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return TP(this,n,r,i)})}sendTransaction(e,n=this.defaultReturnFormat,r){return mu(this,e,n,r,this.transactionMiddleware)}sendSignedTransaction(e,n=this.defaultReturnFormat,r){return UG(this,e,n,r)}sign(e,n){return ie(this,arguments,void 0,function*(r,i,s=this.defaultReturnFormat){return HG(this,r,i,s)})}signTransaction(e){return ie(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return $G(this,n,r)})}call(e){return ie(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return zw(this,n,r,i)})}estimateGas(e){return ie(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return qw(this,n,r,i)})}getPastLogs(e){return ie(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return CP(this,n,r)})}getWork(){return ie(this,void 0,void 0,function*(){return Kq(this.requestManager)})}submitWork(e,n,r){return ie(this,void 0,void 0,function*(){return Yq(this.requestManager,e,n,r)})}requestAccounts(){return ie(this,void 0,void 0,function*(){return Xq(this.requestManager)})}getChainId(){return ie(this,arguments,void 0,function*(e=this.defaultReturnFormat){return kP(this,e)})}getNodeInfo(){return ie(this,void 0,void 0,function*(){return nV(this.requestManager)})}getProof(e,n){return ie(this,arguments,void 0,function*(r,i,s=this.defaultBlock,o=this.defaultReturnFormat){return zG(this,r,i,s,o)})}getFeeHistory(e){return ie(this,arguments,void 0,function*(n,r=this.defaultBlock,i,s=this.defaultReturnFormat){return qG(this,n,r,i,s)})}createAccessList(e){return ie(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return NP(this,n,r,i)})}signTypedData(e,n,r,i){return ie(this,void 0,void 0,function*(){var s;return r===void 0&&(r=!1),i===void 0&&(i=(s=this.defaultReturnFormat)!==null&&s!==void 0?s:Ut),VG(this,e,n,r,i)})}subscribe(e,n,r){return ie(this,void 0,void 0,function*(){var i,s;r===void 0&&(r=(i=this.defaultReturnFormat)!==null&&i!==void 0?i:Ut);const o=yield(s=this.subscriptionManager)===null||s===void 0?void 0:s.subscribe(e,n,r);return o instanceof PP&&e==="logs"&&typeof n=="object"&&!Y(n.fromBlock)&&Number.isFinite(Number(n.fromBlock))&&setImmediate(()=>{this.getPastLogs(n).then(a=>{for(const l of a)o._processSubscriptionResult(l)}).catch(a=>{o._processSubscriptionError(a)})}),o})}static shouldClearSubscription({sub:e}){return!(e instanceof RP)}clearSubscriptions(e=!1){var n;return(n=this.subscriptionManager)===null||n===void 0?void 0:n.unsubscribe(e?pm.shouldClearSubscription:void 0)}createNewPendingTransactionFilter(){return ie(this,arguments,void 0,function*(e=this.defaultReturnFormat){return GG(this,e)})}createNewFilter(e){return ie(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return WG(this,n,r)})}createNewBlockFilter(){return ie(this,arguments,void 0,function*(e=this.defaultReturnFormat){return QG(this,e)})}uninstallFilter(e){return ie(this,void 0,void 0,function*(){return KG(this,e)})}getFilterChanges(e){return ie(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return YG(this,n,r)})}getFilterLogs(e){return ie(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return JG(this,n,r)})}}const ZG=t=>{if(!N(t.common)){if(N(t.common.customChain))throw new z8;if(N(t.common.customChain.chainId))throw new q8;if(!N(t.chainId)&&t.chainId!==t.common.customChain.chainId)throw new V8({txChainId:t.chainId,customChainId:t.common.customChain.chainId})}},XG=t=>{if(!N(t.common)&&!N(t.chain)&&!N(t.hardfork))throw new Q8;if(!N(t.chain)&&N(t.hardfork)||!N(t.hardfork)&&N(t.chain))throw new K8({chain:t.chain,hardfork:t.hardfork})},eW=t=>{if(!N(t.common)&&!N(t.common.baseChain)&&!N(t.chain)&&t.chain!==t.common.baseChain)throw new G8({txChain:t.chain,baseChain:t.common.baseChain})},tW=t=>{if(!N(t.common)&&!N(t.common.hardfork)&&!N(t.hardfork)&&t.hardfork!==t.common.hardfork)throw new W8({txHardfork:t.hardfork,commonHardfork:t.common.hardfork})},j1=t=>{if(N(t.gas)||!ii(t.gas)||N(t.gasPrice)||!ii(t.gasPrice))throw new eH({gas:t.gas,gasPrice:t.gasPrice});if(!N(t.maxFeePerGas)||!N(t.maxPriorityFeePerGas))throw new ok({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas})},M1=t=>{if(!N(t.gasPrice)&&t.type==="0x2")throw new nH(t.gasPrice);if(t.type==="0x0"||t.type==="0x1")throw new ok({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas});if(N(t.maxFeePerGas)||!ii(t.maxFeePerGas)||N(t.maxPriorityFeePerGas)||!ii(t.maxPriorityFeePerGas))throw new tH({maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},nW=t=>{const e=!N(t.gas)||!N(t.gasLimit),n=e&&!N(t.gasPrice),r=e&&!N(t.maxPriorityFeePerGas)&&!N(t.maxFeePerGas);if(!n&&!r)throw new J8({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});if(n&&r)throw new X8({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});(n?j1:M1)(t),(!N(t.type)&&t.type>"0x1"?M1:j1)(t)},rW=(t,e,n={transactionSchema:void 0})=>{if(!N(e)){e(t);return}if(typeof t!="object"||N(t))throw new rH(t);ZG(t),XG(t),eW(t),tW(t);const r=on(t,re,{transactionSchema:n.transactionSchema});if(nW(r),N(r.nonce)||N(r.chainId)||r.nonce.startsWith("-")||r.chainId.startsWith("-"))throw new iH({nonce:t.nonce,chainId:t.chainId})};var iW=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const sW=t=>{var e,n;return Object.assign(Object.assign({},t),{nonce:t.nonce,gasPrice:t.gasPrice,gasLimit:(e=t.gasLimit)!==null&&e!==void 0?e:t.gas,to:t.to,value:t.value,data:(n=t.data)!==null&&n!==void 0?n:t.input,type:t.type,chainId:t.chainId,accessList:t.accessList,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},oW=(t,e)=>{var n,r,i,s,o,a,l,c,u,d,f,p,y,v,w,g,m,_;const b=!N(t.chain)&&!N(t.hardfork)||!N(t.common);let A;if(!b)e.defaultCommon?(A=Object.assign({},e.defaultCommon),N(A.hardfork)&&(A.hardfork=(n=t.hardfork)!==null&&n!==void 0?n:e.defaultHardfork),N(A.baseChain)&&(A.baseChain=e.defaultChain)):A=it.custom({name:"custom-network",chainId:en(t.chainId),networkId:N(t.networkId)?void 0:en(t.networkId),defaultHardfork:(r=t.hardfork)!==null&&r!==void 0?r:e.defaultHardfork},{baseChain:e.defaultChain});else{const T=(a=(o=(s=(i=t==null?void 0:t.common)===null||i===void 0?void 0:i.customChain)===null||s===void 0?void 0:s.name)!==null&&o!==void 0?o:t.chain)!==null&&a!==void 0?a:"custom-network",k=en((u=(c=(l=t==null?void 0:t.common)===null||l===void 0?void 0:l.customChain)===null||c===void 0?void 0:c.chainId)!==null&&u!==void 0?u:t==null?void 0:t.chainId),E=en((p=(f=(d=t==null?void 0:t.common)===null||d===void 0?void 0:d.customChain)===null||f===void 0?void 0:f.networkId)!==null&&p!==void 0?p:t==null?void 0:t.networkId),U=(w=(v=(y=t==null?void 0:t.common)===null||y===void 0?void 0:y.hardfork)!==null&&v!==void 0?v:t==null?void 0:t.hardfork)!==null&&w!==void 0?w:e.defaultHardfork,C=(_=(m=(g=t.common)===null||g===void 0?void 0:g.baseChain)!==null&&m!==void 0?m:t.chain)!==null&&_!==void 0?_:e.defaultChain;k&&E&&T&&(A=it.custom({name:T,chainId:k,networkId:E,defaultHardfork:U},{baseChain:C}))}return{common:A}},aW=(t,e,n,...r)=>iW(void 0,[t,e,n,...r],void 0,function*(i,s,o,a=!1,l=!0){const c=yield MV({transaction:i,web3Context:s,privateKey:o,fillGasPrice:a,fillGasLimit:l}),u=on(c,re,{transactionSchema:s.config.customTransactionSchema});return rW(u,void 0,{transactionSchema:s.config.customTransactionSchema}),fo.fromTxData(sW(u),oW(u,s))}),D1=({address:t},e,n)=>{var r,i;const s=n==null?void 0:n.topics,o=(r=n==null?void 0:n.filter)!==null&&r!==void 0?r:{},a={};if(Y(n==null?void 0:n.fromBlock)||(a.fromBlock=j(qf.properties.number,n==null?void 0:n.fromBlock,{number:Cn.HEX,bytes:ni.HEX})),Y(n==null?void 0:n.toBlock)||(a.toBlock=j(qf.properties.number,n==null?void 0:n.toBlock,{number:Cn.HEX,bytes:ni.HEX})),s&&Array.isArray(s))a.topics=[...s];else if(a.topics=[],e&&!e.anonymous&&![Va,"allEvents"].includes(e.name)&&a.topics.push((i=e.signature)!==null&&i!==void 0?i:Dw(Wr(e))),![Va,"allEvents"].includes(e.name)&&e.inputs)for(const l of e.inputs){if(!l.indexed)continue;const c=o[l.name];if(!c){a.topics.push(null);continue}Array.isArray(c)?a.topics.push(c.map(u=>Oy(l.type,u))):l.type==="string"?a.topics.push(Fa(c)):a.topics.push(Oy(l.type,c))}return a.topics.length||delete a.topics,t&&(a.address=t.toLowerCase()),a},fc=(t,e,n)=>{const r=Array.isArray(t.inputs)?t.inputs.length:0;if(t.inputs&&r!==e.length)throw new Ht(`The number of arguments is not matching the methods required number. You need to pass ${r} arguments.`);let i;if(t.inputs?i=fm(Array.isArray(t.inputs)?t.inputs:[],e).replace("0x",""):i=_G(e).replace("0x",""),HV(t)){if(!n)throw new Ht("The contract has no contract data option set. This is necessary to append the constructor parameters.");return n.startsWith("0x")?`${n}${i}`:`0x${n}${i}`}return`${pu(t)}${i}`};class OP extends Qu{constructor(e,n){super(e,n),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(e){return Uw(this.abi,e,this.jsonInterface,super.returnFormat)}}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));const mm=(t,e,n,r)=>{var i,s;const o={};return(!Y(t.data)||r==="both")&&(o.data=fc(e,n,(i=t.data)!==null&&i!==void 0?i:t.input)),(!Y(t.input)||r==="both")&&(o.input=fc(e,n,(s=t.input)!==null&&s!==void 0?s:t.data)),Y(o.input)&&Y(o.data)&&(o[r]=fc(e,n)),{data:o.data,input:o.input}},Dy=({abi:t,params:e,options:n,contractOptions:r})=>{var i,s,o;if(!((o=(s=(i=n==null?void 0:n.input)!==null&&i!==void 0?i:n==null?void 0:n.data)!==null&&s!==void 0?s:r.input)!==null&&o!==void 0?o:r.data)&&!(n!=null&&n.to)&&!r.address)throw new Ht("Contract address not specified");if(!(n!=null&&n.from)&&!r.from)throw new Ht('Contract "from" address not specified');let l=ys({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const c=mm(l,t,e,n==null?void 0:n.dataInputFill);return l=Object.assign(Object.assign({},l),{data:c.data,input:c.input}),l},lW=({abi:t,params:e,options:n,contractOptions:r})=>{if(!(n!=null&&n.to)&&!r.address)throw new Ht("Contract address not specified");let i=ys({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const s=mm(i,t,e,n==null?void 0:n.dataInputFill);return i=Object.assign(Object.assign({},i),{data:s.data,input:s.input}),i},cW=({abi:t,params:e,options:n,contractOptions:r})=>{let i=ys({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,data:r.data},n);const s=mm(i,t,e,n==null?void 0:n.dataInputFill);return i=Object.assign(Object.assign({},i),{data:s.data,input:s.input}),i},L1=t=>typeof t=="object"&&!Y(t)&&Object.keys(t).length!==0&&!Ri(t),uW=({abi:t,params:e,options:n,contractOptions:r})=>{if(!(n!=null&&n.to)&&!r.address)throw new Ht("Contract address not specified");if(!(n!=null&&n.from)&&!r.from)throw new Ht('Contract "from" address not specified');let i=ys({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const s=mm(i,t,e,n==null?void 0:n.dataInputFill);return i=Object.assign(Object.assign({},i),{data:s.data,input:s.input}),i};var dW=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class hW{_contractMethodDeploySend(e){const n={transactionResolver:r=>{if(r.status===BigInt(0))throw new Ht("code couldn't be stored",r);const i=this.parent.clone();return i.options.address=r.contractAddress,i},contractAbi:this.parent.options.jsonInterface,checkRevertBeforeSending:!1};return N(this.parent.getTransactionMiddleware())?mu(this.parent,e,this.parent.defaultReturnFormat,n):mu(this.parent,e,this.parent.defaultReturnFormat,n,this.parent.getTransactionMiddleware())}constructor(e,n){this.parent=e,this.deployOptions=n;const{args:r,abi:i,contractOptions:s,deployData:o}=this.calculateDeployParams();this.args=r,this.constructorAbi=i,this.contractOptions=s,this.deployData=o}send(e){const n=Object.assign({},e),r=this.populateTransaction(n);return this._contractMethodDeploySend(r)}populateTransaction(e){var n,r;const i=Object.assign(Object.assign({},this.contractOptions),{from:(r=(n=this.contractOptions.from)!==null&&n!==void 0?n:this.parent.defaultAccount)!==null&&r!==void 0?r:void 0}),s=Dy({abi:this.constructorAbi,params:this.args,options:Object.assign(Object.assign({},e),{dataInputFill:this.parent.contractDataInputFill}),contractOptions:i});return s.dataInputFill&&delete s.dataInputFill,s}calculateDeployParams(){var e,n,r,i,s,o;let a=this.parent.options.jsonInterface.find(p=>p.type==="constructor");a||(a={type:"constructor",stateMutability:""});const l=j({format:"bytes"},(n=(e=this.deployOptions)===null||e===void 0?void 0:e.input)!==null&&n!==void 0?n:this.parent.options.input,Ut),c=j({format:"bytes"},(i=(r=this.deployOptions)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:this.parent.options.data,Ut);if((!l||l.trim()==="0x")&&(!c||c.trim()==="0x"))throw new Ht("contract creation without any data provided.");const u=(o=(s=this.deployOptions)===null||s===void 0?void 0:s.arguments)!==null&&o!==void 0?o:[],d=Object.assign(Object.assign({},this.parent.options),{input:l,data:c});return{args:u,abi:a,contractOptions:d,deployData:l??c}}estimateGas(e){return dW(this,arguments,void 0,function*(n,r=this.parent.defaultReturnFormat){const i=Object.assign({},n);return this.parent.contractMethodEstimateGas({abi:this.constructorAbi,params:this.args,returnFormat:r,options:i,contractOptions:this.contractOptions})})}encodeABI(){return fc(this.constructorAbi,this.args,j({format:"bytes"},this.deployData,this.parent.defaultReturnFormat))}decodeData(e){return Object.assign(Object.assign({},jy(this.constructorAbi,e.replace(this.deployData,""),!1)),{__method__:this.constructorAbi.type})}}var fW=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class pW extends Ff{constructor(e,n){super(e.requestManager,e.registeredSubscriptions),this.parentContract=n}subscribe(e,n){const r=Object.create(null,{subscribe:{get:()=>super.subscribe}});return fW(this,arguments,void 0,function*(i,s,o=Ut){return r.subscribe.call(this,i,s??this.parentContract.options,o)})}}var ws=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const mW={logs:OP,newHeads:Qf,newBlockHeaders:Qf};class Gs extends tn{get subscriptionManager(){return this._subscriptionManager}constructor(e,n,r,i,s){var o,a,l;const c=Ri(n)?n:Ri(r)?r:void 0;let u;L1(n)?u=n:L1(r)?u=r:u=i;let d;if(typeof n=="object"&&"provider"in n?d=n.provider:typeof r=="object"&&"provider"in r?d=r.provider:typeof i=="object"&&"provider"in i?d=i.provider:d=Gs.givenProvider,super(Object.assign(Object.assign({},u),{provider:d,registeredSubscriptions:mW})),this.syncWithContext=!1,this._functions={},this._subscriptionManager=new pW(super.subscriptionManager,this),u!=null&&u.wallet&&(this._wallet=u.wallet),u!=null&&u.accountProvider&&(this._accountProvider=u.accountProvider),!N(c)&&!N(c.data)&&!N(c.input)&&this.config.contractDataInputFill!=="both")throw new O8({data:c.data,input:c.input});this._overloadedMethodAbis=new Map;const f=Pr(i)?i:Pr(r)?r:s??this.defaultReturnFormat,p=typeof n=="string"?n:void 0;this.config.contractDataInputFill=(o=c==null?void 0:c.dataInputFill)!==null&&o!==void 0?o:this.config.contractDataInputFill,this._parseAndSetJsonInterface(e,f),this.defaultReturnFormat!==f&&(this.defaultReturnFormat=f),N(p)||this._parseAndSetAddress(p,f),this.options={address:p,jsonInterface:this._jsonInterface,gas:(a=c==null?void 0:c.gas)!==null&&a!==void 0?a:c==null?void 0:c.gasLimit,gasPrice:c==null?void 0:c.gasPrice,from:c==null?void 0:c.from,input:c==null?void 0:c.input,data:c==null?void 0:c.data},this.syncWithContext=(l=c==null?void 0:c.syncWithContext)!==null&&l!==void 0?l:!1,u instanceof tn&&this.subscribeToContextEvents(u),Object.defineProperty(this.options,"address",{set:y=>this._parseAndSetAddress(y,f),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:y=>this._parseAndSetJsonInterface(y,f),get:()=>this._jsonInterface}),u instanceof tn&&u.on(uo.CONFIG_CHANGE,y=>{this.setConfig({[y.name]:y.newValue})})}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}get events(){return this._events}get methods(){return this._methods}clone(){let e;return this.options.address?e=new Gs([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):e=new Gs([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){return new hW(this,e)}getPastEvents(e,n,r){return ws(this,void 0,void 0,function*(){var i;const s=typeof e=="string"?e:Va,o=typeof e!="string"&&!Pr(e)?e:Pr(n)?{}:n,a=Pr(e)?e:Pr(n)?n:r??this.defaultReturnFormat,l=s==="allEvents"||s===Va?Iy:this._jsonInterface.find(g=>"name"in g&&g.name===s);if(!l)throw new Ht(`Event ${String(s)} not found.`);const{fromBlock:c,toBlock:u,topics:d,address:f}=D1(this.options,l,o??{}),p=yield CP(this,{fromBlock:c,toBlock:u,topics:d,address:f},a),y=p?p.map(g=>typeof g=="string"?g:Uw(l,g,this._jsonInterface,a)):[],v=(i=o==null?void 0:o.filter)!==null&&i!==void 0?i:{},w=Object.keys(v);return w.length>0?y.filter(g=>typeof g=="string"?!0:w.every(m=>{var _;if(Array.isArray(v[m]))return v[m].some(A=>String(g.returnValues[m]).toUpperCase()===String(A).toUpperCase());const b=(_=l.inputs)===null||_===void 0?void 0:_.filter(A=>A.name===m)[0];return b!=null&&b.indexed&&b.type==="string"&&Fa(v[m])===String(g.returnValues[m])?!0:String(g.returnValues[m]).toUpperCase()===String(v[m]).toUpperCase()})):y})}_parseAndSetAddress(e,n=this.defaultReturnFormat){this._address=e&&_r(j({format:"address"},e,n))}decodeMethodData(e){const n=e.slice(0,10),i=this._jsonInterface.filter(s=>s.type!=="error").find(s=>n===pu(Wr(s)));if(!i)throw new Ht(`The ABI for the provided method signature ${n} was not found.`);return jy(i,e)}_parseAndSetJsonInterface(e,n=this.defaultReturnFormat){var r,i;this._functions={},this._methods={},this._events={};let s=[];const o=e.filter(l=>l.type!=="error"),a=e.filter(l=>dm(l));for(const l of o){const c=Object.assign(Object.assign({},l),{signature:""});if(hm(c)){const u=Wr(c),d=pu(u);c.methodNameWithInputs=u,c.signature=d,c.constant=c.stateMutability==="view"||c.stateMutability==="pure"||c.constant,c.payable=c.stateMutability==="payable"||c.payable,this._overloadedMethodAbis.set(c.name,[...(r=this._overloadedMethodAbis.get(c.name))!==null&&r!==void 0?r:[],c]);const f=(i=this._overloadedMethodAbis.get(c.name))!==null&&i!==void 0?i:[],p=this._createContractMethod(f,a),y=this._createContractMethod(f,a,!0);this._functions[u]={signature:d,method:y},this._methods[c.name]=p,this._methods[u]=y,this._methods[d]=y}else if(Mw(c)){const u=Wr(c),d=Dw(u),f=this._createContractEvent(c,n);c.signature=d,(!(u in this._events)||c.name==="bound")&&(this._events[u]=f),this._events[c.name]=f,this._events[d]=f}s=[...s,c]}this._events.allEvents=this._createContractEvent(Iy,n),this._jsonInterface=[...s],this._errorsInterface=a}_getAbiParams(e,n){var r;try{return hc((r=e.inputs)!==null&&r!==void 0?r:[],n)}catch(i){throw new Ht(`Invalid parameters for method ${e.name}: ${i.message}`)}}_createContractMethod(e,n,r=!1){const i=e[e.length-1];return(...s)=>{var o,a,l;let c;const u=(a=r?(o=this._overloadedMethodAbis.get(i.name))===null||o===void 0?void 0:o.filter(v=>v.signature===i.signature):this._overloadedMethodAbis.get(i.name))!==null&&a!==void 0?a:[];let d=u[0];const f=n,p=u.filter(v=>{var w;return((w=v.inputs)!==null&&w!==void 0?w:[]).length===s.length});if(u.length===1||p.length===0)c=this._getAbiParams(d,s),K.validate((l=i.inputs)!==null&&l!==void 0?l:[],c);else{const v=[],w=[];for(const g of p)try{c=this._getAbiParams(g,s),K.validate(g.inputs,c),w.push(g)}catch(m){v.push(m)}if(w.length===1?[d]=w:w.length>1&&([d]=w,console.warn(`Multiple methods found that is compatible with the given inputs.
	Found ${w.length} compatible methods: ${JSON.stringify(w.map(g=>`${g.methodNameWithInputs} (signature: ${g.signature})`))} 
	The first one will be used: ${d.methodNameWithInputs}`)),v.length===p.length)throw new Da(v)}const y={arguments:c,call:(v,w)=>ws(this,void 0,void 0,function*(){return this._contractMethodCall(d,c,f,v,w)}),send:v=>this._contractMethodSend(d,c,f,v),populateTransaction:(v,w)=>{var g,m;let _=w??this.options;_=Object.assign(Object.assign({},_),{input:void 0,from:(m=(g=_==null?void 0:_.from)!==null&&g!==void 0?g:this.defaultAccount)!==null&&m!==void 0?m:void 0});const b=Dy({abi:i,params:s,options:Object.assign(Object.assign({},v),{dataInputFill:this.config.contractDataInputFill}),contractOptions:_});return b.dataInputFill&&delete b.dataInputFill,b},estimateGas:(v,...w)=>ws(this,[v,...w],void 0,function*(g,m=this.defaultReturnFormat){return this.contractMethodEstimateGas({abi:d,params:c,returnFormat:m,options:g})}),encodeABI:()=>fc(d,c),decodeData:v=>jy(d,v),createAccessList:(v,w)=>ws(this,void 0,void 0,function*(){return this._contractMethodCreateAccessList(d,c,f,v,w)})};return d.stateMutability==="payable",y}}_contractMethodCall(e,n,r,i,s){return ws(this,void 0,void 0,function*(){var o;const a=lW({abi:e,params:n,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(o=this.options.from)!==null&&o!==void 0?o:this.config.defaultAccount})});try{const l=yield zw(this,a,s,this.defaultReturnFormat);return xG(e,l)}catch(l){throw l instanceof Hs&&Xd(r,l.cause),l}})}_contractMethodCreateAccessList(e,n,r,i,s){return ws(this,void 0,void 0,function*(){var o;const a=uW({abi:e,params:n,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(o=this.options.from)!==null&&o!==void 0?o:this.config.defaultAccount})});try{return NP(this,a,s,this.defaultReturnFormat)}catch(l){throw l instanceof Hs&&Xd(r,l.cause),l}})}_contractMethodSend(e,n,r,i,s){var o,a;let l=s??this.options;l=Object.assign(Object.assign({},l),{input:void 0,from:(a=(o=l.from)!==null&&o!==void 0?o:this.defaultAccount)!==null&&a!==void 0?a:void 0});const c=Dy({abi:e,params:n,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:l}),u=N(this.transactionMiddleware)?mu(this,c,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface}):mu(this,c,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface},this.transactionMiddleware);return u.on("error",d=>{d instanceof Hs&&Xd(r,d.cause)}),u}contractMethodEstimateGas(e){return ws(this,arguments,void 0,function*({abi:n,params:r,returnFormat:i,options:s,contractOptions:o}){const a=cW({abi:n,params:r,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:o??this.options});return qw(this,a,Mr.LATEST,i??this.defaultReturnFormat)})}_createContractEvent(e,n=this.defaultReturnFormat){return(...r)=>{var i;const{topics:s,fromBlock:o}=D1(this.options,e,r[0]),a=new OP({address:this.options.address,topics:s,abi:e,jsonInterface:this._jsonInterface},{subscriptionManager:this.subscriptionManager,returnFormat:n});return N(o)||this.getPastEvents(e.name,{fromBlock:o,topics:s},n).then(l=>{l&&l.forEach(c=>a.emit("data",c))}).catch(l=>{a.emit("error",new Cr("Failed to get past events.",l))}),(i=this.subscriptionManager)===null||i===void 0||i.addSubscription(a).catch(l=>{a.emit("error",new Cr("Failed to subscribe.",l))}),a}}subscribeToContextEvents(e){const n=this;this.context=e,n.syncWithContext&&e.on(uo.CONFIG_CHANGE,r=>{n.setConfig({[r.name]:r.newValue})})}}const B1={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},Oo={setAddr:"addr",addr:"addr",setPubkey:"pubkey",pubkey:"pubkey",setContenthash:"contenthash",contenthash:"contenthash",text:"text",name:"name"},Kf={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},gW={"0x1":"main","0x5":"goerli"},yW=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],vW=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"}];var _W="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const F1=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),U1=4;function wW(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let A=1;A<r;A++)s.push(i+=n());let o=n(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const d=31,f=2**d,p=f>>>1,y=p>>1,v=f-1;let w=0;for(let A=0;A<d;A++)w=w<<1|u();let g=[],m=0,_=f;for(;;){let A=Math.floor(((w-m+1)*i-1)/_),T=0,k=r;for(;k-T>1;){let C=T+k>>>1;A<s[C]?k=C:T=C}if(T==0)break;g.push(T);let E=m+Math.floor(_*s[T]/i),U=m+Math.floor(_*s[T+1]/i)-1;for(;!((E^U)&p);)w=w<<1&v|u(),E=E<<1&v,U=U<<1&v|1;for(;E&~U&y;)w=w&p|w<<1&v>>>1|u(),E=E<<1^p,U=(U^p)<<1|p|1;m=E,_=1+U-E}let b=r-4;return g.map(A=>{switch(A-b){case 3:return b+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return b+256+(t[a++]<<8|t[a++]);case 1:return b+t[a++];default:return A-1}})}function xW(t){let e=0;return()=>t[e++]}function jP(t){return xW(wW(bW(t)))}function bW(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function EW(t){return t&1?~t>>1:t>>1}function AW(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=EW(e());return n}function gu(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function MP(t){return yu(()=>{let e=gu(t);if(e.length)return e})}function DP(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(SW(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(IW(n,t))}return e.flat()}function yu(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function LP(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)AW(t,n).forEach((s,o)=>r[o].push(s));return r}function SW(t,e){let n=1+e(),r=e(),i=yu(e);return LP(i.length,1+t,e).flatMap((o,a)=>{let[l,...c]=o;return Array(i[a]).fill().map((u,d)=>{let f=d*r;return[l+d*n,c.map(p=>p+f)]})})}function IW(t,e){let n=1+e();return LP(n,1+t,e).map(i=>[i[0],i.slice(1)])}function TW(t){let e=[],n=gu(t);return i(r([]),[]),e;function r(s){let o=t(),a=yu(()=>{let l=gu(t).map(c=>n[c]);if(l.length)return r(l)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,l){if(!(s&4&&l===a[a.length-1])){s&2&&(l=a[a.length-1]),s&1&&e.push(a);for(let c of o)for(let u of c.Q)i(c,[...a,u],l)}}}function CW(t){return t.toString(16).toUpperCase().padStart(2,"0")}function BP(t){return`{${CW(t)}}`}function kW(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Wa(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function NW(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var PW="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const vu=44032,Yf=4352,Jf=4449,Zf=4519,FP=19,UP=21,Qa=28,Xf=UP*Qa,RW=FP*Xf,OW=vu+RW,jW=Yf+FP,MW=Jf+UP,DW=Zf+Qa;function Vl(t){return t>>24&255}function HP(t){return t&16777215}let Ly,H1,By,eh;function LW(){let t=jP(PW);Ly=new Map(MP(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),H1=new Set(gu(t)),By=new Map,eh=new Map;for(let[e,n]of DP(t)){if(!H1.has(e)&&n.length==2){let[r,i]=n,s=eh.get(r);s||(s=new Map,eh.set(r,s)),s.set(i,e)}By.set(e,n.reverse())}}function $P(t){return t>=vu&&t<OW}function BW(t,e){if(t>=Yf&&t<jW&&e>=Jf&&e<MW)return vu+(t-Yf)*Xf+(e-Jf)*Qa;if($P(t)&&e>Zf&&e<DW&&(t-vu)%Qa==0)return t+(e-Zf);{let n=eh.get(t);return n&&(n=n.get(e),n)?n:-1}}function zP(t){Ly||LW();let e=[],n=[],r=!1;function i(s){let o=Ly.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if($P(s)){let o=s-vu,a=o/Xf|0,l=o%Xf/Qa|0,c=o%Qa;i(Yf+a),i(Jf+l),c>0&&i(Zf+c)}else{let o=By.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=Vl(e[0]);for(let o=1;o<e.length;o++){let a=Vl(e[o]);if(a==0||s<=a){s=a;continue}let l=o-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(s=Vl(e[--l]),s<=a))break}s=Vl(e[o])}}return e}function FW(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=Vl(s),a=HP(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let l=BW(r,a);l>=0?r=l:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function qP(t){return zP(t).map(HP)}function UW(t){return FW(zP(t))}const $1=45,VP=".",GP=65039,WP=1,ep=t=>Array.from(t);function _u(t,e){return t.P.has(e)||t.Q.has(e)}class HW extends Array{get is_emoji(){return!0}}let Fy,QP,Ls,Uy,KP,fa,Eg,Lo,Ss,z1,Hy;function Vw(){if(Fy)return;let t=jP(_W);const e=()=>gu(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(f=>u.add(f));Fy=new Map(DP(t)),QP=n(),Ls=e(),Uy=new Set(e().map(u=>Ls[u])),Ls=new Set(Ls),KP=n(),n();let i=MP(t),s=t();const o=()=>{let u=new Set;return e().forEach(d=>r(u,i[d])),r(u,e()),u};fa=yu(u=>{let d=yu(t).map(f=>f+96);if(d.length){let f=u>=s;d[0]-=32,d=Wa(d),f&&(d=`Restricted[${d}]`);let p=o(),y=o(),v=!t();return{N:d,P:p,Q:y,M:v,R:f}}}),Eg=n(),Lo=new Map;let a=e().concat(ep(Eg)).sort((u,d)=>u-d);a.forEach((u,d)=>{let f=t(),p=a[d]=f?a[d-f]:{V:[],M:new Map};p.V.push(u),Eg.has(u)||Lo.set(u,p)});for(let{V:u,M:d}of new Set(Lo.values())){let f=[];for(let y of u){let v=fa.filter(g=>_u(g,y)),w=f.find(({G:g})=>v.some(m=>g.has(m)));w||(w={G:new Set,V:[]},f.push(w)),w.V.push(y),r(w.G,v)}let p=f.flatMap(y=>ep(y.G));for(let{G:y,V:v}of f){let w=new Set(p.filter(g=>!y.has(g)));for(let g of v)d.set(g,w)}}Ss=new Set;let l=new Set;const c=u=>Ss.has(u)?l.add(u):Ss.add(u);for(let u of fa){for(let d of u.P)c(d);for(let d of u.Q)c(d)}for(let u of Ss)!Lo.has(u)&&!l.has(u)&&Lo.set(u,WP);r(Ss,qP(Ss)),z1=TW(t).map(u=>HW.from(u)).sort(NW),Hy=new Map;for(let u of z1){let d=[Hy];for(let f of u){let p=d.map(y=>{let v=y.get(f);return v||(v=new Map,y.set(f,v)),v});f===GP?d.push(...p):d=p}for(let f of d)f.V=u}}function Gw(t){return(YP(t)?"":`${Ww(gm([t]))} `)+BP(t)}function Ww(t){return`"${t}"`}function $W(t){if(t.length>=4&&t[2]==$1&&t[3]==$1)throw new Error(`invalid label extension: "${Wa(t.slice(0,4))}"`)}function zW(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function qW(t){let e=t[0],n=F1.get(e);if(n)throw pc(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=F1.get(e);if(o){if(i==s)throw pc(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw pc(`trailing ${n}`)}function gm(t,e=1/0,n=BP){let r=[];VW(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];YP(a)&&(r.push(Wa(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(Wa(t.slice(i,s))),r.join("")}function VW(t,e){return Vw(),Ls.has(t)}function YP(t){return Vw(),KP.has(t)}function GW(t){return YW(WW(t,UW,XW))}function WW(t,e,n){if(!t)return[];Vw();let r=0;return t.split(VP).map(i=>{let s=kW(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=ZW(s,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=o.output=a.flat();if(zW(u),!(o.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))$W(u),c="ASCII";else{let f=a.flatMap(p=>p.is_emoji?[]:p);if(!f.length)c="Emoji";else{if(Ls.has(u[0]))throw pc("leading combining mark");for(let v=1;v<l;v++){let w=a[v];if(!w.is_emoji&&Ls.has(w[0]))throw pc(`emoji + combining mark: "${Wa(a[v-1])} + ${gm([w[0]])}"`)}qW(u);let p=ep(new Set(f)),[y]=KW(p);JW(y,f),QW(y,p),c=y.N}}o.type=c}catch(a){o.error=a}return o})}function QW(t,e){let n,r=[];for(let i of e){let s=Lo.get(i);if(s===WP)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):ep(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>_u(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function KW(t){let e=fa;for(let n of t){let r=e.filter(i=>_u(i,n));if(!r.length)throw fa.some(i=>_u(i,n))?ZP(e[0],n):JP(n);if(e=r,r.length==1)break}return e}function YW(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${Ww(gm(e,63))}: ${i}`)}return Wa(r)}).join(VP)}function JP(t){return new Error(`disallowed character: ${Gw(t)}`)}function ZP(t,e){let n=Gw(e),r=fa.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function pc(t){return new Error(`illegal placement: ${t}`)}function JW(t,e){for(let n of e)if(!_u(t,n))throw ZP(t,n);if(t.M){let n=qP(e);for(let r=1,i=n.length;r<i;r++)if(Uy.has(n[r])){let s=r+1;for(let o;s<i&&Uy.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${Gw(o)}`);if(s-r>U1)throw new Error(`excessive non-spacing marks: ${Ww(gm(n.slice(r-1,s)))} (${s-r}/${U1})`);r=s}}}function ZW(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=eQ(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(Ss.has(o))i.push(o);else{let a=Fy.get(o);if(a)i.push(...a);else if(!QP.has(o))throw JP(o)}}}return i.length&&r.push(e(i)),r}function XW(t){return t.filter(e=>e!=GP)}function eQ(t,e){let n=Hy,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}const tQ=t=>GW(t),rr=t=>{let e="";for(let n=0;n<32;n+=1)e+="00";if(t){const r=tQ(t).split(".");for(let i=r.length-1;i>=0;i-=1){const s=gn(r[i]).slice(2);e=gn(`0x${e}${s}`).slice(2)}}return`0x${e}`};var Ed=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class nQ{constructor(e,n){this.contract=new Gs(yW,n??Kf.main,e),this.context=e}getOwner(e){return Ed(this,void 0,void 0,function*(){try{return this.contract.methods.owner(rr(e)).call()}catch{throw new Error}})}getTTL(e){return Ed(this,void 0,void 0,function*(){try{return this.contract.methods.ttl(rr(e)).call()}catch{throw new Error}})}recordExists(e){return Ed(this,void 0,void 0,function*(){try{return this.contract.methods.recordExists(rr(e)).call()}catch{throw new Error}})}getResolver(e){return Ed(this,void 0,void 0,function*(){try{return this.contract.methods.resolver(rr(e)).call().then(n=>{if(typeof n=="string")return new Gs(vW,n,this.context);throw new Error})}catch{throw new Error}})}get events(){return this.contract.events}}var Ar=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class rQ{constructor(e){this.registry=e}getResolverContractAdapter(e){return Ar(this,void 0,void 0,function*(){return this.registry.getResolver(e)})}checkInterfaceSupport(e,n){var r,i;return Ar(this,void 0,void 0,function*(){if(Y(B1[n]))throw new UE((r=e.options.address)!==null&&r!==void 0?r:"",n);if(!(yield e.methods.supportsInterface(B1[n]).call()))throw new UE((i=e.options.address)!==null&&i!==void 0?i:"",n)})}supportsInterface(e,n){var r;return Ar(this,void 0,void 0,function*(){const i=yield this.getResolverContractAdapter(e);let s=n;if(!Ae(s)){if(s=(r=Wu(n))!==null&&r!==void 0?r:"",n==="")throw new Error("Invalid interface Id");s=s.slice(0,10)}return i.methods.supportsInterface(s).call()})}getAddress(e,n=60){return Ar(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,Oo.addr),r.methods.addr(rr(e),n).call()})}getPubkey(e){return Ar(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,Oo.pubkey),n.methods.pubkey(rr(e)).call()})}getContenthash(e){return Ar(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,Oo.contenthash),n.methods.contenthash(rr(e)).call()})}setAddress(e,n,r){return Ar(this,void 0,void 0,function*(){const i=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(i,Oo.setAddr),i.methods.setAddr(rr(e),n).send(r)})}getText(e,n){return Ar(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,Oo.text),r.methods.text(rr(e),n).call()})}getName(e,n=!0){return Ar(this,void 0,void 0,function*(){const r=`${e.toLowerCase().substring(2)}.addr.reverse`,i=yield this.getResolverContractAdapter(r);return n&&(yield this.checkInterfaceSupport(i,Oo.name)),i.methods.name(rr(r)).call()})}}var xn=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class XP extends tn{constructor(e,n){super(n??""),this.registryAddress=e??Kf.main,this._registry=new nQ(this.getContextObject(),e),this._resolver=new rQ(this._registry)}getResolver(e){return xn(this,void 0,void 0,function*(){return this._registry.getResolver(e)})}recordExists(e){return xn(this,void 0,void 0,function*(){return this._registry.recordExists(e)})}getTTL(e){return xn(this,void 0,void 0,function*(){return this._registry.getTTL(e)})}getOwner(e){return xn(this,void 0,void 0,function*(){return this._registry.getOwner(e)})}getAddress(e,n=60){return xn(this,void 0,void 0,function*(){return this._resolver.getAddress(e,n)})}getText(e,n){return xn(this,void 0,void 0,function*(){return mn(e)?this._resolver.getText(yield this._resolver.getName(e,!1),n):this._resolver.getText(e,n)})}getName(e,n=!0){return xn(this,void 0,void 0,function*(){return this._resolver.getName(e,n)})}getPubkey(e){return xn(this,void 0,void 0,function*(){return this._resolver.getPubkey(e)})}getContenthash(e){return xn(this,void 0,void 0,function*(){return this._resolver.getContenthash(e)})}checkNetwork(){return xn(this,void 0,void 0,function*(){const e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){const i=yield CG(this);if(!(typeof i=="boolean"&&!i))throw new M8;this._lastSyncCheck=e}if(this._detectedAddress)return this._detectedAddress;const n=yield Rw(this,Object.assign(Object.assign({},this.defaultReturnFormat),{number:Cn.HEX})),r=Kf[gW[n]];if(typeof r>"u")throw new j8(n);return this._detectedAddress=r,this._detectedAddress})}supportsInterface(e,n){return xn(this,void 0,void 0,function*(){return this._resolver.supportsInterface(e,n)})}get events(){return this._registry.events}setAddress(e,n,r){return xn(this,void 0,void 0,function*(){return this._resolver.setAddress(e,n,r)})}}var fi=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const iQ=t=>fi(void 0,void 0,void 0,function*(){return(yield lV(t)).map(_r)}),sQ=(t,e)=>fi(void 0,void 0,void 0,function*(){K.validate(["string"],[e]);const n=yield cV(t,e);return _r(n)}),oQ=(t,e,n,r)=>fi(void 0,void 0,void 0,function*(){return K.validate(["address","string","uint"],[e,n,r]),uV(t,e,n,r)}),aQ=(t,e)=>fi(void 0,void 0,void 0,function*(){return K.validate(["address"],[e]),dV(t,e)}),lQ=(t,e,n)=>fi(void 0,void 0,void 0,function*(){return K.validate(["string","string"],[e,n]),hV(t,e,n)}),cQ=(t,e,n,r)=>fi(void 0,void 0,void 0,function*(){const i=on(e,re,{transactionSchema:r==null?void 0:r.customTransactionSchema});return fV(t,i,n)}),uQ=(t,e,n,r)=>fi(void 0,void 0,void 0,function*(){const i=on(e,re,{transactionSchema:r==null?void 0:r.customTransactionSchema});return pV(t,i,n)}),dQ=(t,e,n,r)=>fi(void 0,void 0,void 0,function*(){K.validate(["string","address","string"],[e,n,r]);const i=Ae(e)?e:Yn(e);return mV(t,i,n,r)}),hQ=(t,e,n)=>fi(void 0,void 0,void 0,function*(){K.validate(["string","string"],[e,n]);const r=Ae(e)?e:Yn(e);return gV(t,r,n)});var Sr=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class eR extends tn{getAccounts(){return Sr(this,void 0,void 0,function*(){return iQ(this.requestManager)})}newAccount(e){return Sr(this,void 0,void 0,function*(){return sQ(this.requestManager,e)})}unlockAccount(e,n,r){return Sr(this,void 0,void 0,function*(){return oQ(this.requestManager,e,n,r)})}lockAccount(e){return Sr(this,void 0,void 0,function*(){return aQ(this.requestManager,e)})}importRawKey(e,n){return Sr(this,void 0,void 0,function*(){return lQ(this.requestManager,e,n)})}sendTransaction(e,n){return Sr(this,void 0,void 0,function*(){return cQ(this.requestManager,e,n,this.config)})}signTransaction(e,n){return Sr(this,void 0,void 0,function*(){return uQ(this.requestManager,e,n,this.config)})}sign(e,n,r){return Sr(this,void 0,void 0,function*(){return dQ(this.requestManager,e,n,r)})}ecRecover(e,n){return Sr(this,void 0,void 0,function*(){return hQ(this.requestManager,e,n)})}}var ar;(function(t){t.HTTPS="https",t.WebSocket="wss"})(ar||(ar={}));var z;(function(t){t.ETH_MAINNET="eth_mainnet",t.ETH_SEPOLIA="eth_sepolia",t.ETH_HOLESKY="eth_holesky",t.POLYGON_MAINNET="polygon_mainnet",t.POLYGON_AMOY="polygon_amoy",t.AVALANCHE_C_MAINNET="avalanche_c_mainnet",t.AVALANCHE_P_MAINNET="avalanche_p_mainnet",t.AVALANCHE_X_MAINNET="avalanche_x_mainnet",t.ARBITRUM_MAINNET="arbitrum_mainnet",t.ARBITRUM_SEPOLIA="arbitrum_sepolia",t.BASE_MAINNET="base_mainnet",t.BASE_SEPOLIA="base_sepolia",t.OPTIMISM_MAINNET="optimism_mainnet",t.OPTIMISM_SEPOLIA="optimism_sepolia",t.FANTOM_MAINNET="fantom_mainnet",t.FANTOM_TESTNET="fantom_testnet",t.DYMENSION_MAINNET="dymension_mainnet",t.DYMENSION_TESTNET="dymension_testnet",t.BNB_MAINNET="bnb_mainnet",t.BNB_TESTNET="bnb_testnet",t.BSC_MAINNET="bsc_mainnet",t.BSC_TESTNET="bsc_testnet",t.ARBITRUM_ONE="arbitrum_one",t.ARBITRUM_NOVA="arbitrum_nova",t.AVALANCHE_FUJI_C="avalanche_fuji_c",t.AVALANCHE_FUJI_P="avalanche_fuji_p",t.AVALANCHE_FUJI_X="avalanche_fuji_x",t.BLAST_MAINNET="blast_mainnet",t.OPBNB_MAINNET="opbnb_mainnet",t.OPBNB_TESTNET="opbnb_testnet",t.GNOSIS_MAINNET="gnosis_mainnet",t.GNOSIS_CHIADO="gnosis_chiado",t.PULSECHAIN_MAINNET="pulsechain_mainnet",t.PULSECHAIN_TESTNET="pulsechain_testnet",t.KAVA_MAINNET="kava_mainnet",t.CRONOS_MAINNET="cronos_mainnet",t.MANTLE_MAINNET="mantle_mainnet",t.CHILIZ_MAINNET="chiliz_mainnet",t.CHILIZ_SPICY="chiliz_spicy",t.MOONBEAM_MAINNET="moonbeam_mainnet",t.TAIKO_MAINNET="taiko_mainnet",t.TAIKO_HEKLA="taiko_hekla",t.LINEA_MAINNET="linea_mainnet",t.LINEA_SEPOLIA="linea_sepolia",t.BAHAMUT_MAINNET="bahamut_mainnet",t.SCROLL_MAINNET="scroll_mainnet",t.SCROLL_SEPOLIA="scroll_sepolia",t.TRON_MAINNET="tron_mainnet",t.SYSCOIN_MAINNET="syscoin_mainnet",t.SYSCOIN_TANENBAUM="syscoin_tanenbaum",t.MOONRIVER_MAINNET="moonriver_mainnet",t.HAQQ_MAINNET="haqq_mainnet",t.EVMOS_MAINNET="evmos_mainnet",t.EVMOS_TESTNET="evmos_testnet",t.BERACHAIN_TESTNET="berachain_testnet"})(z||(z={}));const fQ=1300;class pQ extends te{constructor(e){super("You've reach the rate limit of free RPC calls from our Partner Quick Nodes. There are two options you can either create a paid Quick Nodes account and get 20% off for 2 months using WEB3JS referral code, or use Free public RPC endpoint.",e),this.code=fQ}}const mQ=1301;class q1 extends te{constructor(e){super(`Invalid provider config options given for ${e}`),this.code=mQ}}var gQ=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class tR extends mw{constructor(e,n,r,i,s){if(super(),s!==void 0&&n===ar.HTTPS&&!("providerOptions"in s))throw new q1("HTTP Provider");if(s!==void 0&&n===ar.WebSocket&&!("socketOptions"in s||"reconnectOptions"in s))throw new q1("Websocket Provider");this.transport=n,n===ar.HTTPS?this.provider=new sm(this.getRPCURL(e,n,r,i),s):n===ar.WebSocket&&(this.provider=new oN(this.getRPCURL(e,n,r,i),s==null?void 0:s.socketOptions,s==null?void 0:s.reconnectOptions))}request(e,n){return gQ(this,void 0,void 0,function*(){return this.transport===ar.HTTPS?yield this.provider.request(e,n):this.provider.request(e)})}getStatus(){return this.provider.getStatus()}supportsSubscriptions(){return this.provider.supportsSubscriptions()}once(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.once&&this.provider.once(e,n)}removeAllListeners(e){var n;!((n=this.provider)===null||n===void 0)&&n.removeAllListeners&&this.provider.removeAllListeners(e)}connect(){var e;!((e=this.provider)===null||e===void 0)&&e.connect&&this.provider.connect()}disconnect(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.disconnect&&this.provider.disconnect(e,n)}reset(){var e;!((e=this.provider)===null||e===void 0)&&e.reset&&this.provider.reset()}on(e,n){this.provider&&this.provider.on(e,n)}removeListener(e,n){this.provider&&this.provider.removeListener(e,n)}}var yQ=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const ut=t=>t!==void 0&&t.trim().length>0;class vQ extends tR{constructor(e=z.ETH_MAINNET,n=ar.HTTPS,r="",i="",s){super(e,n,r,i,s)}request(e,n){const r=Object.create(null,{request:{get:()=>super.request}});return yQ(this,void 0,void 0,function*(){try{return yield r.request.call(this,e,n)}catch(i){throw i instanceof sr&&i.statusCode===429?new pQ(i):i}})}getRPCURL(e,n,r,i){let s="",o="";switch(e){case z.ETH_MAINNET:s=ut(i)?i:"powerful-holy-bush.quiknode.pro",o=ut(r)?r:"3240624a343867035925ff7561eb60dfdba2a668";break;case z.ETH_SEPOLIA:s=ut(i)?i:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",o=ut(r)?r:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case z.ETH_HOLESKY:s=ut(i)?i:"yolo-morning-card.ethereum-holesky.quiknode.pro",o=ut(r)?r:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case z.ARBITRUM_MAINNET:s=ut(i)?i:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",o=ut(r)?r:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case z.ARBITRUM_SEPOLIA:s=ut(i)?i:"few-patient-pond.arbitrum-sepolia.quiknode.pro",o=ut(r)?r:"3be985450970628c860b959c65cd2642dcafe53c";break;case z.BNB_MAINNET:s=ut(i)?i:"purple-empty-reel.bsc.quiknode.pro",o=ut(r)?r:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case z.BNB_TESTNET:s=ut(i)?i:"floral-rough-scion.bsc-testnet.quiknode.pro",o=ut(r)?r:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case z.POLYGON_MAINNET:s=ut(i)?i:"small-chaotic-moon.matic.quiknode.pro",o=ut(r)?r:"847569f8a017e84d985e10d0f44365d965a951f1";break;case z.POLYGON_AMOY:s=ut(i)?i:"prettiest-side-shape.matic-amoy.quiknode.pro",o=ut(r)?r:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw new Error("Network info not avalible.")}return`${n}://${s}/${o}`}}const _Q=t=>t!==void 0&&t.trim().length>0,wQ=[z.DYMENSION_MAINNET,z.DYMENSION_TESTNET,z.KAVA_MAINNET,z.CRONOS_MAINNET,z.POLYGON_MAINNET];class tp extends tR{constructor(e=z.ETH_MAINNET,n=ar.HTTPS,r="",i){super(e,n,"",r,i)}getRPCURL(e,n,r,i){if(!tp.networkHostMap[e])throw new Error("Network info not avalible.");const s=`${tp.networkHostMap[e]}.publicnode.com`,o=_Q(i)?i:s;return wQ.includes(e)&&n===ar.WebSocket?`${n}://${o}/websocket`:`${n}://${o}`}}tp.networkHostMap={[z.POLYGON_AMOY]:"polygon-amoy-bor-rpc",[z.DYMENSION_MAINNET]:"dymension-evm-rpc",[z.DYMENSION_TESTNET]:"dymension-testnet-evm-rpc",[z.BLAST_MAINNET]:"blast-rpc",[z.GNOSIS_MAINNET]:"gnosis-rpc",[z.PULSECHAIN_MAINNET]:"pulsechain-rpc",[z.PULSECHAIN_TESTNET]:"pulsechain-testnet-rpc",[z.KAVA_MAINNET]:"kava-evm-rpc",[z.CRONOS_MAINNET]:"cronos-evm-rpc",[z.MANTLE_MAINNET]:"mantle-rpc",[z.TAIKO_MAINNET]:"taiko-rpc",[z.TAIKO_HEKLA]:"taiko-hekla-rpc",[z.LINEA_MAINNET]:"linea-rpc",[z.LINEA_SEPOLIA]:"linea-sepolia-rpc",[z.SCROLL_MAINNET]:"scroll-rpc",[z.SCROLL_SEPOLIA]:"scroll-sepolia-rpc",[z.SYSCOIN_MAINNET]:"syscoin-evm-rpc",[z.SYSCOIN_TANENBAUM]:"syscoin-tanenbaum-evm-rpc",[z.HAQQ_MAINNET]:"haqq-evm-rpc",[z.EVMOS_MAINNET]:"evmos-evm-rpc",[z.EVMOS_TESTNET]:"evmos-testnet-evm-rpc",[z.BERACHAIN_TESTNET]:"berachain-testnet-evm-rpc",[z.ETH_MAINNET]:"ethereum-rpc",[z.ETH_SEPOLIA]:"ethereum-sepolia-rpc",[z.ETH_HOLESKY]:"ethereum-holesky-rpc",[z.BSC_MAINNET]:"bsc-rpc",[z.BSC_TESTNET]:"bsc-testnet-rpc",[z.POLYGON_MAINNET]:"polygon-bor-rpc",[z.BASE_MAINNET]:"base-rpc",[z.BASE_SEPOLIA]:"base-sepolia-rpc",[z.ARBITRUM_ONE]:"arbitrum-one-rpc",[z.ARBITRUM_NOVA]:"arbitrum-nova-rpc",[z.ARBITRUM_SEPOLIA]:"arbitrum-sepolia-rpc",[z.AVALANCHE_C_MAINNET]:"avalanche-c-chain-rpc",[z.AVALANCHE_P_MAINNET]:"avalanche-p-chain-rpc",[z.AVALANCHE_X_MAINNET]:"avalanche-x-chain-rpc",[z.AVALANCHE_FUJI_C]:"avalanche-fuji-c-chain-rpc",[z.AVALANCHE_FUJI_P]:"avalanche-fuji-p-chain-rpc",[z.AVALANCHE_FUJI_X]:"avalanche-fuji-x-chain-rpc",[z.OPTIMISM_MAINNET]:"optimism-rpc",[z.OPTIMISM_SEPOLIA]:"optimism-sepolia-rpc",[z.FANTOM_MAINNET]:"fantom-rpc",[z.FANTOM_TESTNET]:"fantom-testnet-rpc",[z.OPBNB_MAINNET]:"opbnb-rpc",[z.OPBNB_TESTNET]:"opbnb-testnet-rpc",[z.GNOSIS_CHIADO]:"gnosis-chiado-rpc",[z.CHILIZ_MAINNET]:"chiliz-rpc",[z.CHILIZ_SPICY]:"chiliz-spicy-rpc",[z.MOONBEAM_MAINNET]:"moonbeam-rpc",[z.BAHAMUT_MAINNET]:"bahamut-rpc",[z.TRON_MAINNET]:"tron-evm-rpc",[z.MOONRIVER_MAINNET]:"moonriver-rpc"};const xQ=new vQ,bQ={encodeEventSignature:Dw,encodeFunctionCall:wG,encodeFunctionSignature:pu,encodeParameter:Oy,encodeParameters:fm,decodeParameter:xP,decodeParameters:Vs,decodeLog:bP};var Ol=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const EQ=t=>{const e=(o,a)=>Ol(void 0,void 0,void 0,function*(){const l=yield aW(o,t),c=j({format:"bytes"},a,re);return oq(l,c)}),n=o=>{const a=Cw(o);return Object.assign(Object.assign({},a),{signTransaction:l=>Ol(void 0,void 0,void 0,function*(){return e(l,a.privateKey)})})},r=(o,a,l)=>Ol(void 0,void 0,void 0,function*(){var c;const u=yield uq(o,a,(c=l==null?void 0:l.nonStrict)!==null&&c!==void 0?c:!0);return Object.assign(Object.assign({},u),{signTransaction:d=>Ol(void 0,void 0,void 0,function*(){return e(d,u.privateKey)})})}),i=()=>{const o=cq();return Object.assign(Object.assign({},o),{signTransaction:a=>Ol(void 0,void 0,void 0,function*(){return e(a,o.privateKey)})})},s=new Uf({create:i,privateKeyToAccount:n,decrypt:r});return{signTransaction:e,create:i,privateKeyToAccount:n,decrypt:r,recoverTransaction:aq,hashMessage:Tw,sign:UN,recover:Ay,encrypt:HN,wallet:s,privateKeyToAddress:cm,parseAndValidatePrivateKey:hl,privateKeyToPublicKey:lq}},AQ={version:"4.16.0"};var SQ=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},np;(function(t){t.eip6963announceProvider="eip6963:announceProvider",t.eip6963requestProvider="eip6963:requestProvider"})(np||(np={}));const Ag=new Map,nR="web3:providersMapUpdated",IQ=()=>SQ(void 0,void 0,void 0,function*(){return new Promise((t,e)=>{typeof window>"u"&&e(new Error("window object not available, EIP-6963 is intended to be used within a browser")),window.addEventListener(np.eip6963announceProvider,n=>{Ag.set(n.detail.info.uuid,n.detail);const r=new CustomEvent(nR,{detail:Ag});window.dispatchEvent(r),t(Ag)}),window.dispatchEvent(new Event(np.eip6963requestProvider))})}),TQ=t=>{if(typeof window>"u")throw new Error("window object not available, EIP-6963 is intended to be used within a browser");window.addEventListener(nR,t)};class Eo extends tn{constructor(e=xQ){var n;(Y(e)||typeof e=="string"&&e.trim()===""||typeof e!="string"&&!Bf(e)&&!e.provider)&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let r={};typeof e=="string"||Bf(e)?r.provider=e:e?r=e:r={},r.registeredSubscriptions=Object.assign(Object.assign({},My),(n=r.registeredSubscriptions)!==null&&n!==void 0?n:{}),super(r);const i=EQ(this);this._wallet=i.wallet,this._accountProvider=i,this.utils=sN;const s=this;class o extends Gs{constructor(c,u,d,f,p){if(Ri(u)&&Ri(d))throw new HE("Should not provide options at both 2nd and 3rd parameters");let y,v={},w,g;if(!Y(u)&&typeof u!="object"&&typeof u!="string")throw new HE;if(typeof u=="string"&&(y=u),Ri(u)?v=u:Ri(d)?v=d:v={},u instanceof tn?w=u:d instanceof tn?w=d:f instanceof tn?w=f:w=s.getContextObject(),p?g=p:Pr(d)?g=d:Pr(f)&&(g=f),super(c,y,v,w,g),super.subscribeToContextEvents(s),!Y(a)){const m=a.getTransactionMiddleware();Y(m)||super.setTransactionMiddleware(m)}}}const a=s.use(pm);this.eth=Object.assign(a,{ens:s.use(XP,Kf.main),Iban:nt,net:s.use(KN),personal:s.use(eR),Contract:o,abi:bQ,accounts:i})}}Eo.version=AQ.version;Eo.utils=sN;Eo.requestEIP6963Providers=IQ;Eo.onNewProviderDiscovered=TQ;Eo.modules={Web3Eth:pm,Iban:nt,Net:KN,ENS:XP,Personal:eR};const CQ="0xa151c4500d99D1E1C325c4C83bfa8f7d312aF88e",kQ="https://bsc-dataseed1.binance.org",rR=()=>{try{if(window.ethereum)return window.ethereum}catch(e){console.error("Error accessing window.ethereum:",e)}return new Eo.providers.HttpProvider(kQ,{timeout:3e4,reconnect:{auto:!0,delay:5e3,maxAttempts:5,onTimeout:!1}})},cr=new Eo(rR());window.ethereum&&window.ethereum.on("accountsChanged",()=>{cr.setProvider(rR())});const NQ=[{inputs:[{internalType:"address",name:"creator_",type:"address"},{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"uint8",name:"decimals_",type:"uint8"},{internalType:"uint256",name:"tokenSupply_",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"_creator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"mintedByDxsale",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"mintingFinishedPermanent",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Ka=new cr.eth.Contract(NQ,CQ),PQ=async()=>{try{return await Ka.methods.name().call(),Se.success("Successfully connected to XLC contract"),!0}catch{return Se.error("Failed to connect to XLC contract"),!1}};PQ();const RQ=[{name:"Dashboard",icon:O6,href:"/"},{name:"Users",icon:qp,href:"/users"},{name:"Transactions",icon:P6,href:"/transactions"},{name:"Token Operations",icon:ty,href:"/token-operations"},{name:"API Management",icon:M6,href:"/api-management"},{name:"Distribution",icon:k6,href:"/distribution"},{name:"Tokenomics",icon:ty,href:"/tokenomics"},{name:"Settings",icon:ZC,href:"/settings"}];function OQ(){const[t,e]=S.useState("");return S.useEffect(()=>{(async()=>{try{const r=await Ka.methods.owner().call();e(r)}catch(r){console.error("Error fetching contract owner:",r),Se.error("Failed to fetch contract owner")}})()},[]),h.jsxs("div",{className:"fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-200",children:[h.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b",children:h.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"XLC Admin"})}),h.jsx("nav",{className:"p-4 space-y-1",children:RQ.map(n=>h.jsxs(Bj,{to:n.href,className:({isActive:r})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md ${r?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"}`,children:[h.jsx(n.icon,{className:"w-5 h-5 mr-3"}),n.name]},n.name))}),t&&h.jsxs("div",{className:"absolute bottom-4 left-4 right-4 p-4 text-xs text-gray-500 border-t",children:[h.jsx("p",{className:"font-medium",children:"Contract Owner:"}),h.jsx("p",{className:"mt-1 break-all",children:t})]})]})}function jQ(){const[t,e]=S.useState(!1),n=Iu();L_();const r=async()=>{try{await $p.signOut(),n("/login")}catch(i){console.error("Error logging out:",i)}};return h.jsxs("div",{className:"relative",children:[h.jsx("button",{className:"flex items-center space-x-2 text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 rounded-full",onClick:()=>e(!t),children:h.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-100 flex items-center justify-center",children:h.jsx(ek,{className:"h-5 w-5 text-gray-600"})})}),t&&h.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",children:h.jsxs("div",{className:"py-1",children:[h.jsxs("button",{onClick:()=>n("/settings"),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full",children:[h.jsx(ZC,{className:"mr-3 h-4 w-4"}),"Settings"]}),h.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full",children:[h.jsx(j6,{className:"mr-3 h-4 w-4"}),"Sign out"]})]})})]})}function MQ(){const[t,e]=S.useState([]);return S.useEffect(()=>{const n=Ze(Xe,"notifications"),r=cC(n,aC("read"),lC(!1)),i=Ca(r,s=>{if(s.exists()){const o=Object.entries(s.val()).map(([a,l])=>({id:a,...l}));e(o)}else e([])});return()=>i()},[]),{notifications:t}}function DQ(){const[t,e]=S.useState(!1),{notifications:n}=MQ();return h.jsx("div",{className:"relative",children:h.jsxs("button",{className:"p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>e(!t),children:[h.jsx("span",{className:"sr-only",children:"View notifications"}),h.jsx(E6,{className:"h-6 w-6"}),n.length>0&&h.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400 ring-2 ring-white"})]})})}function LQ(){return h.jsxs("div",{className:"max-w-lg w-full lg:max-w-xs",children:[h.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(JC,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"search",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Search",type:"search"})]})]})}const Sg={address:null,accounts:[],chainId:null,isConnecting:!1,error:null};function BQ(){const[t,e]=S.useState(Sg),n=S.useCallback(async()=>{if(!window.ethereum){e(o=>({...o,error:new Error("MetaMask is not installed")}));return}e(o=>({...o,isConnecting:!0,error:null}));try{const o=await window.ethereum.request({method:"eth_requestAccounts"}),a=await window.ethereum.request({method:"eth_chainId"});if(parseInt(a,16)!==B_)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:af.chainId}]})}catch(l){if(l.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[af]});else throw l}e(l=>({...l,address:o[0],accounts:o,chainId:parseInt(a,16),isConnecting:!1}))}catch(o){e(a=>({...a,error:o,isConnecting:!1}))}},[]),r=S.useCallback(async o=>{try{await window.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});const a=await window.ethereum.request({method:"eth_accounts"});e(l=>({...l,address:a[0],accounts:a}))}catch(a){e(l=>({...l,error:a}))}},[]),i=S.useCallback(async()=>{try{await window.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});const o=await window.ethereum.request({method:"eth_accounts"});e(a=>({...a,address:o[0],accounts:o}))}catch(o){e(a=>({...a,error:o}))}},[]),s=S.useCallback(()=>{e(Sg)},[]);return S.useEffect(()=>(window.ethereum&&(window.ethereum.on("accountsChanged",o=>{e(a=>({...a,address:o[0]||null,accounts:o}))}),window.ethereum.on("chainChanged",o=>{e(a=>({...a,chainId:parseInt(o,16)}))}),window.ethereum.on("disconnect",()=>{e(Sg)})),()=>{window.ethereum&&window.ethereum.removeAllListeners()}),[]),{...t,connectWallet:n,disconnectWallet:s,switchAccount:r,addAccount:i}}function mc(t){return`${t.slice(0,6)}...${t.slice(-4)}`}function FQ(){const{accounts:t,address:e,switchAccount:n,addAccount:r}=BQ();return h.jsxs("div",{className:"relative inline-block",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:r,className:"p-2 text-gray-600 hover:text-gray-900 rounded-full hover:bg-gray-100",title:"Add account",children:h.jsx(zp,{className:"w-4 h-4"})}),h.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:()=>{var i;return(i=document.getElementById("account-dropdown"))==null?void 0:i.classList.toggle("hidden")},children:[e?mc(e):"Select Account",h.jsx(S6,{className:"ml-2 h-4 w-4"})]})]}),h.jsx("div",{id:"account-dropdown",className:"hidden absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:h.jsx("div",{className:"py-1",role:"menu",children:t.map(i=>h.jsx("button",{className:`block w-full text-left px-4 py-2 text-sm ${i===e?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>{var s;n(i),(s=document.getElementById("account-dropdown"))==null||s.classList.add("hidden")},children:mc(i)},i))})})]})}function UQ(){const{address:t,isConnecting:e,error:n,connectWallet:r,disconnectWallet:i}=$u();return n?h.jsx("div",{className:"text-red-600 text-sm",children:n.message}):t?h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(FQ,{}),h.jsxs("button",{onClick:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:[h.jsx(ny,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]}):h.jsxs("button",{onClick:r,disabled:e,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50",children:[h.jsx(ny,{className:"mr-2 h-4 w-4"}),e?"Connecting...":"Connect Wallet"]})}function HQ(){return h.jsx("header",{className:"bg-white shadow-sm",children:h.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[h.jsx(LQ,{}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(UQ,{}),h.jsx(DQ,{}),h.jsx(jQ,{})]})]})})}function $Q(){return h.jsxs("div",{className:"min-h-screen bg-gray-100",children:[h.jsx(OQ,{}),h.jsxs("div",{className:"ml-64",children:[h.jsx(HQ,{}),h.jsx("main",{className:"p-6",children:h.jsx(Aj,{})})]})]})}const zQ=30*1e3;let Ig={transactions:[],timestamp:0};const qQ=async(t=3)=>{if(Date.now()-Ig.timestamp<zQ)return Ig.transactions.slice(0,t);try{const e=Number(await cr.eth.getBlockNumber()),n=Math.max(0,e-5),r=await Ka.getPastEvents("Transfer",{fromBlock:n.toString(),toBlock:e.toString()}),o=(await Promise.all(r.map(async a=>{try{const l=await cr.eth.getBlock(a.blockNumber),c=cr.utils.toBN(a.returnValues.value.toString());return{hash:a.transactionHash,from:a.returnValues.from,to:a.returnValues.to,amount:cr.utils.fromWei(c,"ether"),timestamp:Number(l.timestamp)*1e3,blockNumber:Number(a.blockNumber)}}catch(l){return console.warn("Error processing transaction:",l),null}}))).filter(a=>a!==null).sort((a,l)=>l.timestamp-a.timestamp).slice(0,t);return Ig={transactions:o,timestamp:Date.now()},o}catch(e){return console.error("Error fetching transactions:",e),[]}},VQ=async()=>{try{const t=Number(await cr.eth.getBlockNumber()),e=Math.max(0,t-1e5),n=await Ka.getPastEvents("Transfer",{fromBlock:e.toString(),toBlock:t.toString()}),r=new Set;for(const i of n){const{to:s,value:o}=i.returnValues;cr.utils.toBN(o.toString()).isZero()||r.add(s)}return r.size}catch(t){return console.error("Error fetching holder count:",t),0}};function Rr({title:t,value:e,subValue:n,icon:r,change:i}){return h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),h.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:e}),n&&h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]}),h.jsx("div",{className:"p-3 bg-indigo-50 rounded-full",children:h.jsx(r,{className:"w-6 h-6 text-indigo-600"})})]}),typeof i<"u"&&h.jsxs("div",{className:"mt-4",children:[h.jsxs("span",{className:`text-sm ${i>=0?"text-green-600":"text-red-600"}`,children:[i>=0?"+":"",i,"%"]}),h.jsx("span",{className:"text-sm text-gray-500",children:" from last month"})]})]})}function GQ(){const{address:t}=$u(),{data:e,isLoading:n}=qn("totalSupply",async()=>{try{const o=await Ka.methods.totalSupply().call();return cr.utils.fromWei(o,"ether")}catch(o){return console.error("Error fetching total supply:",o),"N/A"}}),{data:r}=qn(["xlcBalance",t],async()=>{if(!t)return null;const o=await Ka.methods.balanceOf(t).call();return cr.utils.fromWei(o,"ether")},{enabled:!!t,refetchInterval:3e4}),{data:i,isLoading:s}=qn("holderCount",VQ);return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"})}),h.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[h.jsx(Rr,{title:"Total Supply",value:n?"Loading...":`${e} XLC`,subValue:r?`Your Balance: ${r} XLC`:void 0,icon:ny,change:2.5}),h.jsx(Rr,{title:"Token Holders",value:s?"Loading...":(i==null?void 0:i.toString())||"N/A",icon:qp,change:5.2}),h.jsx(Rr,{title:"24h Transactions",value:"1,234",icon:F_,change:-1.5})]})]})}function WQ({user:t}){return h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"flex items-center",children:h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.email}),h.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",t.id]})]})})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:t.walletAddress})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"text-sm text-gray-900",children:[t.balance," XLC"]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:h.jsx(U_,{className:"w-5 h-5"})}),h.jsx("button",{className:"text-yellow-600 hover:text-yellow-900",children:h.jsx(z_,{className:"w-5 h-5"})}),h.jsx("button",{className:"text-red-600 hover:text-red-900",children:h.jsx(WC,{className:"w-5 h-5"})})]})})]})}function QQ({users:t,isLoading:e}){return e?h.jsx("div",{className:"text-center",children:"Loading users..."}):h.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wallet Address"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t==null?void 0:t.map(n=>h.jsx(WQ,{user:n},n.id))})]})})}function KQ({filters:t,onFilterChange:e}){return h.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm space-x-4 flex items-center",children:[h.jsx("input",{type:"text",placeholder:"Search users...",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:t.search,onChange:n=>e({...t,search:n.target.value})}),h.jsxs("select",{className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:t.status,onChange:n=>e({...t,status:n.target.value}),children:[h.jsx("option",{value:"",children:"All Status"}),h.jsx("option",{value:"active",children:"Active"}),h.jsx("option",{value:"suspended",children:"Suspended"})]})]})}const YQ={search:"",status:""};function JQ(){const[t,e]=S.useState(YQ);return{filters:t,updateFilters:r=>{e(r)}}}async function ZQ(t){try{if(!$p.currentUser)return console.error("User not authenticated"),[];const e=Ze(Xe,"users");let n=[];if(t.status){const r=cC(e,aC("status"),lC(t.status)),i=await Y0(r);i.exists()&&(n=Object.entries(i.val()).map(([s,o])=>({id:s,...o})))}else{const r=await Y0(e);r.exists()&&(n=Object.entries(r.val()).map(([i,s])=>({id:i,...s})))}return t.search?n.filter(r=>r.email.toLowerCase().includes(t.search.toLowerCase())||r.walletAddress.toLowerCase().includes(t.search.toLowerCase())):n}catch(e){return console.error("Error fetching users:",e),[]}}function XQ(){const{filters:t,updateFilters:e}=JQ(),{data:n,isLoading:r}=qn(["users",t],()=>ZQ(t));return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"User Management"})}),h.jsx(KQ,{filters:t,onFilterChange:e}),h.jsx(QQ,{users:n,isLoading:r})]})}function eK(t=100){const{address:e}=$u();return qn(["transactions",t],()=>qQ(t),{enabled:!!e,refetchInterval:3e4,retry:2,initialData:[],onError:n=>{console.error("Failed to fetch transactions:",n)}})}function tK({transactions:t}){return h.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction Hash"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"flex items-center",children:h.jsxs("a",{href:`https://bscscan.com/tx/${e.hash}`,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-900 flex items-center",children:[mc(e.hash),h.jsx(T6,{className:"ml-1 h-4 w-4"})]})})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("a",{href:`https://bscscan.com/address/${e.from}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-900 hover:text-indigo-600",children:mc(e.from)})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("a",{href:`https://bscscan.com/address/${e.to}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-900 hover:text-indigo-600",children:mc(e.to)})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("span",{className:"text-gray-900",children:[e.amount," XLC"]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",children:new Date(e.timestamp).toLocaleString()})]},e.hash))})]})})}function nK(){const{address:t}=$u(),{data:e,isLoading:n,error:r}=eK();return t?n?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-600",children:"Loading transactions..."})}):r?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-red-600",children:"Error loading transactions. Please try again later."})}):h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Transactions"})}),e&&e.length>0?h.jsx(tK,{transactions:e}):h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-600",children:"No transactions found"})})]}):h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-600",children:"Please connect your wallet to view transactions"})})}const Qw="ratesAndWeights";function rK(t,e,n){return e===n?0:Math.max(0,Math.min(1,(t-e)/(n-e)))}function iK(t,e,n){let r=0;return Object.entries(e).forEach(([i,s])=>{const o=t[i];if((o==null?void 0:o.currentValue)!==void 0){const a=rK(o.currentValue,o.minValue,o.maxValue);r+=a*(s.value/100)}}),n+r}async function Tg(){const t=await Y0(Ze(Xe,Qw));return t.exists()?t.val():{metrics:{},weights:{},baselineRate:0}}async function sK(t){await Qi(Ze(Xe,`${Qw}/metrics/${t.id}`),t)}async function oK(t){await Qi(Ze(Xe,`${Qw}/weights/${t.metricId}`),t)}const aK=["User Activity","Transactions","Revenue","Network","Market"];function lK({onSave:t,initialMetric:e}){const[n,r]=S.useState(e||{name:"",description:"",category:"User Activity",minValue:0,maxValue:100}),i=async s=>{s.preventDefault();try{if(!n.name||!n.description)throw new Error("Please fill in all required fields");const o={...n,id:(e==null?void 0:e.id)||crypto.randomUUID()};await sK(o),Se.success("Metric saved successfully"),t(),e||r({name:"",description:"",category:"User Activity",minValue:0,maxValue:100})}catch(o){Se.error(o instanceof Error?o.message:"Failed to save metric")}};return h.jsxs("form",{onSubmit:i,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Metric Name"}),h.jsx("input",{type:"text",value:n.name,onChange:s=>r({...n,name:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),h.jsx("textarea",{value:n.description,onChange:s=>r({...n,description:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),h.jsx("select",{value:n.category,onChange:s=>r({...n,category:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:aK.map(s=>h.jsx("option",{value:s,children:s},s))})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Minimum Value"}),h.jsx("input",{type:"number",value:n.minValue,onChange:s=>r({...n,minValue:parseFloat(s.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Maximum Value"}),h.jsx("input",{type:"number",value:n.maxValue,onChange:s=>r({...n,maxValue:parseFloat(s.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]})]}),h.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:e?"Update Metric":"Add Metric"})]})}function cK({metrics:t,weights:e,onSave:n,initialWeight:r}){var l;const[i,s]=S.useState(r||{metricId:"",value:0}),o=()=>Object.entries(e).reduce((c,[u,d])=>c+(u!==i.metricId?d.value:0),0),a=async c=>{c.preventDefault();try{if(!i.metricId)throw new Error("Please select a metric");const u=o();if(u+(i.value||0)>100)throw new Error(`Total weights cannot exceed 100%. Current total: ${u}%`);await oK(i),Se.success("Weight saved successfully"),n(),r||s({metricId:"",value:0})}catch(u){Se.error(u instanceof Error?u.message:"Failed to save weight")}};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Weights"}),h.jsxs("div",{className:"space-y-2",children:[Object.entries(e).map(([c,u])=>{var d;return h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{children:((d=t[c])==null?void 0:d.name)||"Unknown Metric"}),h.jsxs("span",{className:"font-medium",children:[u.value,"%"]})]},c)}),h.jsxs("div",{className:"border-t pt-2 mt-2",children:[h.jsxs("div",{className:"flex justify-between font-medium",children:[h.jsx("span",{children:"Total"}),h.jsxs("span",{children:[o(),"%"]})]}),h.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[h.jsx("span",{children:"Remaining"}),h.jsxs("span",{children:[100-o(),"%"]})]})]})]})]}),h.jsxs("form",{onSubmit:a,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Metric"}),h.jsxs("select",{value:i.metricId,onChange:c=>s({...i,metricId:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[h.jsx("option",{value:"",children:"Select a metric"}),Object.entries(t).map(([c,u])=>h.jsx("option",{value:c,children:u.name},c))]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Weight (%) - Maximum Available: ",100-o(),"%"]}),h.jsx("input",{type:"number",min:"0",max:100-o()+(((l=e[i.metricId])==null?void 0:l.value)||0),step:"0.1",value:i.value,onChange:c=>s({...i,value:parseFloat(c.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),h.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:r?"Update Weight":"Add Weight"})]})]})}function uK(){$u();const[t,e]=S.useState("token"),[n,r]=S.useState(""),[i,s]=S.useState(0),[o,a]=S.useState("0"),[l,c]=S.useState("0"),[u,d]=S.useState({metrics:{},weights:{},baselineRate:0});S.useEffect(()=>{(async()=>{try{const m=await Tg();d(m),s(m.baselineRate)}catch(m){console.error("Error loading rates and weights:",m),Se.error("Failed to load rates and weights")}})()},[]);const f=async g=>{g.preventDefault();try{await Qi(Ze(Xe,"ratesAndWeights"),{metrics:{initial:{id:"initial",name:"Initial Metric",description:"Initial system metric",category:"Market",minValue:0,maxValue:100,currentValue:parseFloat(o)}},weights:{initial:{metricId:"initial",value:parseFloat(l)}},baselineRate:0}),Se.success("Initial rates and weights set successfully");const m=await Tg();d(m)}catch(m){Se.error("Failed to set initial rates and weights"),console.error("Error setting initial rates and weights:",m)}},p=async g=>{g.preventDefault();try{await Qi(Ze(Xe,"xlc"),{price:parseFloat(n)}),Se.success("Price updated successfully"),r("")}catch(m){Se.error("Failed to update price"),console.error("Error updating price:",m)}},y=async g=>{g.preventDefault();try{await Qi(Ze(Xe,"ratesAndWeights/baselineRate"),i),Se.success("Baseline rate updated successfully"),d(m=>({...m,baselineRate:i}))}catch(m){Se.error("Failed to update baseline rate"),console.error("Error updating baseline rate:",m)}},v=async()=>{const g=await Tg();d(g)},w=iK(u.metrics,u.weights,u.baselineRate);return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("nav",{className:"-mb-px flex space-x-8",children:[h.jsx("button",{onClick:()=>e("token"),className:`py-4 px-1 border-b-2 font-medium text-sm ${t==="token"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Token Operations"}),h.jsx("button",{onClick:()=>e("rates"),className:`py-4 px-1 border-b-2 font-medium text-sm ${t==="rates"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Rates & Weights"})]})}),t==="token"&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-medium mb-4",children:"Set Token Price"}),h.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price (USD)"}),h.jsx("input",{type:"number",step:"0.01",value:n,onChange:g=>r(g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter price"})]}),h.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:"Update Price"})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-medium mb-4",children:"Transfer Tokens"}),h.jsxs("form",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Recipient Address"}),h.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount (XLC)"}),h.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),h.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:"Transfer"})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-medium mb-4",children:"Approve Spender"}),h.jsxs("form",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Spender Address"}),h.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount (XLC)"}),h.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),h.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:"Approve"})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-medium mb-4",children:"Transfer From"}),h.jsxs("form",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From Address"}),h.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To Address"}),h.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount (XLC)"}),h.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),h.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:"Transfer"})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md md:col-span-2",children:[h.jsx("h2",{className:"text-lg font-medium mb-4",children:"Owner Operations"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("button",{className:"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Renounce Ownership"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Owner Address"}),h.jsxs("div",{className:"mt-1 flex space-x-2",children:[h.jsx("input",{type:"text",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),h.jsx("button",{className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:"Transfer"})]})]})]})]})]}),t==="rates"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-medium mb-4",children:"Initial Rates and Weights Setup"}),h.jsxs("form",{onSubmit:f,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Initial Rate"}),h.jsx("input",{type:"number",step:"0.01",value:o,onChange:g=>a(g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter initial rate"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Initial Weight (%)"}),h.jsx("input",{type:"number",step:"0.01",value:l,onChange:g=>c(g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter initial weight"})]}),h.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:"Initialize System"})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-medium mb-4",children:"Set Baseline Rate"}),h.jsxs("form",{onSubmit:y,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Baseline Rate"}),h.jsx("input",{type:"number",step:"0.01",value:i,onChange:g=>s(parseFloat(g.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter baseline rate"})]}),h.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:"Update Baseline Rate"})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-medium mb-4",children:"Rates and Weights Management"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-md font-medium mb-3",children:"Add New Metric"}),h.jsx(lK,{onSave:v})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-md font-medium mb-3",children:"Manage Weights"}),h.jsx(cK,{metrics:u.metrics,weights:u.weights,onSave:v})]})]}),h.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-md",children:[h.jsx("h3",{className:"text-md font-medium mb-2",children:"Current Daily Rate"}),h.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:w.toFixed(4)}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Based on baseline rate and weighted metrics"})]})]})]})]})}const Kw=S.createContext(void 0);function iR({defaultValue:t,className:e="",children:n}){const[r,i]=S.useState(t);return h.jsx(Kw.Provider,{value:{activeTab:r,setActiveTab:i},children:h.jsx("div",{className:e,children:n})})}function sR({className:t="",children:e}){return h.jsx("div",{className:`flex space-x-2 ${t}`,children:e})}function Or({value:t,children:e,className:n=""}){const r=S.useContext(Kw);if(!r)throw new Error("TabsTrigger must be used within Tabs");const{activeTab:i,setActiveTab:s}=r;return h.jsx("button",{onClick:()=>s(t),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${i===t?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"} ${n}`,children:e})}function jr({value:t,children:e}){const n=S.useContext(Kw);if(!n)throw new Error("TabsContent must be used within Tabs");const{activeTab:r}=n;return r!==t?null:h.jsx("div",{children:e})}function dK({onSave:t,onCancel:e,initialData:n}){const[r,i]=S.useState(n||{title:"",description:"",rewardAmount:"",duration:"",maxParticipants:"",requirements:[],active:!0,startDate:"",endDate:"",type:"standard"}),[s,o]=S.useState(""),a=u=>{u.preventDefault(),t(r)},l=()=>{s.trim()&&(i(u=>({...u,requirements:[...u.requirements||[],s.trim()]})),o(""))},c=u=>{i(d=>{var f;return{...d,requirements:(f=d.requirements)==null?void 0:f.filter((p,y)=>y!==u)}})};return h.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:n?"Edit Offer":"Create New Offer"}),h.jsxs("form",{onSubmit:a,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),h.jsx("input",{type:"text",value:r.title,onChange:u=>i({...r,title:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),h.jsxs("select",{value:r.type,onChange:u=>i({...r,type:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[h.jsx("option",{value:"standard",children:"Standard"}),h.jsx("option",{value:"premium",children:"Premium"}),h.jsx("option",{value:"exclusive",children:"Exclusive"})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),h.jsx("textarea",{value:r.description,onChange:u=>i({...r,description:u.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reward Amount (XLC)"}),h.jsx("input",{type:"number",value:r.rewardAmount,onChange:u=>i({...r,rewardAmount:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Duration (days)"}),h.jsx("input",{type:"number",value:r.duration,onChange:u=>i({...r,duration:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Max Participants"}),h.jsx("input",{type:"number",value:r.maxParticipants,onChange:u=>i({...r,maxParticipants:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),h.jsxs("select",{value:r.active.toString(),onChange:u=>i({...r,active:u.target.value==="true"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[h.jsx("option",{value:"true",children:"Active"}),h.jsx("option",{value:"false",children:"Inactive"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date"}),h.jsx("input",{type:"date",value:r.startDate,onChange:u=>i({...r,startDate:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Date"}),h.jsx("input",{type:"date",value:r.endDate,onChange:u=>i({...r,endDate:u.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Requirements"}),h.jsxs("div",{className:"mt-1 flex space-x-2",children:[h.jsx("input",{type:"text",value:s,onChange:u=>o(u.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Add a requirement"}),h.jsx("button",{type:"button",onClick:l,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Add"})]}),r.requirements&&r.requirements.length>0&&h.jsx("div",{className:"mt-2 space-y-2",children:r.requirements.map((u,d)=>h.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[h.jsx("span",{className:"text-sm text-gray-700",children:u}),h.jsx("button",{type:"button",onClick:()=>c(d),className:"text-gray-400 hover:text-red-600",children:h.jsx(L6,{className:"h-4 w-4"})})]},d))})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:n?"Update Offer":"Create Offer"})]})]})]})}function hK(){const[t,e]=S.useState({}),[n,r]=S.useState(!1),[i,s]=S.useState(null);S.useEffect(()=>{const l=Ze(Xe,"offers"),c=Ca(l,u=>{u.exists()?e(u.val()):e({})});return()=>c()},[]);const o=async l=>{try{i?(await K0(Ze(Xe,`offers/${i.id}`),l),Se.success("Offer updated successfully")):(await sC(Ze(Xe,"offers"),l),Se.success("Offer created successfully")),r(!1),s(null)}catch(c){console.error("Error saving offer:",c),Se.error("Failed to save offer")}},a=async l=>{try{await oC(Ze(Xe,`offers/${l}`)),Se.success("Offer deleted successfully")}catch(c){console.error("Error deleting offer:",c),Se.error("Failed to delete offer")}};return h.jsx("div",{className:"space-y-6",children:n?h.jsx(dK,{onSave:o,onCancel:()=>{r(!1),s(null)},initialData:i==null?void 0:i.offer}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex justify-end",children:h.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[h.jsx(zp,{className:"h-4 w-4 mr-2"}),"Add New Offer"]})}),h.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:h.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 p-6",children:Object.entries(t).map(([l,c])=>h.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:c.title}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>{s({id:l,offer:c}),r(!0)},className:"text-gray-400 hover:text-indigo-600",children:h.jsx($_,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>a(l),className:"text-gray-400 hover:text-red-600",children:h.jsx(q_,{className:"h-4 w-4"})})]})]}),h.jsx("p",{className:"text-sm text-gray-500 mb-4",children:c.description}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Reward Amount:"}),h.jsxs("span",{className:"font-medium",children:[c.rewardAmount," XLC"]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Duration:"}),h.jsxs("span",{className:"font-medium",children:[c.duration," days"]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Participants:"}),h.jsx("span",{className:"font-medium",children:c.maxParticipants})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Status:"}),h.jsx("span",{className:`font-medium ${c.active?"text-green-600":"text-red-600"}`,children:c.active?"Active":"Inactive"})]})]}),c.requirements&&h.jsxs("div",{className:"mt-4",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Requirements:"}),h.jsx("ul",{className:"text-sm text-gray-500 list-disc list-inside",children:c.requirements.map((u,d)=>h.jsx("li",{children:u},d))})]})]},l))})})]})})}function fK({onSave:t,onCancel:e,initialData:n}){const[r,i]=S.useState(n||{id:crypto.randomUUID(),name:"",totalStaked:0,apy:0,minStakeAmount:0,lockPeriod:0,active:!0,startDate:"",endDate:""}),s=o=>{o.preventDefault(),t(r)};return h.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:n?"Edit Staking Pool":"Create New Staking Pool"}),h.jsxs("form",{onSubmit:s,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pool Name"}),h.jsx("input",{type:"text",value:r.name,onChange:o=>i({...r,name:o.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"APY (%)"}),h.jsx("input",{type:"number",value:r.apy,onChange:o=>i({...r,apy:parseFloat(o.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,min:"0",step:"0.1"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Minimum Stake Amount (XLC)"}),h.jsx("input",{type:"number",value:r.minStakeAmount,onChange:o=>i({...r,minStakeAmount:parseFloat(o.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,min:"0"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lock Period (days)"}),h.jsx("input",{type:"number",value:r.lockPeriod,onChange:o=>i({...r,lockPeriod:parseInt(o.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,min:"0"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date"}),h.jsx("input",{type:"date",value:r.startDate,onChange:o=>i({...r,startDate:o.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Date"}),h.jsx("input",{type:"date",value:r.endDate,onChange:o=>i({...r,endDate:o.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),h.jsxs("select",{value:r.active.toString(),onChange:o=>i({...r,active:o.target.value==="true"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[h.jsx("option",{value:"true",children:"Active"}),h.jsx("option",{value:"false",children:"Inactive"})]})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:n?"Update Pool":"Create Pool"})]})]})]})}function pK(){const[t,e]=S.useState({}),[n,r]=S.useState(!1),[i,s]=S.useState(null),[o,a]=S.useState({});S.useEffect(()=>{const d=Ze(Xe,"stakingPools"),f=Ze(Xe,"userStakes"),p=Ca(d,v=>{v.exists()?e(v.val()):e({})}),y=Ca(f,v=>{v.exists()?a(v.val()):a({})});return()=>{p(),y()}},[]);const l=async d=>{try{i?(await K0(Ze(Xe,`stakingPools/${i.id}`),d),Se.success("Staking pool updated successfully")):(await sC(Ze(Xe,"stakingPools"),d),Se.success("Staking pool created successfully")),r(!1),s(null)}catch(f){console.error("Error saving staking pool:",f),Se.error("Failed to save staking pool")}},c=async d=>{try{await oC(Ze(Xe,`stakingPools/${d}`)),Se.success("Staking pool deleted successfully")}catch(f){console.error("Error deleting staking pool:",f),Se.error("Failed to delete staking pool")}},u=async(d,f)=>{try{await K0(Ze(Xe,`stakingPools/${d}`),{active:!f}),Se.success(`Pool ${f?"deactivated":"activated"} successfully`)}catch(p){console.error("Error toggling pool status:",p),Se.error("Failed to update pool status")}};return h.jsx("div",{className:"space-y-6",children:n?h.jsx(fK,{onSave:l,onCancel:()=>{r(!1),s(null)},initialData:i==null?void 0:i.pool}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Staking Pools"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Manage your staking pools and view statistics"})]}),h.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[h.jsx(zp,{className:"h-4 w-4 mr-2"}),"Create New Pool"]})]}),h.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:Object.entries(t).map(([d,f])=>h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:f.name}),h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.active?"Active":"Inactive"})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>u(d,f.active),className:"text-gray-400 hover:text-indigo-600",title:f.active?"Deactivate Pool":"Activate Pool",children:f.active?h.jsx(H_,{className:"h-4 w-4"}):h.jsx(XC,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>{s({id:d,pool:f}),r(!0)},className:"text-gray-400 hover:text-indigo-600",children:h.jsx($_,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>c(d),className:"text-gray-400 hover:text-red-600",children:h.jsx(q_,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"APY"}),h.jsxs("span",{className:"font-medium text-green-600",children:[(f.apy??0).toLocaleString(),"%"]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Total Staked"}),h.jsxs("span",{className:"font-medium",children:[(f.totalStaked??0).toLocaleString()," XLC"]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Min. Stake"}),h.jsxs("span",{className:"font-medium",children:[(f.minStakeAmount??0).toLocaleString()," XLC"]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Lock Period"}),h.jsxs("span",{className:"font-medium",children:[f.lockPeriod??0," days"]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Start Date"}),h.jsx("span",{className:"font-medium",children:f.startDate})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"End Date"}),h.jsx("span",{className:"font-medium",children:f.endDate})]})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Stakes"}),h.jsxs("div",{className:"text-sm text-gray-500",children:[Object.values(o).filter(p=>p.poolId===d&&p.status==="active").length," active stakers"]})]})]},d))})]})})}function _t(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function mK(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Ad=43200,V1=1440;let gK={};function yK(){return gK}function G1(t){const e=_t(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function th(t,e){const n=_t(t),r=_t(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function vK(t){return mK(t,Date.now())}function _K(t,e){const n=_t(t),r=_t(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function wK(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function xK(t,e){return+_t(t)-+_t(e)}function bK(t){const e=_t(t);return e.setHours(23,59,59,999),e}function EK(t){const e=_t(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function AK(t){const e=_t(t);return+bK(e)==+EK(e)}function SK(t,e){const n=_t(t),r=_t(e),i=th(n,r),s=Math.abs(_K(n,r));let o;if(s<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let a=th(n,r)===-i;AK(_t(t))&&s===1&&th(t,r)===1&&(a=!1),o=i*(s-Number(a))}return o===0?0:o}function IK(t,e,n){const r=xK(t,e)/1e3;return wK(n==null?void 0:n.roundingMethod)(r)}const TK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},CK=(t,e,n)=>{let r;const i=TK[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Cg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const kK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RK={date:Cg({formats:kK,defaultWidth:"full"}),time:Cg({formats:NK,defaultWidth:"full"}),dateTime:Cg({formats:PK,defaultWidth:"full"})},OK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jK=(t,e,n,r)=>OK[t];function jl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const MK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},DK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},LK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HK=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$K={ordinalNumber:HK,era:jl({values:MK,defaultWidth:"wide"}),quarter:jl({values:DK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:jl({values:LK,defaultWidth:"wide"}),day:jl({values:BK,defaultWidth:"wide"}),dayPeriod:jl({values:FK,defaultWidth:"wide",formattingValues:UK,defaultFormattingWidth:"wide"})};function Ml(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?qK(a,d=>d.test(o)):zK(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function zK(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function qK(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function VK(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const GK=/^(\d+)(th|st|nd|rd)?/i,WK=/\d+/i,QK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KK={any:[/^b/i,/^(a|c)/i]},YK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JK={any:[/1/i,/2/i,/3/i,/4/i]},ZK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iY={ordinalNumber:VK({matchPattern:GK,parsePattern:WK,valueCallback:t=>parseInt(t,10)}),era:Ml({matchPatterns:QK,defaultMatchWidth:"wide",parsePatterns:KK,defaultParseWidth:"any"}),quarter:Ml({matchPatterns:YK,defaultMatchWidth:"wide",parsePatterns:JK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ml({matchPatterns:ZK,defaultMatchWidth:"wide",parsePatterns:XK,defaultParseWidth:"any"}),day:Ml({matchPatterns:eY,defaultMatchWidth:"wide",parsePatterns:tY,defaultParseWidth:"any"}),dayPeriod:Ml({matchPatterns:nY,defaultMatchWidth:"any",parsePatterns:rY,defaultParseWidth:"any"})},sY={code:"en-US",formatDistance:CK,formatLong:RK,formatRelative:jK,localize:$K,match:iY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oY(t,e,n){const r=yK(),i=(n==null?void 0:n.locale)??r.locale??sY,s=2520,o=th(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let l,c;o>0?(l=_t(e),c=_t(t)):(l=_t(t),c=_t(e));const u=IK(c,l),d=(G1(c)-G1(l))/1e3,f=Math.round((u-d)/60);let p;if(f<2)return n!=null&&n.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,a):u<10?i.formatDistance("lessThanXSeconds",10,a):u<20?i.formatDistance("lessThanXSeconds",20,a):u<40?i.formatDistance("halfAMinute",0,a):u<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):f===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",f,a);if(f<45)return i.formatDistance("xMinutes",f,a);if(f<90)return i.formatDistance("aboutXHours",1,a);if(f<V1){const y=Math.round(f/60);return i.formatDistance("aboutXHours",y,a)}else{if(f<s)return i.formatDistance("xDays",1,a);if(f<Ad){const y=Math.round(f/V1);return i.formatDistance("xDays",y,a)}else if(f<Ad*2)return p=Math.round(f/Ad),i.formatDistance("aboutXMonths",p,a)}if(p=SK(c,l),p<12){const y=Math.round(f/Ad);return i.formatDistance("xMonths",y,a)}else{const y=p%12,v=Math.trunc(p/12);return y<3?i.formatDistance("aboutXYears",v,a):y<9?i.formatDistance("overXYears",v,a):i.formatDistance("almostXYears",v+1,a)}}function aY(t,e){return oY(t,vK(t),e)}function lY(){const[t,e]=S.useState({});S.useEffect(()=>{const i=Ze(Xe,"rewards"),s=Ca(i,o=>{o.exists()?e(o.val()):e({})});return()=>s()},[]);const n=i=>{switch(i){case"staking":return h.jsx(DE,{className:"h-5 w-5 text-blue-500"});case"offer":return h.jsx(_d,{className:"h-5 w-5 text-green-500"});case"referral":return h.jsx(_d,{className:"h-5 w-5 text-purple-500"});default:return h.jsx(_d,{className:"h-5 w-5 text-gray-500"})}},r={total:Object.values(t).reduce((i,s)=>i+s.amount,0),pending:Object.values(t).filter(i=>i.status==="pending").length,claimed:Object.values(t).filter(i=>i.status==="claimed").length};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[h.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-indigo-50 rounded-full",children:h.jsx(_d,{className:"h-6 w-6 text-indigo-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Rewards"}),h.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[r.total.toLocaleString()," XLC"]})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-yellow-50 rounded-full",children:h.jsx(DE,{className:"h-6 w-6 text-yellow-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Pending Rewards"}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.pending})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-green-50 rounded-full",children:h.jsx(A6,{className:"h-6 w-6 text-green-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Claimed Rewards"}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.claimed})]})]})})]}),h.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[h.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Rewards"})}),h.jsx("div",{className:"divide-y divide-gray-200",children:Object.entries(t).map(([i,s])=>h.jsxs("div",{className:"p-6 hover:bg-gray-50",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[n(s.type),h.jsxs("div",{className:"ml-4",children:[h.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[s.amount.toLocaleString()," XLC"]}),h.jsxs("p",{className:"text-sm text-gray-500",children:[s.type.charAt(0).toUpperCase()+s.type.slice(1)," Reward"]})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="claimed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),h.jsx("span",{className:"ml-4 text-sm text-gray-500",children:aY(new Date(s.timestamp),{addSuffix:!0})})]})]}),h.jsxs("div",{className:"mt-2",children:[h.jsxs("p",{className:"text-sm text-gray-500",children:["User ID: ",s.userId]}),h.jsxs("p",{className:"text-sm text-gray-500",children:["Source ID: ",s.sourceId]})]})]},i))})]})]})}function cY(){return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Distribution & Rewards"})}),h.jsxs(iR,{defaultValue:"offers",className:"space-y-6",children:[h.jsxs(sR,{className:"bg-white p-1 rounded-lg shadow-sm",children:[h.jsx(Or,{value:"offers",children:"Offers & Loyalty"}),h.jsx(Or,{value:"staking",children:"Staking"}),h.jsx(Or,{value:"rewards",children:"Rewards"})]}),h.jsx(jr,{value:"offers",children:h.jsx(hK,{})}),h.jsx(jr,{value:"staking",children:h.jsx(pK,{})}),h.jsx(jr,{value:"rewards",children:h.jsx(lY,{})})]})]})}function uY(){const[t,e]=S.useState({totalSupply:"",circulatingSupply:"",burned:"",marketCap:"",fullyDilutedMarketCap:"",holders:"",transferTax:"",liquidityTax:"",marketingTax:"",devTax:"",liquidityPair:"",liquidityLocked:"",contractAddress:"",launchDate:"",initialPrice:"",allTimeHigh:"",allTimeLow:""}),n=async i=>{i.preventDefault();try{await Qi(Ze(Xe,"tokenomics"),t),Se.success("Tokenomics updated successfully")}catch(s){console.error("Error updating tokenomics:",s),Se.error("Failed to update tokenomics")}},r=i=>{const{name:s,value:o}=i.target;e(a=>({...a,[s]:o}))};return h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Update Tokenomics"}),h.jsxs("form",{onSubmit:n,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Supply"}),h.jsx("input",{type:"text",name:"totalSupply",value:t.totalSupply,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. 1,000,000,000"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Circulating Supply"}),h.jsx("input",{type:"text",name:"circulatingSupply",value:t.circulatingSupply,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. 750,000,000"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Burned Tokens"}),h.jsx("input",{type:"text",name:"burned",value:t.burned,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. 250,000,000"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Number of Holders"}),h.jsx("input",{type:"text",name:"holders",value:t.holders,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. 10,000"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Market Cap"}),h.jsx("input",{type:"text",name:"marketCap",value:t.marketCap,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. $1,000,000"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fully Diluted Market Cap"}),h.jsx("input",{type:"text",name:"fullyDilutedMarketCap",value:t.fullyDilutedMarketCap,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. $1,500,000"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transfer Tax (%)"}),h.jsx("input",{type:"text",name:"transferTax",value:t.transferTax,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. 2"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Liquidity Tax (%)"}),h.jsx("input",{type:"text",name:"liquidityTax",value:t.liquidityTax,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. 2"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Marketing Tax (%)"}),h.jsx("input",{type:"text",name:"marketingTax",value:t.marketingTax,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. 1"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Development Tax (%)"}),h.jsx("input",{type:"text",name:"devTax",value:t.devTax,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. 1"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Liquidity Pair"}),h.jsx("input",{type:"text",name:"liquidityPair",value:t.liquidityPair,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. XLC/WBNB"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Liquidity Locked Until"}),h.jsx("input",{type:"text",name:"liquidityLocked",value:t.liquidityLocked,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. 2025-12-31"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contract Address"}),h.jsx("input",{type:"text",name:"contractAddress",value:t.contractAddress,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. 0x..."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Initial Price"}),h.jsx("input",{type:"text",name:"initialPrice",value:t.initialPrice,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. $0.001"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Launch Date"}),h.jsx("input",{type:"text",name:"launchDate",value:t.launchDate,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. 2023-01-01"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"All Time High"}),h.jsx("input",{type:"text",name:"allTimeHigh",value:t.allTimeHigh,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. $0.01"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"All Time Low"}),h.jsx("input",{type:"text",name:"allTimeLow",value:t.allTimeLow,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g. $0.0001"})]})]}),h.jsx("div",{className:"flex justify-end",children:h.jsxs("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[h.jsx(YC,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})}function dY(){const[t,e]=S.useState(null);if(S.useEffect(()=>{const i=Ze(Xe,"tokenomics"),s=Ca(i,o=>{o.exists()&&e(o.val())});return()=>s()},[]),!t)return h.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:h.jsx("p",{className:"text-gray-500",children:"No tokenomics data available"})});const n=[{name:"Total Supply",value:t.totalSupply,icon:ty},{name:"Circulating Supply",value:t.circulatingSupply,icon:F_},{name:"Burned",value:t.burned,icon:C6},{name:"Holders",value:t.holders,icon:qp}],r=[{name:"Transfer Tax",value:t.transferTax},{name:"Liquidity Tax",value:t.liquidityTax},{name:"Marketing Tax",value:t.marketingTax},{name:"Development Tax",value:t.devTax}];return h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Current Tokenomics"}),h.jsxs("div",{className:"space-y-8",children:[h.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.map(i=>h.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-indigo-50 rounded-full",children:h.jsx(i.icon,{className:"h-5 w-5 text-indigo-600"})}),h.jsxs("div",{className:"ml-3",children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:i.name}),h.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.value})]})]})},i.name))}),h.jsxs("div",{className:"border-t pt-6",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Market Information"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Market Cap"}),h.jsx("p",{className:"text-lg font-semibold",children:t.marketCap})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Fully Diluted Market Cap"}),h.jsx("p",{className:"text-lg font-semibold",children:t.fullyDilutedMarketCap})]})]})]}),h.jsxs("div",{className:"border-t pt-6",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Tax Structure"}),h.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.map(i=>h.jsxs("div",{className:"flex items-center",children:[h.jsx(KC,{className:"h-4 w-4 text-gray-400 mr-2"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:i.name}),h.jsxs("p",{className:"text-lg font-semibold",children:[i.value,"%"]})]})]},i.name))})]}),h.jsxs("div",{className:"border-t pt-6",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Price History"}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Initial Price"}),h.jsx("p",{className:"text-lg font-semibold",children:t.initialPrice})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"All Time High"}),h.jsx("p",{className:"text-lg font-semibold",children:t.allTimeHigh})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"All Time Low"}),h.jsx("p",{className:"text-lg font-semibold",children:t.allTimeLow})]})]})]}),h.jsxs("div",{className:"border-t pt-6",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Additional Information"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Contract Address"}),h.jsx("p",{className:"text-sm font-mono bg-gray-50 p-2 rounded mt-1",children:t.contractAddress})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Launch Date"}),h.jsxs("div",{className:"flex items-center mt-1",children:[h.jsx(ME,{className:"h-4 w-4 text-gray-400 mr-2"}),h.jsx("p",{className:"text-sm font-semibold",children:t.launchDate})]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Liquidity Locked Until"}),h.jsxs("div",{className:"flex items-center mt-1",children:[h.jsx(ME,{className:"h-4 w-4 text-gray-400 mr-2"}),h.jsx("p",{className:"text-sm font-semibold",children:t.liquidityLocked})]})]})]})]})]})]})]})}function hY(){return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Tokenomics"})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsx(uY,{}),h.jsx(dY,{})]})]})}async function fY(){return await new Promise(t=>setTimeout(t,1e3)),{health:"Healthy",healthChange:0,requestVolume:15234,volumeChange:12.5,errorRate:.5,errorChange:-2.3,activeUsers:1250,userChange:5.7,successRate:99.5,successChange:.2,cacheHitRate:85.3,cacheChange:3.1,recentActivity:[{type:"success",message:"API rate limit updated successfully",timestamp:new Date().toISOString()},{type:"warning",message:"High request volume detected",timestamp:new Date(Date.now()-3e5).toISOString()},{type:"error",message:"Failed authentication attempt from unauthorized IP",timestamp:new Date(Date.now()-6e5).toISOString()}]}}class gl extends S.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?this.props.fallback||h.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:[h.jsx("h2",{className:"text-lg font-semibold text-red-800",children:"Something went wrong"}),h.jsx("p",{className:"mt-2 text-sm text-red-600",children:((e=this.state.error)==null?void 0:e.message)||"An error occurred while loading this component"})]}):this.props.children}}function pY(){var n,r,i;const{data:t,isLoading:e}=qn("apiMetrics",fY,{refetchInterval:3e4});return h.jsx(gl,{children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[h.jsx(Rr,{title:"API Health",value:e?"Loading...":(t==null?void 0:t.health)||"Healthy",icon:x6,change:t==null?void 0:t.healthChange}),h.jsx(Rr,{title:"Request Volume",value:e?"Loading...":((n=t==null?void 0:t.requestVolume)==null?void 0:n.toString())||"0",icon:F_,change:t==null?void 0:t.volumeChange}),h.jsx(Rr,{title:"Error Rate",value:e?"Loading...":`${(t==null?void 0:t.errorRate)||0}%`,icon:GC,change:t==null?void 0:t.errorChange}),h.jsx(Rr,{title:"Active Users",value:e?"Loading...":((r=t==null?void 0:t.activeUsers)==null?void 0:r.toString())||"0",icon:qp,change:t==null?void 0:t.userChange}),h.jsx(Rr,{title:"Success Rate",value:e?"Loading...":`${(t==null?void 0:t.successRate)||0}%`,icon:KC,change:t==null?void 0:t.successChange}),h.jsx(Rr,{title:"Cache Hit Rate",value:e?"Loading...":`${(t==null?void 0:t.cacheHitRate)||0}%`,icon:QC,change:t==null?void 0:t.cacheChange})]}),h.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[h.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),h.jsx("div",{className:"divide-y divide-gray-200",children:e?h.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading activity..."}):(i=t==null?void 0:t.recentActivity)==null?void 0:i.map((s,o)=>h.jsx("div",{className:"p-6 hover:bg-gray-50",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.type==="error"?"bg-red-100 text-red-800":s.type==="warning"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:s.type}),h.jsx("p",{className:"ml-3 text-sm text-gray-900",children:s.message})]}),h.jsx("span",{className:"text-sm text-gray-500",children:new Date(s.timestamp).toLocaleString()})]})},o))})]})]})})}const mY=async()=>(await new Promise(t=>setTimeout(t,1e3)),[{id:"1",name:"Trading Bot A",email:"bot.a@example.com",apiKey:"xlc_key_123456789",status:"active",rateLimits:{requests:1e3,period:"1m"},createdAt:new Date(Date.now()-72e5).toISOString(),lastActive:new Date(Date.now()-3e5).toISOString()},{id:"2",name:"Exchange Integration",email:"exchange@example.com",apiKey:"xlc_key_987654321",status:"active",rateLimits:{requests:5e3,period:"1m"},createdAt:new Date(Date.now()-864e5).toISOString(),lastActive:new Date(Date.now()-6e5).toISOString()}]);function gY(){S.useState(null);const{data:t,isLoading:e,error:n}=qn("apiUsers",mY),r=o=>{console.log("Regenerating API key for user:",o)},i=(o,a)=>{console.log("Updating status for user:",o,"to:",a)},s=o=>{console.log("Updating rate limits for user:",o)};return n?h.jsx("div",{className:"text-red-600",children:"Error loading API users"}):h.jsx(gl,{children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"API Users"}),h.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[h.jsx(ek,{className:"h-4 w-4 mr-2"}),"Add New API User"]})]}),h.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:e?h.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading users..."}):h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"API Key"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate Limits"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t==null?void 0:t.map(o=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"flex items-center",children:h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.name}),h.jsx("div",{className:"text-sm text-gray-500",children:o.email})]})})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("code",{className:"text-sm text-gray-600",children:o.apiKey}),h.jsx("button",{onClick:()=>r(o.id),className:"ml-2 text-gray-400 hover:text-indigo-600",title:"Regenerate API Key",children:h.jsx(Na,{className:"h-4 w-4"})})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"text-sm text-gray-900",children:[o.rateLimits.requests," req/",o.rateLimits.period]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(o.lastActive).toLocaleString()}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[h.jsx("button",{onClick:()=>s(o.id),className:"text-gray-400 hover:text-indigo-600",title:"Update Rate Limits",children:h.jsx(z_,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>r(o.id),className:"text-gray-400 hover:text-indigo-600",title:"Regenerate API Key",children:h.jsx(R6,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>i(o.id,o.status==="active"?"suspended":"active"),className:"text-gray-400 hover:text-red-600",title:o.status==="active"?"Suspend User":"Activate User",children:h.jsx(WC,{className:"h-4 w-4"})})]})})]},o.id))})]})})]})})}const yY=async()=>(await new Promise(t=>setTimeout(t,1e3)),[{id:"1",userId:"user_123",type:"API_CALL",status:"success",amount:1e3,timestamp:new Date(Date.now()-3e5).toISOString(),details:{endpoint:"/api/v1/balance",method:"GET",responseTime:123}},{id:"2",userId:"user_456",type:"TOKEN_TRANSFER",status:"pending",amount:500,timestamp:new Date(Date.now()-6e5).toISOString(),details:{endpoint:"/api/v1/transfer",method:"POST",responseTime:245}},{id:"3",userId:"user_789",type:"STAKE",status:"failed",amount:2500,timestamp:new Date(Date.now()-9e5).toISOString(),details:{endpoint:"/api/v1/stake",method:"POST",responseTime:89,error:"Insufficient balance"}}]);function vY(){const[t,e]=S.useState(""),[n,r]=S.useState("all"),{data:i,isLoading:s,error:o,refetch:a}=qn("apiTransactions",yY),l=i==null?void 0:i.filter(d=>{const f=t===""||d.id.toLowerCase().includes(t.toLowerCase())||d.userId.toLowerCase().includes(t.toLowerCase())||d.type.toLowerCase().includes(t.toLowerCase()),p=n==="all"||d.status===n;return f&&p}),c=d=>{console.log("Viewing transaction details:",d)},u=d=>{console.log("Retrying transaction:",d)};return o?h.jsx("div",{className:"text-red-600",children:"Error loading transactions"}):h.jsx(gl,{children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx(JC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search transactions...",value:t,onChange:d=>e(d.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]}),h.jsxs("select",{value:n,onChange:d=>r(d.target.value),className:"border border-gray-300 rounded-md py-2 pl-3 pr-10 focus:ring-indigo-500 focus:border-indigo-500",children:[h.jsx("option",{value:"all",children:"All Status"}),h.jsx("option",{value:"success",children:"Success"}),h.jsx("option",{value:"pending",children:"Pending"}),h.jsx("option",{value:"failed",children:"Failed"})]})]}),h.jsxs("button",{onClick:()=>a(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[h.jsx(Na,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),h.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:s?h.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading transactions..."}):h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction ID"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User ID"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l==null?void 0:l.map(d=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-mono text-gray-900",children:d.id})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:d.userId})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:d.type})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:d.amount})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.status==="success"?"bg-green-100 text-green-800":d.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d.status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(d.timestamp).toLocaleString()}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[h.jsx("button",{onClick:()=>c(d.id),className:"text-gray-400 hover:text-indigo-600",title:"View Details",children:h.jsx(U_,{className:"h-4 w-4"})}),d.status==="failed"&&h.jsx("button",{onClick:()=>u(d.id),className:"text-gray-400 hover:text-indigo-600",title:"Retry Transaction",children:h.jsx(Na,{className:"h-4 w-4"})})]})})]},d.id))})]})})]})})}const _Y=async()=>(await new Promise(t=>setTimeout(t,1e3)),[{id:"1",name:"Standard Pool",totalStaked:1e6,apy:12.5,minStakeAmount:1e3,lockPeriod:30,active:!0,startDate:new Date().toISOString(),endDate:new Date(Date.now()+90*24*60*60*1e3).toISOString()},{id:"2",name:"Premium Pool",totalStaked:5e6,apy:18.75,minStakeAmount:5e3,lockPeriod:90,active:!0,startDate:new Date().toISOString(),endDate:new Date(Date.now()+180*24*60*60*1e3).toISOString()}]);function wY(){const[t,e]=S.useState(null),{data:n,isLoading:r,error:i,refetch:s}=qn("stakingPools",_Y),o=()=>{console.log("Creating new staking pool")},a=u=>{e(u),console.log("Editing pool:",u.id)},l=u=>{console.log("Deleting pool:",u)},c=(u,d)=>{console.log("Toggling pool status:",u,"to:",!d)};return i?h.jsx("div",{className:"text-red-600",children:"Error loading staking pools"}):h.jsx(gl,{children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Staking Pools"}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsxs("button",{onClick:()=>s(),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[h.jsx(Na,{className:"h-4 w-4 mr-2"}),"Refresh"]}),h.jsxs("button",{onClick:o,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[h.jsx(zp,{className:"h-4 w-4 mr-2"}),"Create Pool"]})]})]}),h.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r?h.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"Loading staking pools..."}):n==null?void 0:n.map(u=>h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:u.name}),h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.active?"Active":"Inactive"})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>c(u.id,u.active),className:"text-gray-400 hover:text-indigo-600",title:u.active?"Deactivate Pool":"Activate Pool",children:u.active?h.jsx(H_,{className:"h-4 w-4"}):h.jsx(XC,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>a(u),className:"text-gray-400 hover:text-indigo-600",title:"Edit Pool",children:h.jsx($_,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>l(u.id),className:"text-gray-400 hover:text-red-600",title:"Delete Pool",children:h.jsx(q_,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"APY"}),h.jsxs("span",{className:"font-medium text-green-600",children:[u.apy,"%"]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Total Staked"}),h.jsxs("span",{className:"font-medium",children:[u.totalStaked.toLocaleString()," XLC"]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Min. Stake"}),h.jsxs("span",{className:"font-medium",children:[u.minStakeAmount.toLocaleString()," XLC"]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Lock Period"}),h.jsxs("span",{className:"font-medium",children:[u.lockPeriod," days"]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Start Date"}),h.jsx("span",{className:"font-medium",children:new Date(u.startDate).toLocaleDateString()})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"End Date"}),h.jsx("span",{className:"font-medium",children:new Date(u.endDate).toLocaleDateString()})]})]}),h.jsx("div",{className:"mt-4 pt-4 border-t",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("button",{className:"text-sm text-indigo-600 hover:text-indigo-700",onClick:()=>console.log("View pool details:",u.id),children:"View Details"}),h.jsx("button",{className:"text-sm text-indigo-600 hover:text-indigo-700",onClick:()=>console.log("View stakers:",u.id),children:"View Stakers"})]})})]},u.id))})]})})}const xY=async()=>(await new Promise(t=>setTimeout(t,1e3)),[{id:"1",name:"XLC/USDT",token0:{symbol:"XLC",amount:1e6,value:1e6},token1:{symbol:"USDT",amount:1e6,value:1e6},tvl:2e6,volume24h:15e4,fees24h:450,apy:24.5,priceImpact:.15,lastUpdated:new Date().toISOString()},{id:"2",name:"XLC/BUSD",token0:{symbol:"XLC",amount:5e5,value:5e5},token1:{symbol:"BUSD",amount:5e5,value:5e5},tvl:1e6,volume24h:75e3,fees24h:225,apy:18.75,priceImpact:.25,lastUpdated:new Date().toISOString()}]);function bY(){var a,l,c;const[t,e]=S.useState(null),{data:n,isLoading:r,error:i,refetch:s}=qn("liquidityPools",xY),o=u=>{e(u),console.log("Viewing pool details:",u.id)};return i?h.jsx("div",{className:"text-red-600",children:"Error loading liquidity pools"}):h.jsx(gl,{children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Liquidity Pools"}),h.jsxs("button",{onClick:()=>s(),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[h.jsx(Na,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[h.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-indigo-50 rounded-full",children:h.jsx(I6,{className:"h-6 w-6 text-indigo-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total TVL"}),h.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",(a=n==null?void 0:n.reduce((u,d)=>u+d.tvl,0))==null?void 0:a.toLocaleString()]})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-green-50 rounded-full",children:h.jsx(b6,{className:"h-6 w-6 text-green-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"24h Volume"}),h.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",(l=n==null?void 0:n.reduce((u,d)=>u+d.volume24h,0))==null?void 0:l.toLocaleString()]})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-yellow-50 rounded-full",children:h.jsx(D6,{className:"h-6 w-6 text-yellow-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"24h Fees"}),h.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",(c=n==null?void 0:n.reduce((u,d)=>u+d.fees24h,0))==null?void 0:c.toLocaleString()]})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-purple-50 rounded-full",children:h.jsx(GC,{className:"h-6 w-6 text-purple-600"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Price Impact"}),h.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[((n==null?void 0:n.reduce((u,d)=>u+d.priceImpact,0))/((n==null?void 0:n.length)||1)).toFixed(2),"%"]})]})]})})]}),h.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:r?h.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading liquidity pools..."}):h.jsx("div",{className:"divide-y divide-gray-200",children:n==null?void 0:n.map(u=>h.jsxs("div",{className:"p-6 hover:bg-gray-50",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:u.name}),h.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Last updated: ",new Date(u.lastUpdated).toLocaleString()]})]}),h.jsxs("button",{onClick:()=>o(u),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[h.jsx(U_,{className:"h-4 w-4 mr-1.5"}),"Details"]})]}),h.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Token Pair"}),h.jsxs("div",{className:"mt-1 flex justify-between",children:[h.jsxs("span",{className:"text-sm text-gray-900",children:[u.token0.amount.toLocaleString()," ",u.token0.symbol]}),h.jsxs("span",{className:"text-sm text-gray-900",children:[u.token1.amount.toLocaleString()," ",u.token1.symbol]})]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"TVL"}),h.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["$",u.tvl.toLocaleString()]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"24h Volume"}),h.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["$",u.volume24h.toLocaleString()]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"APY"}),h.jsxs("p",{className:"mt-1 text-sm font-medium text-green-600",children:[u.apy.toFixed(2),"%"]})]})]}),h.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"24h Fees"}),h.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["$",u.fees24h.toLocaleString()]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Price Impact"}),h.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[u.priceImpact.toFixed(2),"%"]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Token Ratio"}),h.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["1 ",u.token0.symbol," = ",(u.token1.value/u.token0.value).toFixed(4)," ",u.token1.symbol]})]})]})]},u.id))})})]})})}const EY=async()=>(await new Promise(t=>setTimeout(t,1e3)),{rateLimits:{default:1e3,premium:5e3,period:"1m"},security:{ipWhitelist:["192.168.1.1","10.0.0.1"],webhookUrl:"https://api.example.com/webhook",apiKeyExpiration:90},caching:{enabled:!0,ttl:300,maxSize:1e3}});function AY(){const{data:t,isLoading:e,error:n}=qn("systemConfig",EY),[r,i]=S.useState(null),[s,o]=S.useState("rate-limits");kt.useEffect(()=>{t&&!r&&i(t)},[t]);const a=async c=>{c.preventDefault();try{console.log("Updating settings:",r),Se.success("Settings updated successfully")}catch(u){console.error("Error updating settings:",u),Se.error("Failed to update settings")}},l=(c,u,d)=>{r&&i({...r,[c]:{...r[c],[u]:d}})};return n?h.jsx("div",{className:"text-red-600",children:"Error loading system configuration"}):e||!r?h.jsx("div",{className:"text-center py-12",children:"Loading settings..."}):h.jsx(gl,{children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"System Settings"}),h.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[h.jsx(Na,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("nav",{className:"-mb-px flex space-x-8",children:[h.jsxs("button",{onClick:()=>o("rate-limits"),className:`py-4 px-1 border-b-2 font-medium text-sm ${s==="rate-limits"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[h.jsx(N6,{className:"h-4 w-4 inline-block mr-2"}),"Rate Limits"]}),h.jsxs("button",{onClick:()=>o("security"),className:`py-4 px-1 border-b-2 font-medium text-sm ${s==="security"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[h.jsx(z_,{className:"h-4 w-4 inline-block mr-2"}),"Security"]}),h.jsxs("button",{onClick:()=>o("caching"),className:`py-4 px-1 border-b-2 font-medium text-sm ${s==="caching"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[h.jsx(QC,{className:"h-4 w-4 inline-block mr-2"}),"Caching"]})]})}),h.jsxs("form",{onSubmit:a,className:"space-y-6",children:[s==="rate-limits"&&h.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Rate Limiting"}),h.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Default Rate Limit (requests)"}),h.jsx("input",{type:"number",value:r.rateLimits.default,onChange:c=>l("rateLimits","default",parseInt(c.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Premium Rate Limit (requests)"}),h.jsx("input",{type:"number",value:r.rateLimits.premium,onChange:c=>l("rateLimits","premium",parseInt(c.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Time Period"}),h.jsxs("select",{value:r.rateLimits.period,onChange:c=>l("rateLimits","period",c.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[h.jsx("option",{value:"1m",children:"1 Minute"}),h.jsx("option",{value:"5m",children:"5 Minutes"}),h.jsx("option",{value:"15m",children:"15 Minutes"}),h.jsx("option",{value:"1h",children:"1 Hour"})]})]})]})]}),s==="security"&&h.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Security Settings"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"IP Whitelist (one per line)"}),h.jsx("textarea",{value:r.security.ipWhitelist.join(`
`),onChange:c=>l("security","ipWhitelist",c.target.value.split(`
`)),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Webhook URL"}),h.jsx("input",{type:"url",value:r.security.webhookUrl,onChange:c=>l("security","webhookUrl",c.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"API Key Expiration (days)"}),h.jsx("input",{type:"number",value:r.security.apiKeyExpiration,onChange:c=>l("security","apiKeyExpiration",parseInt(c.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]})]}),s==="caching"&&h.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Cache Configuration"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:r.caching.enabled,onChange:c=>l("caching","enabled",c.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),h.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Enable Caching"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cache TTL (seconds)"}),h.jsx("input",{type:"number",value:r.caching.ttl,onChange:c=>l("caching","ttl",parseInt(c.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Max Cache Size (items)"}),h.jsx("input",{type:"number",value:r.caching.maxSize,onChange:c=>l("caching","maxSize",parseInt(c.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]})]}),h.jsx("div",{className:"flex justify-end",children:h.jsxs("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[h.jsx(YC,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})})}function SY(){return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"API Management"})}),h.jsxs(iR,{defaultValue:"dashboard",className:"space-y-6",children:[h.jsxs(sR,{className:"bg-white p-1 rounded-lg shadow-sm",children:[h.jsx(Or,{value:"dashboard",children:"Dashboard"}),h.jsx(Or,{value:"users",children:"Users"}),h.jsx(Or,{value:"transactions",children:"Transactions"}),h.jsx(Or,{value:"staking",children:"Staking"}),h.jsx(Or,{value:"liquidity",children:"Liquidity"}),h.jsx(Or,{value:"settings",children:"Settings"})]}),h.jsx(jr,{value:"dashboard",children:h.jsx(pY,{})}),h.jsx(jr,{value:"users",children:h.jsx(gY,{})}),h.jsx(jr,{value:"transactions",children:h.jsx(vY,{})}),h.jsx(jr,{value:"staking",children:h.jsx(wY,{})}),h.jsx(jr,{value:"liquidity",children:h.jsx(bY,{})}),h.jsx(jr,{value:"settings",children:h.jsx(AY,{})})]})]})}async function IY(t,e){try{return{user:(await e4($p,t,e)).user,error:null}}catch{return{user:null,error:"Invalid email or password"}}}function TY(){const[t,e]=S.useState(null),[n,r]=S.useState(!1);return{login:async(s,o)=>{e(null),r(!0);try{const{user:a,error:l}=await IY(s,o);return l?(e(l),!1):!0}finally{r(!1)}},error:t,isLoading:n}}function CY(){const[t,e]=S.useState(""),[n,r]=S.useState(""),{login:i,error:s,isLoading:o}=TY(),a=Iu(),l=async c=>{c.preventDefault(),await i(t,n)&&a("/")};return h.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl rounded-lg sm:px-10",children:[h.jsx("div",{className:"mb-6 flex justify-center",children:h.jsx("div",{className:"rounded-full bg-indigo-100 p-3",children:h.jsx(H_,{className:"w-8 h-8 text-indigo-600"})})}),h.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900 mb-8",children:"XLC Admin Portal"}),h.jsxs("form",{className:"space-y-6",onSubmit:l,children:[s&&h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:s}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),h.jsx("input",{id:"email",type:"email",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:t,onChange:c=>e(c.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),h.jsx("input",{id:"password",type:"password",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:n,onChange:c=>r(c.target.value)})]}),h.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:o?"Signing in...":"Sign in"})]})]})}function kY(){const{user:t,isLoading:e}=L_();return Iu(),e?h.jsx("div",{children:"Loading..."}):t?h.jsx(gI,{to:"/",replace:!0}):h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:h.jsx("div",{className:"max-w-md w-full",children:h.jsx(CY,{})})})}function NY({children:t}){const{user:e,isLoading:n}=L_(),r=go();return n?h.jsx("div",{children:"Loading..."}):e?h.jsx(h.Fragment,{children:t}):h.jsx(gI,{to:"/login",state:{from:r},replace:!0})}const PY=new oM;function RY(){return h.jsx(hM,{client:PY,children:h.jsx(y6,{children:h.jsx(v6,{children:h.jsxs(jj,{children:[h.jsxs(Ij,{children:[h.jsx(er,{path:"/login",element:h.jsx(kY,{})}),h.jsxs(er,{element:h.jsx(NY,{children:h.jsx($Q,{})}),children:[h.jsx(er,{path:"/",element:h.jsx(GQ,{})}),h.jsx(er,{path:"/users",element:h.jsx(XQ,{})}),h.jsx(er,{path:"/transactions",element:h.jsx(nK,{})}),h.jsx(er,{path:"/api-management",element:h.jsx(SY,{})}),h.jsx(er,{path:"/token-operations",element:h.jsx(uK,{})}),h.jsx(er,{path:"/distribution",element:h.jsx(cY,{})}),h.jsx(er,{path:"/tokenomics",element:h.jsx(hY,{})})]})]}),h.jsx(aD,{position:"top-right"})]})})})})}oI(document.getElementById("root")).render(h.jsx(S.StrictMode,{children:h.jsx(RY,{})}))});export default OY();
